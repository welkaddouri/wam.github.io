/** Response generated at Thu, 09 Apr 2015 10:00:41 GMT*/

/** Complete build done  for index.waPage/index.package.json */

/** original minified js  - from ../walib/minifiedCoresWAF/desktop.core.min.js at Thu, 09 Apr 2015 09:51:36 GMT */

/** Complete build done  for builder/packages/desktop.core.package.json */

/** original minified js  - from ../walib/WAF/lib/jquery/jquery.min.js */

/*! jQuery v1.7.1 jquery.com | jquery.org/license */
(function(a,b){function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cv(a){if(!ck[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){cl||(cl=c.createElement("iframe"),cl.frameBorder=cl.width=cl.height=0),b.appendChild(cl);if(!cm||!cl.createElement)cm=(cl.contentWindow||cl.contentDocument).document,cm.write((c.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),cm.close();d=cm.createElement(a),cm.body.appendChild(d),e=f.css(d,"display"),b.removeChild(cl)}ck[a]=e}return ck[a]}function cu(a,b){var c={};f.each(cq.concat.apply([],cq.slice(0,b)),function(){c[this]=a});return c}function ct(){cr=b}function cs(){setTimeout(ct,0);return cr=f.now()}function cj(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ci(){try{return new a.XMLHttpRequest}catch(b){}}function cc(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h]);l=k,k=d[g];if(k==="*")k=l;else if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function cb(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function ca(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||bE.test(a)?d(a,e):ca(a+"["+(typeof e=="object"||f.isArray(e)?b:"")+"]",e,c,d)});else if(!c&&b!=null&&typeof b=="object")for(var e in b)ca(a+"["+e+"]",b[e],c,d);else d(a,b)}function b_(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function b$(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bT,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=b$(a,c,d,e,l,g)));(k||!l)&&!g["*"]&&(l=b$(a,c,d,e,"*",g));return l}function bZ(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(bP),e=0,g=d.length,h,i,j;for(;e<g;e++)h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}function bC(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?bx:by,g=0,h=e.length;if(d>0){if(c!=="border")for(;g<h;g++)c||(d-=parseFloat(f.css(a,"padding"+e[g]))||0),c==="margin"?d+=parseFloat(f.css(a,c+e[g]))||0:d-=parseFloat(f.css(a,"border"+e[g]+"Width"))||0;return d+"px"}d=bz(a,b,b);if(d<0||d==null)d=a.style[b]||0;d=parseFloat(d)||0;if(c)for(;g<h;g++)d+=parseFloat(f.css(a,"padding"+e[g]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+e[g]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+e[g]))||0);return d+"px"}function bp(a,b){b.src?f.ajax({url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function bo(a){var b=c.createElement("div");bh.appendChild(b),b.innerHTML=a.outerHTML;return b.firstChild}function bn(a){var b=(a.nodeName||"").toLowerCase();b==="input"?bm(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),bm)}function bm(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function bl(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bk(a,b){var c;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(f.expando)}}function bj(a,b){if(b.nodeType===1&&!!f.hasData(a)){var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i)for(d=0,e=i[c].length;d<e;d++)f.event.add(b,c+(i[c][d].namespace?".":"")+i[c][d].namespace,i[c][d],i[c][d].data)}h.data&&(h.data=f.extend({},h.data))}}function bi(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function T(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function S(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function K(){return!0}function J(){return!1}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?parseFloat(d):j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(!e.isReady){try{c.documentElement.doScroll("left")}catch(a){setTimeout(J,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a==="body"&&!d&&c.body){this.context=c,this[0]=c.body,this.selector=a,this.length=1;return this}if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?g=i.exec(a):g=[null,a,null];if(g&&(g[1]||!d)){if(g[1]){d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes);return e.merge(this,a)}h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}this.context=c,this.selector=a;return this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}if(e.isFunction(a))return f.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")");return d},each:function(a,b){return e.each(this,a,b)},ready:function(a){e.bindReady(),A.add(a);return this},eq:function(a){a=+a;return a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){d=i[c],f=a[c];if(i===f)continue;l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}return i},e.extend({noConflict:function(b){a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(!A){A=e.Callbacks("once memory");if(c.readyState==="complete")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(c){var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c);return d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<h;)if(c.apply(a[g++],d)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":(a+"").replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,d),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};g.guid=a.guid=a.guid||g.guid||e.guid++;return g},access:function(a,c,d,f,g,h){var i=a.length;if(typeof c=="object"){for(var j in c)e.access(a,j,c[j],f,g,d);return a}if(d!==b){f=!h&&f&&e.isFunction(d);for(var k=0;k<i;k++)g(a[k],c,f?d.call(a[k],k,g(a[k],c)):d,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){f&&f instanceof e&&!(f instanceof a)&&(f=a(f));return e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test(" ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",B),e.ready())});return e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++)g=b[d],h=f.type(g),h==="array"?m(g):h==="function"&&(!a.unique||!o.has(g))&&c.push(g)},n=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,l=j||0,j=0,k=c.length;for(;c&&l<k;l++)if(c[l].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}i=!1,c&&(a.once?e===!0?o.disable():c=[]:d&&d.length&&(e=d.shift(),o.fireWith(e[0],e[1])))},o={add:function(){if(c){var a=c.length;m(arguments),i?k=c.length:e&&e!==!0&&(j=a,n(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){i&&f<=k&&(k--,f<=l&&l--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){c=[];return this},disable:function(){c=d=e=b;return this},disabled:function(){return!c},lock:function(){d=b,(!e||e===!0)&&o.disable();return this},locked:function(){return!d},fireWith:function(b,c){d&&(i?a.once||d.push([b,c]):(!a.once||!e)&&n(b,c));return this},fire:function(){o.fireWith(this,arguments);return this},fired:function(){return!!e}};return o};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){i.done(a).fail(b).progress(c);return this},always:function(){i.done.apply(i,arguments).fail.apply(i,arguments);return this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({}),j;for(j in g)i[j]=g[j].fire,i[j+"With"]=g[j].fireWith;i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i);return i},when:function(a){function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}var b=i.call(arguments,0),c=0,d=b.length,e=Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g;g||j.resolveWith(j,b)}else j!==a&&j.resolveWith(j,d?[a]:[]);return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p,q=c.createElement("div"),r=c.documentElement;q.setAttribute("className","t"),q.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=q.getElementsByTagName("*"),e=q.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=q.getElementsByTagName("input")[0],b={leadingWhitespace:q.firstChild.nodeType===3,tbody:!q.getElementsByTagName("tbody").length,htmlSerialize:!!q.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:q.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete q.test}catch(s){b.deleteExpando=!1}!q.addEventListener&&q.attachEvent&&q.fireEvent&&(q.attachEvent("onclick",function(){b.noCloneEvent=!1}),q.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),b.radioValue=i.value==="t",i.setAttribute("checked","checked"),q.appendChild(i),k=c.createDocumentFragment(),k.appendChild(q.lastChild),b.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,k.removeChild(i),k.appendChild(q),q.innerHTML="",a.getComputedStyle&&(j=c.createElement("div"),j.style.width="0",j.style.marginRight="0",q.style.width="2px",q.appendChild(j),b.reliableMarginRight=(parseInt((a.getComputedStyle(j,null)||{marginRight:0}).marginRight,10)||0)===0);if(q.attachEvent)for(o in{submit:1,change:1,focusin:1})n="on"+o,p=n in q,p||(q.setAttribute(n,"return;"),p=typeof q[n]=="function"),b[o+"Bubbles"]=p;k.removeChild(q),k=g=h=j=q=i=null,f(function(){var a,d,e,g,h,i,j,k,m,n,o,r=c.getElementsByTagName("body")[0];!r||(j=1,k="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",m="visibility:hidden;border:0;",n="style='"+k+"border:5px solid #000;padding:0;'",o="<div "+n+"><div></div></div>"+"<table "+n+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",a=c.createElement("div"),a.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+j+"px",r.insertBefore(a,r.firstChild),q=c.createElement("div"),a.appendChild(q),q.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",l=q.getElementsByTagName("td"),p=l[0].offsetHeight===0,l[0].style.display="",l[1].style.display="none",b.reliableHiddenOffsets=p&&l[0].offsetHeight===0,q.innerHTML="",q.style.width=q.style.paddingLeft="1px",f.boxModel=b.boxModel=q.offsetWidth===2,typeof q.style.zoom!="undefined"&&(q.style.display="inline",q.style.zoom=1,b.inlineBlockNeedsLayout=q.offsetWidth===2,q.style.display="",q.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=q.offsetWidth!==2),q.style.cssText=k+m,q.innerHTML=o,d=q.firstChild,e=d.firstChild,h=d.nextSibling.firstChild.firstChild,i={doesNotAddBorder:e.offsetTop!==5,doesAddBorderForTableAndCells:h.offsetTop===5},e.style.position="fixed",e.style.top="20px",i.fixedPosition=e.offsetTop===20||e.offsetTop===15,e.style.position=e.style.top="",d.style.overflow="hidden",d.style.position="relative",i.subtractsBorderForOverflowNotVisible=e.offsetTop===-5,i.doesNotIncludeMarginInBodyOffset=r.offsetTop!==j,r.removeChild(a),q=a=null,f.extend(b,i))});return b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return!!a&&!m(a)},data:function(a,c,d,e){if(!!f.acceptData(a)){var g,h,i,j=f.expando,k=typeof c=="string",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b)return;n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c=="object"||typeof c=="function")e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c);g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d);if(o&&!h[c])return g.events;k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h;return i}},removeData:function(a,b,c){if(!!f.acceptData(a)){var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k])return;if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?m:f.isEmptyObject)(d))return}}if(!c){delete j[k].data;if(!m(j[k]))return}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,h=null;if(typeof a=="undefined"){if(this.length){h=f.data(this[0]);if(this[0].nodeType===1&&!f._data(this[0],"parsedAttrs")){e=this[0].attributes;for(var i=0,j=e.length;i<j;i++)g=e[i].name,g.indexOf("data-")===0&&(g=f.camelCase(g.substring(5)),l(this[0],g,h[g]));f._data(this[0],"parsedAttrs",!0)}}return h}if(typeof a=="object")return this.each(function(){f.data(this,a)});d=a.split("."),d[1]=d[1]?"."+d[1]:"";if(c===b){h=this.triggerHandler("getData"+d[1]+"!",[d[0]]),h===b&&this.length&&(h=f.data(this[0],a),h=l(this[0],a,h));return h===b&&d[1]?this.data(d[0]):h}return this.each(function(){var b=f(this),e=[d[0],c];b.triggerHandler("setData"+d[1]+"!",e),f.data(this,a,c),b.triggerHandler("changeData"+d[1]+"!",e)})},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;if(a){b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){typeof a!="string"&&(c=a,a="fx");if(c===b)return f.queue(this[0],a);return this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx";return this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0))h++,l.add(m);m();return d.promise()}});var o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,a,b,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,a,b,!0,f.prop)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");e.className=f.trim(g)}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className)if(a){h=(" "+g.className+" ").replace(o," ");for(i=0,j=c.length;i<j;i++)h=h.replace(" "+c[i]+" "," ");g.className=f.trim(h)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";if(f.isFunction(a))return this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)});return this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++])i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];{if(!!arguments.length){e=f.isFunction(a);return this.each(function(d){var g=f(this),h;if(this.nodeType===1){e?h=a.call(this,d,g.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type];if(!c||!("set"in c)||c.set(this,h,"value")===b)this.value=h}})}if(g){c=f.valHooks[g.nodeName.toLowerCase()]||f.valHooks[g.type];if(c&&"get"in c&&(d=c.get(g,"value"))!==b)return d;d=g.value;return typeof d=="string"?d.replace(q,""):d==null?"":d}}}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0)return null;c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j)return b;h.push(b)}}if(j&&!h.length&&i.length)return f(i[g]).val();return h},set:function(a,b){var c=f.makeArray(b);f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!!a&&j!==3&&j!==8&&j!==2){if(e&&c in f.attrFn)return f(a)[c](d);if(typeof a.getAttribute=="undefined")return f.prop(a,c,d);i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}if(h&&"set"in h&&i&&(g=h.set(a,d,c))!==b)return g;a.setAttribute(c,""+d);return d}if(h&&"get"in h&&i&&(g=h.get(a,c))!==null)return g;g=a.getAttribute(c);return g===null?b:g}},removeAttr:function(a,b){var c,d,e,g,h=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;h<g;h++)e=d[h],e&&(c=f.propFix[e]||e,f.attr(a,e,""),a.removeAttribute(v?e:c),u.test(e)&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b),c&&(a.value=c);return b}}},value:{get:function(a,b){if(w&&f.nodeName(a,"button"))return w.get(a,b);return b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button"))return w.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]);return d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&(e=g.get(a,c))!==null?e:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase()));return c}},v||(y={name:!0,id:!0},w=f.valHooks.button={get:function(a,c){var d;d=a.getAttributeNode(c);return d&&(y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);e||(e=c.createAttribute(d),a.setAttributeNode(e));return e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c===""){a.setAttribute(b,"auto");return c}}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===""&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex);return null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/\bhover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,G=function(a){var b=F.exec(a);b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)"));return b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};
f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))){d.handler&&(p=d,d=p.handler),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f!="undefined"&&(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(i.elem,arguments):b},i.elem=a),c=f.trim(I(c)).split(" ");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:G(g),namespace:n.join(".")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1)a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!!g&&!!(o=g.events)){b=f.trim(I(b||"")).split(" ");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o)f.event.remove(a,j+b[h],c,d,!0);continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(n=0;n<r.length;n++)s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d==="**"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s));r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered))return;h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h])return;c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"";if(!e){j=f.cache;for(l in j)j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1)return;r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++)m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault();c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n));return c.result}},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=[],j,k,l,m,n,o,p,q,r,s,t;g[0]=c,c.delegateTarget=this;if(e&&!c.target.disabled&&(!c.button||c.type!=="click")){m=f(this),m.context=this.ownerDocument||this;for(l=c.target;l!=this;l=l.parentNode||this){o={},q=[],m[0]=l;for(j=0;j<e;j++)r=d[j],s=r.selector,o[s]===b&&(o[s]=r.quick?H(l,r.quick):m.is(s)),o[s]&&q.push(r);q.length&&i.push({elem:l,matches:q})}}d.length>e&&i.push({elem:this,matches:d.slice(e)});for(j=0;j<i.length&&!c.isPropagationStopped();j++){p=i[j],c.currentTarget=p.elem;for(k=0;k<p.matches.length&&!c.isImmediatePropagationStopped();k++){r=p.matches[k];if(h||!c.namespace&&!r.namespace||c.namespace_re&&c.namespace_re.test(r.namespace))c.data=r.data,c.handleObj=r,n=((f.event.special[r.origType]||{}).handle||r.handler).apply(p.elem,g),n!==b&&(c.result=n,n===!1&&(c.preventDefault(),c.stopPropagation()))}}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0);return a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;)e=i[--d],a[e]=g[e];a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey);return h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d))a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b;return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))});return!1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,"._change");return z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a=="object"){typeof c!="string"&&(d=c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=J;else if(!e)return this;g===1&&(h=e,e=function(a){f().off(a);return h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++));return this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;f(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler);return this}if(typeof a=="object"){for(var g in a)this.off(g,c,a[g]);return this}if(c===!1||typeof c=="function")d=c,c=b;d===!1&&(d=J);return this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){f(this.context).on(a,this.selector,b,c);return this},die:function(a,b){f(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault();return b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}e[h]=k}}}function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){i=!1;return 0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!="string")return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(""),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b))if(w.length===2&&o.relative[w[0]])j=y(w[0]+w[1],d,f);else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length)b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length===1&&(w[0]==="~"||w[0]==="+")&&d.parentNode?d.parentNode:d,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length)q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",r==null&&(r=d),o.relative[q](k,r,v)}else k=w=[]}k||(k=j),k||m.error(q||b);if(g.call(k)==="[object Array]")if(!u)e.push.apply(e,k);else if(d&&d.nodeType===1)for(t=0;k[t]!=null;t++)k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t]);else for(t=0;k[t]!=null;t++)k[t]&&k[t].nodeType===1&&e.push(j[t]);else s(k,e);l&&(m(l,h,e,f),m.uniqueSort(e));return e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g)return[];break}}if(a===q)if(g==null)m.error(a);else break;q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not")if((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))b[3]=m(b[3],null,null,c);else{var g=m.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return!1}else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":c=b[2],e=b[3];if(c===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[d]=f}j=a.nodeIndex-e;return c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));var s=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){if(a===b){h=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b){h=!0;return 0}if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return s(e.getElementsByTagName(b),f);if(h[2]&&o.find.CLASS&&e.getElementsByClassName)return s(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return s([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return s([],f);if(i.id===h[3])return s([i],f)}try{return s(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p)return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}catch(r){}finally{l||k.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)m[e]=a[e];b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var y=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.POS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}c=c.length>1?f.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){if(!a)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof a=="string")return f.inArray(this[0],f(a));return f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);L.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse());return this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var V="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp("<(?:"+V+")","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){if(f.isFunction(a))return this.each(function(b){var c=f(this);c.text(a.call(this,b,c.text()))});if(typeof a!="object"&&a!==b)return this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a));return f.text(this)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapInner(a.call(this,b))});return this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,f.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function()
{for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(W,""):null;if(typeof a=="string"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Y,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(f.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else f.isFunction(a)?this.each(function(b){var c=f(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a))return this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))});typeof a!="string"&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&bd.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++)d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}k.length&&f.each(k,bp)}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j=="string"&&j.length<512&&i===c&&j.charAt(0)==="<"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1);return{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1){e[b](this[0]);return this}for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||!bc.test("<"+a.nodeName)?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g)e[g]&&bk(d[g],e[g])}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g)bj(d[g],e[g])}}d=e=null;return h},clean:function(a,b,d,e){var g;b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);var h=[],i;for(var j=0,k;(k=a[j])!=null;j++){typeof k=="number"&&(k+="");if(!k)continue;if(typeof k=="string")if(!_.test(k))k=b.createTextNode(k);else{k=k.replace(Y,"<$1></$2>");var l=(Z.exec(k)||["",""])[1].toLowerCase(),m=bg[l]||bg._default,n=m[0],o=b.createElement("div");b===c?bh.appendChild(o):U(b).appendChild(o),o.innerHTML=m[1]+k+m[2];while(n--)o=o.lastChild;if(!f.support.tbody){var p=$.test(k),q=l==="table"&&!p?o.firstChild&&o.firstChild.childNodes:m[1]==="<table>"&&!p?o.childNodes:[];for(i=q.length-1;i>=0;--i)f.nodeName(q[i],"tbody")&&!q[i].childNodes.length&&q[i].parentNode.removeChild(q[i])}!f.support.leadingWhitespace&&X.test(k)&&o.insertBefore(b.createTextNode(X.exec(k)[0]),o.firstChild),k=o.childNodes}var r;if(!f.support.appendChecked)if(k[0]&&typeof (r=k.length)=="number")for(i=0;i<r;i++)bn(k[i]);else bn(k);k.nodeType?h.push(k):h=f.merge(h,k)}if(d){g=function(a){return!a.type||be.test(a.type)};for(j=0;h[j];j++)if(e&&f.nodeName(h[j],"script")&&(!h[j].type||h[j].type.toLowerCase()==="text/javascript"))e.push(h[j].parentNode?h[j].parentNode.removeChild(h[j]):h[j]);else{if(h[j].nodeType===1){var s=f.grep(h[j].getElementsByTagName("script"),g);h.splice.apply(h,[j+1,0].concat(s))}d.appendChild(h[j])}}return h},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()])continue;c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bq=/alpha\([^)]*\)/i,br=/opacity=([^)]*)/,bs=/([A-Z]|^ms)/g,bt=/^-?\d+(?:px)?$/i,bu=/^-?\d/,bv=/^([\-+])=([\-+.\de]+)/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Left","Right"],by=["Top","Bottom"],bz,bA,bB;f.fn.css=function(a,c){if(arguments.length===2&&c===b)return this;return f.access(this,a,c,!0,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)})},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bz(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b){if(k&&"get"in k&&(g=k.get(a,!1,e))!==b)return g;return j[c]}h=typeof d,h==="string"&&(g=bv.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number");if(d==null||h==="number"&&isNaN(d))return;h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(l){}}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(a,!0,d))!==b)return e;if(bz)return bz(a,c)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),f.curCSS=f.css,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){var e;if(c){if(a.offsetWidth!==0)return bC(a,b,d);f.swap(a,bw,function(){e=bC(a,b,d)});return e}},set:function(a,b){if(!bt.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return br.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(bq,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bq.test(g)?g.replace(bq,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){var c;f.swap(a,{display:"inline-block"},function(){b?c=bz(a,"margin-right","marginRight"):c=a.style.marginRight});return c}})}),c.defaultView&&c.defaultView.getComputedStyle&&(bA=function(a,b){var c,d,e;b=b.replace(bs,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b)));return c}),c.documentElement.currentStyle&&(bB=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;f===null&&g&&(e=g[b])&&(f=e),!bt.test(f)&&bu.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d));return f===""?"auto":f}),bz=bA||bB,f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});var bD=/%20/g,bE=/\[\]$/,bF=/\r?\n/g,bG=/#.*$/,bH=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bI=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bJ=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bK=/^(?:GET|HEAD)$/,bL=/^\/\//,bM=/\?/,bN=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bO=/^(?:select|textarea)/i,bP=/\s+/,bQ=/([?&])_=[^&]*/,bR=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bS=f.fn.load,bT={},bU={},bV,bW,bX=["*/"]+["*"];try{bV=e.href}catch(bY){bV=c.createElement("a"),bV.href="",bV=bV.href}bW=bR.exec(bV.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bS)return bS.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bN,"")).find(g):c)),d&&i.each(d,[c,b,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bO.test(this.nodeName)||bI.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bF,"\r\n")}}):{name:b.name,value:c.replace(bF,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){f.isFunction(d)&&(g=g||e,e=d,d=b);return f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){b?b_(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b_(a,b);return a},ajaxSettings:{url:bV,isLocal:bJ.test(bW[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bX},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bZ(bT),ajaxTransport:bZ(bU),ajax:function(a,c){function w(a,c,l,m){if(s!==2){s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?cb(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader("Last-Modified"))f.lastModified[k]=y;if(z=v.getResponseHeader("Etag"))f.etag[k]=z}if(a===304)w="notmodified",o=!0;else try{r=cc(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}}else{u=w;if(!w||a)w="error",a<0&&(a=0)}v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bH.exec(n))o[c[1].toLowerCase()]=c[2]}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){s||(d.mimeType=a);return this},abort:function(a){a=a||"abort",p&&p.abort(a),w(0,a);return this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2)for(b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b)}return this},d.url=((a||d.url)+"").replace(bG,"").replace(bL,bW[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bP),d.crossDomain==null&&(r=bR.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bW[1]&&r[2]==bW[2]&&(r[3]||(r[1]==="http:"?80:443))==(bW[3]||(bW[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),b$(bT,d,c,v);if(s===2)return!1;t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bK.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(bM.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bQ,"$1_="+x);d.url=y+(y===d.url?(bM.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+bX+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)v.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(e,v,d)===!1||s===2)){v.abort();return!1}for(u in{success:1,error:1,complete:1})v[u](d[u]);p=b$(bU,d,c,v);if(!p)w(-1,"No Transport");else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(s<2)w(-1,z);else throw z}}return v},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)ca(g,a[g],c,e);return d.join("&").replace(bD,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cd=f.now(),ce=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cd++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(ce.test(b.url)||e&&ce.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";b.jsonp!==!1&&(j=j.replace(ce,l),b.url===j&&(e&&(k=k.replace(ce,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){g||f.error(h+" was not called");return g[0]},b.dataTypes[0]="json";return"script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var cf=a.ActiveXObject?function(){for(var a in ch)ch[a](0,1)}:!1,cg=0,ch;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&ci()||cj()}:ci,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,cf&&delete ch[i]);if(e)h.readyState!==4&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n),m.text=h.responseText;try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cg,cf&&(ch||(ch={},f(a).unload(cf)),ch[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var ck={},cl,cm,cn=/^(?:toggle|show|hide)$/,co=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,cp,cq=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cr;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(cu("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),e===""&&f.css(d,"display")==="none"&&f._data(d,"olddisplay",cv(d.nodeName)));for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=f._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(cu("hide",3),a,b,c);var d,e,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(cu("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]),h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||cv(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new f.fx(this,b,i),h=a[i],cn.test(h)?(o=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),o?(f._data(this,"toggle"+i,o==="show"?"hide":"show"),j[o]()):j[h]()):(k=co.exec(h),l=j.cur(),k?(m=parseFloat(k[2]),n=k[3]||(f.cssNumber[i]?"":"px"),n!=="px"&&(f.style(this,i,(m||1)+n),l=(m||1)/j.cur()*l,f.style(this,i,l+n)),k[1]&&(m=(k[1]==="-="?-1:1)*m+l),j.custom(l,m,n)):j.custom(l,h,""));return!0}var e=f.speed(b,c,d);if(f.isEmptyObject(a))return this.each(e.complete,[!1]);a=f.extend({},a);return e.queue===!1?this.each(g):this.queue(e.queue,g)},stop:function(a,c,d){typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]);return this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null)for(b in g)g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b);else g[b=a+".run"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:cu("show",1),slideUp:cu("hide",1),slideToggle:cu("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)};return d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cr||cs(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){e.options.hide&&f._data(e.elem,"fxshow"+e.prop)===b&&f._data(e.elem,"fxshow"+e.prop,e.start)},h()&&f.timers.push(h)&&!cp&&(cp=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cr||cs(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(g=!1);if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(cp),cp=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(["width","height"],function(a,b){f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?f.fn.offset=function(a){var b=this[0],c;if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,g=e.documentElement;if(!c||!f.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};var h=e.body,i=cy(e),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||f.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||f.support.boxModel&&g.scrollLeft||h.scrollLeft,n=c.top+l-j,o=c.left+m-k;return{top:n,left:o}}:f.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);var c,d=b.offsetParent,e=b,g=b.ownerDocument,h=g.documentElement,i=g.body,j=g.defaultView,k=j?j.getComputedStyle(b,null):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;while((b=b.parentNode)&&b!==i&&b!==h){if(f.support.fixedPosition&&k.position==="fixed")break;c=j?j.getComputedStyle(b,null):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===d&&(l+=b.offsetTop,m+=b.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(b.nodeName))&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),k=c}if(k.position==="relative"||k.position==="static")l+=i.offsetTop,m+=i.offsetLeft;f.support.fixedPosition&&k.position==="fixed"&&(l+=Math.max(h.scrollTop,i.scrollTop),m+=Math.max(h.scrollLeft,i.scrollLeft));return{top:l,left:m}},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,"position")==="static")a=a.offsetParent;return a})}}),f.each(["Left","Top"],function(a,c){var d="scroll"+c;f.fn[d]=function(c){var e,g;if(c===b){e=this[0];if(!e)return null;g=cy(e);return g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:e[d]}return this.each(function(){g=cy(this),g?g.scrollTo(a?f(g).scrollLeft():c,a?c:f(g).scrollTop()):this[d]=c})}}),f.each(["Height","Width"],function(a,c){var d=c.toLowerCase();f.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,d,"padding")):this[d]():null},f.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,d,a?"margin":"border")):this[d]():null},f.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(f.isFunction(a))return this.each(function(b){var c=f(this);c[d](a.call(this,b,c[d]()))});if(f.isWindow(e)){var g=e.document.documentElement["client"+c],h=e.document.body;return e.document.compatMode==="CSS1Compat"&&g||h&&h["client"+c]||g}if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var i=f.css(e,d),j=parseFloat(i);return f.isNumeric(j)?j:i}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);;

/** original minified js  - from ../walib/WAF/lib/hammer/jquery.hammer.min.js */

/*! jQuery plugin for Hammer.JS - v1.1.3 - 2014-05-20
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */

!function(a,b){"use strict";function c(){e.READY||(t.determineEventTypes(),s.each(e.gestures,function(a){v.register(a)}),t.onTouch(e.DOCUMENT,o,v.detect),t.onTouch(e.DOCUMENT,p,v.detect),e.READY=!0)}function d(a,c){Date.now||(Date.now=function(){return(new Date).getTime()}),a.utils.each(["on","off"],function(d){a.utils[d]=function(a,e,f){c(a)[d](e,function(a){var d=c.extend({},a.originalEvent,a);d.button===b&&(d.button=a.which-1),f.call(this,d)})}}),a.Instance.prototype.trigger=function(a,b){var d=c(this.element);return d.has(b.target).length&&(d=c(b.target)),d.trigger({type:a,gesture:b})},c.fn.hammer=function(b){return this.each(function(){var d=c(this),e=d.data("hammer");e?e&&b&&a.utils.extend(e.options,b):d.data("hammer",new a(this,b||{}))})}}var e=function w(a,b){return new w.Instance(a,b||{})};e.VERSION="1.1.3",e.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},e.DOCUMENT=document,e.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,e.HAS_TOUCHEVENTS="ontouchstart"in a,e.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),e.NO_MOUSEEVENTS=e.HAS_TOUCHEVENTS&&e.IS_MOBILE||e.HAS_POINTEREVENTS,e.CALCULATE_INTERVAL=25;var f={},g=e.DIRECTION_DOWN="down",h=e.DIRECTION_LEFT="left",i=e.DIRECTION_UP="up",j=e.DIRECTION_RIGHT="right",k=e.POINTER_MOUSE="mouse",l=e.POINTER_TOUCH="touch",m=e.POINTER_PEN="pen",n=e.EVENT_START="start",o=e.EVENT_MOVE="move",p=e.EVENT_END="end",q=e.EVENT_RELEASE="release",r=e.EVENT_TOUCH="touch";e.READY=!1,e.plugins=e.plugins||{},e.gestures=e.gestures||{};var s=e.utils={extend:function(a,c,d){for(var e in c)!c.hasOwnProperty(e)||a[e]!==b&&d||(a[e]=c[e]);return a},on:function(a,b,c){a.addEventListener(b,c,!1)},off:function(a,b,c){a.removeEventListener(b,c,!1)},each:function(a,c,d){var e,f;if("forEach"in a)a.forEach(c,d);else if(a.length!==b){for(e=0,f=a.length;f>e;e++)if(c.call(d,a[e],e,a)===!1)return}else for(e in a)if(a.hasOwnProperty(e)&&c.call(d,a[e],e,a)===!1)return},inStr:function(a,b){return a.indexOf(b)>-1},inArray:function(a,b){if(a.indexOf){var c=a.indexOf(b);return-1===c?!1:c}for(var d=0,e=a.length;e>d;d++)if(a[d]===b)return d;return!1},toArray:function(a){return Array.prototype.slice.call(a,0)},hasParent:function(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1},getCenter:function(a){var b=[],c=[],d=[],e=[],f=Math.min,g=Math.max;return 1===a.length?{pageX:a[0].pageX,pageY:a[0].pageY,clientX:a[0].clientX,clientY:a[0].clientY}:(s.each(a,function(a){b.push(a.pageX),c.push(a.pageY),d.push(a.clientX),e.push(a.clientY)}),{pageX:(f.apply(Math,b)+g.apply(Math,b))/2,pageY:(f.apply(Math,c)+g.apply(Math,c))/2,clientX:(f.apply(Math,d)+g.apply(Math,d))/2,clientY:(f.apply(Math,e)+g.apply(Math,e))/2})},getVelocity:function(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}},getAngle:function(a,b){var c=b.clientX-a.clientX,d=b.clientY-a.clientY;return 180*Math.atan2(d,c)/Math.PI},getDirection:function(a,b){var c=Math.abs(a.clientX-b.clientX),d=Math.abs(a.clientY-b.clientY);return c>=d?a.clientX-b.clientX>0?h:j:a.clientY-b.clientY>0?i:g},getDistance:function(a,b){var c=b.clientX-a.clientX,d=b.clientY-a.clientY;return Math.sqrt(c*c+d*d)},getScale:function(a,b){return a.length>=2&&b.length>=2?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return a.length>=2&&b.length>=2?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a==i||a==g},setPrefixedCss:function(a,b,c,d){var e=["","Webkit","Moz","O","ms"];b=s.toCamelCase(b);for(var f=0;f<e.length;f++){var g=b;if(e[f]&&(g=e[f]+g.slice(0,1).toUpperCase()+g.slice(1)),g in a.style){a.style[g]=(null==d||d)&&c||"";break}}},toggleBehavior:function(a,b,c){if(b&&a&&a.style){s.each(b,function(b,d){s.setPrefixedCss(a,d,b,c)});var d=c&&function(){return!1};"none"==b.userSelect&&(a.onselectstart=d),"none"==b.userDrag&&(a.ondragstart=d)}},toCamelCase:function(a){return a.replace(/[_-]([a-z])/g,function(a){return a[1].toUpperCase()})}};e.Instance=function(a,b){var d=this;c(),this.element=a,this.enabled=!0,s.each(b,function(a,c){delete b[c],b[s.toCamelCase(c)]=a}),this.options=s.extend(s.extend({},e.defaults),b||{}),this.options.behavior&&s.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=t.onTouch(a,n,function(a){d.enabled&&a.eventType==n?v.startDetect(d,a):a.eventType==r&&v.detect(a)}),this.eventHandlers=[]},e.Instance.prototype={on:function(a,b){var c=this;return t.on(c.element,a,b,function(a){c.eventHandlers.push({gesture:a,handler:b})}),c},off:function(a,b){var c=this;return t.off(c.element,a,b,function(a){var d=s.inArray({gesture:a,handler:b});d!==!1&&c.eventHandlers.splice(d,1)}),c},trigger:function(a,b){b||(b={});var c=e.DOCUMENT.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=b;var d=this.element;return s.hasParent(b.target,d)&&(d=b.target),d.dispatchEvent(c),this},enable:function(a){return this.enabled=a,this},dispose:function(){var a,b;for(s.toggleBehavior(this.element,this.options.behavior,!1),a=-1;b=this.eventHandlers[++a];)s.off(this.element,b.gesture,b.handler);return this.eventHandlers=[],t.off(this.element,f[n],this.eventStartHandler),null}};var t=e.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(a,b,c,d){var e=b.split(" ");s.each(e,function(b){s.on(a,b,c),d&&d(b)})},off:function(a,b,c,d){var e=b.split(" ");s.each(e,function(b){s.off(a,b,c),d&&d(b)})},onTouch:function(a,b,c){var d=this,g=function(f){var g,h=f.type.toLowerCase(),i=e.HAS_POINTEREVENTS,j=s.inStr(h,"mouse");j&&d.preventMouseEvents||(j&&b==n&&0===f.button?(d.preventMouseEvents=!1,d.shouldDetect=!0):i&&b==n?d.shouldDetect=1===f.buttons||u.matchType(l,f):j||b!=n||(d.preventMouseEvents=!0,d.shouldDetect=!0),i&&b!=p&&u.updatePointer(b,f),d.shouldDetect&&(g=d.doDetect.call(d,f,b,a,c)),g==p&&(d.preventMouseEvents=!1,d.shouldDetect=!1,u.reset()),i&&b==p&&u.updatePointer(b,f))};return this.on(a,f[b],g),g},doDetect:function(a,b,c,d){var e=this.getTouchList(a,b),f=e.length,g=b,h=e.trigger,i=f;b==n?h=r:b==p&&(h=q,i=e.length-(a.changedTouches?a.changedTouches.length:1)),i>0&&this.started&&(g=o),this.started=!0;var j=this.collectEventData(c,g,e,a);return b!=p&&d.call(v,j),h&&(j.changedLength=i,j.eventType=h,d.call(v,j),j.eventType=g,delete j.changedLength),g==p&&(d.call(v,j),this.started=!1),g},determineEventTypes:function(){var b;return b=e.HAS_POINTEREVENTS?a.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:e.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],f[n]=b[0],f[o]=b[1],f[p]=b[2],f},getTouchList:function(a,b){if(e.HAS_POINTEREVENTS)return u.getTouchList();if(a.touches){if(b==o)return a.touches;var c=[],d=[].concat(s.toArray(a.touches),s.toArray(a.changedTouches)),f=[];return s.each(d,function(a){s.inArray(c,a.identifier)===!1&&f.push(a),c.push(a.identifier)}),f}return a.identifier=1,[a]},collectEventData:function(a,b,c,d){var e=l;return s.inStr(d.type,"mouse")||u.matchType(k,d)?e=k:u.matchType(m,d)&&(e=m),{center:s.getCenter(c),timeStamp:Date.now(),target:d.target,touches:c,eventType:b,pointerType:e,srcEvent:d,preventDefault:function(){var a=this.srcEvent;a.preventManipulation&&a.preventManipulation(),a.preventDefault&&a.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return v.stopDetect()}}}},u=e.PointerEvent={pointers:{},getTouchList:function(){var a=[];return s.each(this.pointers,function(b){a.push(b)}),a},updatePointer:function(a,b){a==p||a!=p&&1!==b.buttons?delete this.pointers[b.pointerId]:(b.identifier=b.pointerId,this.pointers[b.pointerId]=b)},matchType:function(a,b){if(!b.pointerType)return!1;var c=b.pointerType,d={};return d[k]=c===(b.MSPOINTER_TYPE_MOUSE||k),d[l]=c===(b.MSPOINTER_TYPE_TOUCH||l),d[m]=c===(b.MSPOINTER_TYPE_PEN||m),d[a]},reset:function(){this.pointers={}}},v=e.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(a,b){this.current||(this.stopped=!1,this.current={inst:a,startEvent:s.extend({},b),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(b))},detect:function(a){if(this.current&&!this.stopped){a=this.extendEventData(a);var b=this.current.inst,c=b.options;return s.each(this.gestures,function(d){!this.stopped&&b.enabled&&c[d.name]&&d.handler.call(d,a,b)},this),this.current&&(this.current.lastEvent=a),a.eventType==p&&this.stopDetect(),a}},stopDetect:function(){this.previous=s.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(a,b,c,d,f){var g=this.current,h=!1,i=g.lastCalcEvent,j=g.lastCalcData;i&&a.timeStamp-i.timeStamp>e.CALCULATE_INTERVAL&&(b=i.center,c=a.timeStamp-i.timeStamp,d=a.center.clientX-i.center.clientX,f=a.center.clientY-i.center.clientY,h=!0),(a.eventType==r||a.eventType==q)&&(g.futureCalcEvent=a),(!g.lastCalcEvent||h)&&(j.velocity=s.getVelocity(c,d,f),j.angle=s.getAngle(b,a.center),j.direction=s.getDirection(b,a.center),g.lastCalcEvent=g.futureCalcEvent||a,g.futureCalcEvent=a),a.velocityX=j.velocity.x,a.velocityY=j.velocity.y,a.interimAngle=j.angle,a.interimDirection=j.direction},extendEventData:function(a){var b=this.current,c=b.startEvent,d=b.lastEvent||c;(a.eventType==r||a.eventType==q)&&(c.touches=[],s.each(a.touches,function(a){c.touches.push({clientX:a.clientX,clientY:a.clientY})}));var e=a.timeStamp-c.timeStamp,f=a.center.clientX-c.center.clientX,g=a.center.clientY-c.center.clientY;return this.getCalculatedData(a,d.center,e,f,g),s.extend(a,{startEvent:c,deltaTime:e,deltaX:f,deltaY:g,distance:s.getDistance(c.center,a.center),angle:s.getAngle(c.center,a.center),direction:s.getDirection(c.center,a.center),scale:s.getScale(c.touches,a.touches),rotation:s.getRotation(c.touches,a.touches)}),a},register:function(a){var c=a.defaults||{};return c[a.name]===b&&(c[a.name]=!0),s.extend(e.defaults,c,!0),a.index=a.index||1e3,this.gestures.push(a),this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0}),this.gestures}};!function(a){function b(b,d){var e=v.current;if(!(d.options.dragMaxTouches>0&&b.touches.length>d.options.dragMaxTouches))switch(b.eventType){case n:c=!1;break;case o:if(b.distance<d.options.dragMinDistance&&e.name!=a)return;var f=e.startEvent.center;if(e.name!=a&&(e.name=a,d.options.dragDistanceCorrection&&b.distance>0)){var k=Math.abs(d.options.dragMinDistance/b.distance);f.pageX+=b.deltaX*k,f.pageY+=b.deltaY*k,f.clientX+=b.deltaX*k,f.clientY+=b.deltaY*k,b=v.extendEventData(b)}(e.lastEvent.dragLockToAxis||d.options.dragLockToAxis&&d.options.dragLockMinDistance<=b.distance)&&(b.dragLockToAxis=!0);var l=e.lastEvent.direction;b.dragLockToAxis&&l!==b.direction&&(b.direction=s.isVertical(l)?b.deltaY<0?i:g:b.deltaX<0?h:j),c||(d.trigger(a+"start",b),c=!0),d.trigger(a,b),d.trigger(a+b.direction,b);var m=s.isVertical(b.direction);(d.options.dragBlockVertical&&m||d.options.dragBlockHorizontal&&!m)&&b.preventDefault();break;case q:c&&b.changedLength<=d.options.dragMaxTouches&&(d.trigger(a+"end",b),c=!1);break;case p:c=!1}}var c=!1;e.gestures.Drag={name:a,index:50,handler:b,defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}}("drag"),e.gestures.Gesture={name:"gesture",index:1337,handler:function(a,b){b.trigger(this.name,a)}},function(a){function b(b,d){var e=d.options,f=v.current;switch(b.eventType){case n:clearTimeout(c),f.name=a,c=setTimeout(function(){f&&f.name==a&&d.trigger(a,b)},e.holdTimeout);break;case o:b.distance>e.holdThreshold&&clearTimeout(c);break;case q:clearTimeout(c)}}var c;e.gestures.Hold={name:a,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:b}}("hold"),e.gestures.Release={name:"release",index:1/0,handler:function(a,b){a.eventType==q&&b.trigger(this.name,a)}},e.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(a,b){if(a.eventType==q){var c=a.touches.length,d=b.options;if(c<d.swipeMinTouches||c>d.swipeMaxTouches)return;(a.velocityX>d.swipeVelocityX||a.velocityY>d.swipeVelocityY)&&(b.trigger(this.name,a),b.trigger(this.name+a.direction,a))}}},function(a){function b(b,d){var e,f,g=d.options,h=v.current,i=v.previous;switch(b.eventType){case n:c=!1;break;case o:c=c||b.distance>g.tapMaxDistance;break;case p:!s.inStr(b.srcEvent.type,"cancel")&&b.deltaTime<g.tapMaxTime&&!c&&(e=i&&i.lastEvent&&b.timeStamp-i.lastEvent.timeStamp,f=!1,i&&i.name==a&&e&&e<g.doubleTapInterval&&b.distance<g.doubleTapDistance&&(d.trigger("doubletap",b),f=!0),(!f||g.tapAlways)&&(h.name=a,d.trigger(h.name,b)))}}var c=!1;e.gestures.Tap={name:a,index:100,handler:b,defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}}("tap"),e.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(a,b){return b.options.preventMouse&&a.pointerType==k?void a.stopDetect():(b.options.preventDefault&&a.preventDefault(),void(a.eventType==r&&b.trigger("touch",a)))}},function(a){function b(b,d){switch(b.eventType){case n:c=!1;break;case o:if(b.touches.length<2)return;var e=Math.abs(1-b.scale),f=Math.abs(b.rotation);if(e<d.options.transformMinScale&&f<d.options.transformMinRotation)return;v.current.name=a,c||(d.trigger(a+"start",b),c=!0),d.trigger(a,b),f>d.options.transformMinRotation&&d.trigger("rotate",b),e>d.options.transformMinScale&&(d.trigger("pinch",b),d.trigger("pinch"+(b.scale<1?"in":"out"),b));break;case q:c&&b.changedLength<2&&(d.trigger(a+"end",b),c=!1)}}var c=!1;e.gestures.Transform={name:a,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:b}}("transform"),a.Hammer=e,"undefined"!=typeof module&&module.exports&&(module.exports=e),"function"==typeof define&&define.amd?define(["jquery"],function(b){return d(a.Hammer,b)}):d(a.Hammer,a.jQuery||a.Zepto)}(window);
;

/** minified js  - from ../walib/WAF/Core/Native/Rest.js */

WAF.core.restConnect={},WAF.core.restConnect.httpMethods={_post:"POST",_get:"GET",_put:"PUT",_delete:"DELETE"},WAF.core.restConnect.restActions={_retrieve:"retrieve",_create:"create",_update:"update",_delete:"delete"},WAF.core.restConnect.queryOptions={_expand:"$expand",_orderby:"$orderby",_skip:"$skip",_top:"$top",_filter:"$filter"},WAF.core.restConnect.filterOperators={_equal:"eq",_notequal:"neq",_greaterthan:"gt",_greaterthanorequal:"gteq",_lessthan:"lt",_lessthanorequal:"lteq",_logicaland:"and",_logicalor:"or",_logicalnot:"not"},WAF.core.restConnect.filterArithmeticOperators={_add:"add",_sub:"sub",_mul:"mul",_div:"div",_mod:"mod"},WAF.core.baseURL = 'http://addons.wakanda.org' , WAF.core.restConnect.defaultService = 'rest' , WAF.core.restConnect.baseURL = 'http://addons.wakanda.org',WAF.core.restConnect.standardErrors={_hostnamemissing:{key:"1",string:"The hostname is missing."},_servicemissing:{key:"2",string:"The service is missing."},_httpmethodundefined:{key:"3",string:"The HTTP method is undefined."},_wronghttpmethod:{key:"4",string:"The HTTP method get doesn't support POST data."}},WAF.core.restConnect.getXMLHttpRequest=function(){var e=!1;return window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject,e},WAF.core.restConnect.restRequest=function(e){this.connectionMode=e,this.fullURL=null,this.httpMethod=WAF.core.restConnect.httpMethods._get,this.hostname="",this.app=WAF.config.pattern,this.service=WAF.core.restConnect.defaultService,this.resource="",this.attributesRequested=undefined,this.keys=[],this.expand=[],this.orderby=[],this.skip=null,this.top=null,this.filter=null,this.method=null,this.metadata=null,this.handler=null,this.postdata=null,this.queryPlan=null,this.progressInfo=null,this.distinct=!1,this.refreshOnly=!1,this.error={key:0,string:""},this.orderByArgsToString=function(){var e="";if(typeof this.orderby=="string")return this.orderby;this.orderby.length>0&&(e=this.orderby[0]);for(var t=1;t<this.orderby.length;t++)e+=","+this.orderby[t];return e},this.go=function(e){var t=this.handler,n= WAF.core.restConnect.baseURL +"/";this.app!=null&&(n+=this.app+"/");if(this.service==="")return this.error=WAF.core.restConnect.standardErrors._servicemissing,!1;n+=this.service+"/";if(this.resource!==""){n+=this.resource+"/";if(this.keys.length>0){n+="(";for(var r=0;r<this.keys.length;r++)n+=this.keys[r],r<this.keys.length-1&&(n+=",");n+=")"}}var i=!1;this.dataURI&&(n= WAF.core.restConnect.baseURL + this.dataURI,i=n.indexOf("?")!==-1,i||(n+="/"));var s=!i;if(this.attributesRequested!=undefined){if(this.attributesRequested.length>0){n+=this.attributesRequested[0];for(var r=1;r<this.attributesRequested.length;r++)n+=","+this.attributesRequested[r]}n+="/"}var o="";this.skip&&(o+=(i?"&$skip=":"$skip=")+this.skip,i=!0),this.top&&(o+=(i?"&$top=":"$top=")+this.top,i=!0),this.filter&&(o+=(i?"&$filter=":"$filter=")+encodeURIComponent("'"+this.filter+"'"),i=!0),this.params&&(o+=(i?"&$params=":"$params=")+encodeURIComponent("'"+JSON.stringify(this.params)+"'"),i=!0),this.method&&(o+=(i?"&$method=":"$method=")+this.method,i=!0),this.asArray&&(o+=(i?"&$asArray=":"$asArray=")+"true",i=!0),this.metadata&&(o+=(i?"&$metadata=":"$metadata=")+this.metadata,i=!0),this.mustlock!=null&&(o+=(i?"&$lock=":"$lock=")+this.mustlock,i=!0),this.distinct&&(o+=(i?"&$distinct=":"$distinct=")+this.distinct,i=!0),this.findKey!=null&&(o+=(i?"&$findKey=":"$findKey=")+encodeURIComponent(""+this.findKey),i=!0),this.reselect!=null&&(o+=(i?"&$reselect=":"$reselect=")+encodeURIComponent(""+this.reselect),i=!0),this.queryPlan&&(o+=i?"&$queryplan=true&querypath=true":"$queryplan=true&querypath=true",i=!0),this.progressInfo&&(o+=(i?"&$progressinfo=":"$progressinfo=")+encodeURIComponent(this.progressInfo),i=!0),this.timeout&&(o+=(i?"&$timeout=":"$timeout=")+this.timeout,i=!0),this.savedQueryString&&(o+=(i?"&$savedfilter=":"$savedfilter=")+encodeURIComponent("'"+this.savedQueryString+"'"),i=!0),this.savedOrderby&&(o+=(i?"&$savedorderby=":"$savedorderby=")+this.savedOrderby,i=!0),this.refreshOnly&&(o+=(i?"&$refresh=":"$refresh=")+this.refreshOnly,i=!0),this.atOnce&&(o+=(i?"&$atOnce=":"$atOnce=")+this.atOnce,i=!0),this.retainPositions&&(o+=(i?"&$retainPositions=":"$retainPositions=")+this.retainPositions,i=!0),this.removeAtPos!=null&&(o+=(i?"&$removeFromSet=":"$removeFromSet=")+this.removeAtPos,i=!0),this.removeReferenceOnly!=null&&(o+=(i?"&$removeRefOnly=":"$removeRefOnly=")+this.removeReferenceOnly,i=!0),this.filterAttributes!=null&&(o+=(i?"&$attributes=":"$attributes=")+encodeURIComponent(this.filterAttributes),i=!0),this.addToSet!=null&&(o+=(i?"&$addToSet=":"$addToSet=")+encodeURIComponent("'"+JSON.stringify(this.addToSet)+"'"),i=!0),this.fromSelection!=null&&(o+=(i?"&$fromSel=":"$fromSel=")+encodeURIComponent("'"+JSON.stringify(this.fromSelection)+"'"),i=!0),this.keepSelection!=null&&(o+=(i?"&$keepSel=":"$keepSel=")+encodeURIComponent("'"+JSON.stringify(this.keepSelection)+"'"),i=!0),this.orderby&&this.orderby.length&&(i?o+="&$orderby="+this.orderByArgsToString():o+="$orderby="+this.orderByArgsToString(),i=!0),this.subOrderby!=null&&(o+=(i?"&$subOrderby=":"$subOrderby=")+encodeURIComponent(this.subOrderby),i=!0);if(this.attributesExpanded!=undefined&&this.attributesExpanded.length>0){var u="";i?o+="&$expand=":o+="$expand=",i=!0;for(var r=0;r<this.attributesExpanded.length;r++)u===""?u+=this.attributesExpanded[r]:u+=","+this.attributesExpanded[r];o+=u}this.autoExpand!=null&&this.autoExpand!=""&&(i?o+="&$expand=":o+="$expand=",i=!0,o+=this.autoExpand),this.autoSubExpand!=null&&this.autoSubExpand!=""&&(i?o+="&$subExpand=":o+="$subExpand=",i=!0,o+=this.autoSubExpand),o!==""&&(s&&(n+="?"),n+=o);var a="";this.httpMethod!==""?a=this.httpMethod:this.error=WAF.core.restConnect.httpMethods._get;if(this.postdata&&a==WAF.core.restConnect.httpMethods._get)return this.error=WAF.core.restConnect.standardErrors._wronghttpmethod,!1;this.http_request=WAF.core.restConnect.getXMLHttpRequest();if(!this.http_request)return;this.http_request.parent=this;if(e&&e.generateRESTRequestOnly)return n;t!=null&&(this.http_request.onreadystatechange=function(){t(this.parent)});try{return this.fullURL&&(n=this.fullURL),this.http_request.open(a,n,this.connectionMode),this.postdata&&this.http_request.setRequestHeader("Content-Type","application/json"),this.http_request.setRequestHeader("If-Modified-Since","Thu, 1 Jan 1970 00:00:00 GMT"),this.http_request.setRequestHeader("Cache-Control","no-cache"),this.http_request.send(this.postdata),this.connectionMode||t(this.http_request),!0}catch(f){return!0}return!1}};

/** minified js  - from ../walib/WAF/Core/Utils/Dates.js */

function ISOToDate(e){var t=new Date;return t.setISO(e),t}function stringToSimpleDate(e){if(e==null||e=="")return null;var t=e.split("!");return t.length<3?null:new Date(Number(t[2]),Number(t[1])-1,Number(t[0]))}Date.prototype.toJSON=function(e){return this.toISO()+","+this.toSimpleDateString()},Date.prototype.toSimpleDateString=function(){return""+this.getDate()+"!"+(this.getMonth()+1)+"!"+(this.getYear()+1900)},Date.prototype.setISO=function(e){var t="([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?",n=e.match(new RegExp(t)),r=0,i=new Date(n[1],0,1);n[3]&&i.setMonth(n[3]-1),n[5]&&i.setDate(n[5]),n[7]&&i.setHours(n[7]),n[8]&&i.setMinutes(n[8]),n[10]&&i.setSeconds(n[10]),n[12]&&i.setMilliseconds(Number("0."+n[12])*1e3),n[14]&&(r=Number(n[16])*60+Number(n[17]),r*=n[15]=="-"?1:-1),r-=i.getTimezoneOffset(),time=Number(i)+r*60*1e3,this.setTime(Number(time))},Date.prototype.toISO=function(e,t){if(!e)var e=6;if(!t)var t="Z",n=this;else{var r=t.match(/([-+])([0-9]{2}):([0-9]{2})/),i=Number(r[2])*60+Number(r[3]);i*=r[1]=="-"?-1:1;var n=new Date(Number(Number(this)+i*6e4))}var s=function(e){return(e<10?"0":"")+e},o="";o+=n.getUTCFullYear(),e>1&&(o+="-"+s(n.getUTCMonth()+1)),e>2&&(o+="-"+s(n.getUTCDate())),e>3&&(o+="T"+s(n.getUTCHours())+":"+s(n.getUTCMinutes()));if(e>5){var u=Number(n.getUTCSeconds()+"."+(n.getUTCMilliseconds()<100?"0":"")+s(n.getUTCMilliseconds()));o+=":"+s(u)}else e>4&&(o+=":"+s(n.getUTCSeconds()));return e>3&&(o+=t),o},Date.prototype.isValid=function(){return!isNaN(this.getTime())};

/** minified js  - from ../walib/WAF/Core/Utils/DebugTools.js */

WAF.utils.debug={console:{log:function(e){WAF.config.debugMode&&typeof console!="undefined"&&console.log&&console.log(e)},dir:function(e){WAF.config.debugMode&&typeof console!="undefined"&&console.dir&&console.dir(e)}}};

/** minified js  - from ../walib/WAF/Core/Utils/Environment.js */

WAF.utils.environment={},WAF.utils.environment.browserDetect=function(){var e=navigator.userAgent;WAF.utils.environment.browser={},WAF.utils.environment.browser.ie=!1,WAF.utils.environment.browser.ie6=!1,WAF.utils.environment.browser.ie7=!1,WAF.utils.environment.browser.gecko=!1,WAF.utils.environment.browser.safari=!1,WAF.utils.environment.browser.safari2=!1,WAF.utils.environment.browser.safari3=!1,WAF.utils.environment.browser.firefox3=!1,e.indexOf("Firefox/3")>=0?WAF.utils.environment.browser.firefox3=!0:e.indexOf("MSIE")>=0?(WAF.utils.environment.browser.ie=!0,e.indexOf("MSIE 7")>=0&&(WAF.utils.environment.browser.ie7=!0),e.indexOf("MSIE 6")>=0&&(WAF.utils.environment.browser.ie6=!0)):e.indexOf("iPhone")>=0?(WAF.utils.environment.browser.iphone=!0,WAF.utils.environment.browser.safari=!0):e.indexOf("WebKit")>=0?(WAF.utils.environment.browser.safari=!0,e.indexOf("Version/3")>=0?WAF.utils.environment.browser.safari3=!0:WAF.utils.environment.browser.safari2=!0):e.indexOf("Gecko")>=0&&(WAF.utils.environment.browser.gecko=!0)},WAF.utils.environment.browserDetect();

/** minified js  - from ../walib/WAF/Core/Utils/Strings.js */

function htmlEncode(e,t,n){function r(e){var t="";for(var n=0;n<e.length;n++){var r=e.charAt(n);if(r<" "||r>"~")r="&#"+r.charCodeAt()+";";t+=r}return t}function i(e){n=n>=0?Math.floor(n):4;var t=e.split(/\r\n|\r|\n/);for(var r=0;r<t.length;r++){var i=t[r],s="";for(var o=0;o<i.length;o++){var u=i.charAt(o);if(u==="	"){var a=n-s.length%n;for(var f=0;f<a;f++)s+=" "}else s+=u}s=s.replace(/(^ )|( $)/g,"&nbsp;"),t[r]=s}var l=t.join("<br />");return l=l.replace(/  /g," &nbsp;"),l}var s=e;return s=s.replace(/\&/g,"&amp;"),s=s.replace(/\</g,"&lt;"),s=s.replace(/\>/g,"&gt;"),t?s=i(s):s=s.replace(new RegExp('"',"g"),"&quot;"),s=r(s),s}String.prototype.capitalize=function(){return this.length>1?this[0].toUpperCase()+this.substring(1).toLowerCase():this.toUpperCase()},String.prototype.capitalizeEachWord=function(){var e=this.split(" ");for(var t=0,n=e.length;t<n;t++){var r=e[t];if(typeof r=="string"||r instanceof String)e[t]=r.capitalize()}return e.join(" ")},WAF.utils.getBoolValue=function(e){return e==null?!1:typeof e=="string"?e.toLowerCase()=="true"?!0:!1:e},WAF.utils.getBrowserLang=function(){var e=(navigator.language||navigator.systemLanguage||navigator.userLanguage||"us").substr(0,2).toLowerCase();return e},WAF.utils.customStringFormatter=function(e,t){var n={original:e,string:e,format:t.format||"",formatType:null,formatExtremes:null,formatDecimals:0,formatDividors:[],detectFormat:function(e){switch(/([.,])/.test(e)){case!0:return"Number";case!1:return"String"}},getFormatExtremes:function(e){return[e.substr(0,e.indexOf("#")),e.substr(e.indexOf("#"),e.lastIndexOf("#")-e.indexOf("#")+1),e.substr(e.lastIndexOf("#")+1,e.length)]},getFormatDecimals:function(e){return e.length-e.lastIndexOf(".")-1},getFormatDividors:function(e){var t=[];for(var n=0;n<e.length;n++)e[n]!="#"&&t.indexOf(e[n])<0&&(t[t.length]=e[n]);return t},fixStringDecimals:function(e,t){if(e.length==t)e="0"+e;else if(e.length<t)for(var n=e.length;n<=t;n++)e="0"+e;return e},removeStringDividorsCharacters:function(e){return e.replace(/([.,])/g,"")},formatStringFromRightToLeft:function(e,t){for(var n=t.length-1;n>0;n--)e.length-(t.length-n-1)>0&&t[n]!="#"&&(e=[e.slice(0,e.length-(t.length-n-1)),t[n],e.slice(e.length-(t.length-n-1))].join(""));return e},formatStringFromLeftToRight:function(e,t){var n="",r=0;for(var i=0;i<t.length;i++)n+=t[i]=="#"?e[r++]||"":t[i];return n+=e.slice(r),n},getResult:function(){return this.formatExtremes[0]+this.string+this.formatExtremes[2]}};n.formatExtremes=n.getFormatExtremes(n.format),n.formatDecimals=n.getFormatDecimals(n.formatExtremes[1]),n.formatDividors=n.getFormatDividors(n.formatExtremes[1]),n.formatType=n.detectFormat(n.formatExtremes[1]);switch(n.formatType){case"Number":n.string=n.removeStringDividorsCharacters(n.string),n.string=n.fixStringDecimals(n.string),n.string=n.formatStringFromRightToLeft(n.string,n.formatExtremes[1]);break;case"String":default:n.string=n.formatStringFromLeftToRight(n.string,n.formatExtremes[1])}return n.getResult()},WAF.utils.formatString=function(e,t){var n;if(t==null||e==null||e=="")n=e;else{typeof t=="string"&&(t={format:t});switch(t.format){case"U":n=e.toUpperCase();break;case"l":n=e.toLowerCase();break;case"C":n=e.capitalize();break;case"c":n=e.capitalizeEachWord();break;default:n=WAF.utils.customStringFormatter(e,t)}}return n},WAF.utils.formatDate=function(e,t){t==null&&(t={format:""});var n={format:t.format,locale:t.locale};n.locale==null&&(n.locale=WAF.utils.getBrowserLang());var r=null;if(n.locale!=null){if(n.locale=="us"||n.locale=="en")n.locale="";r=$.datepicker.regional[n.locale],r!=null&&(n.format==null||n.format=="")&&r.dateFormat!=null&&(n.format=r.dateFormat)}if(n.format==null||n.format=="")n.format="mm/dd/yy";return typeof e=="string"&&(e=new Date(e)),$.datepicker.formatDate(n.format,e,r)},WAF.utils.formatNumber=function(e,t){function n(e,t,n){this.dec=e,this.group=t,this.neg=n}function r(e){var t=".",r=",",i="-";return e=="us"||e=="ae"||e=="eg"||e=="il"||e=="jp"||e=="sk"||e=="th"||e=="cn"||e=="hk"||e=="tw"||e=="au"||e=="ca"||e=="gb"||e=="in"?(t=".",r=","):e=="de"||e=="vn"||e=="es"||e=="dk"||e=="at"||e=="gr"||e=="br"?(t=",",r="."):e=="cz"||e=="fr"||e=="fi"||e=="ru"||e=="se"?(r=" ",t=","):e=="ch"&&(r="'",t="."),new n(t,r,i)}t==null&&(t={format:""});var i={format:t.format,locale:t.locale};i.locale==null&&(i.locale=WAF.utils.getBrowserLang());var s=String(e);if(i.format==null||i.format=="")return s;var o=r(i.locale.toLowerCase()),u=o.dec,a=o.group,f=o.neg,l="0#-,.",c="",h=!1;for(var p=0;p<i.format.length;p++){if(l.indexOf(i.format.charAt(p))!=-1){if(p==0&&i.format.charAt(p)=="-"){h=!0;continue}break}c+=i.format.charAt(p)}var d="";for(var p=i.format.length-1;p>=0;p--){if(l.indexOf(i.format.charAt(p))!=-1)break;d=i.format.charAt(p)+d}i.format=i.format.substring(c.length),i.format=i.format.substring(0,i.format.length-d.length);var v=e;d=="%"&&(v*=100);var s="",m=v%1;if(i.format.indexOf(".")>-1){var g=u,y=i.format.substring(i.format.lastIndexOf(".")+1),b=new String(m.toFixed(y.length));b=b.substring(b.lastIndexOf(".")+1);for(var p=0;p<y.length;p++)y.charAt(p)=="#"&&b.charAt(p)!="0"?g+=b.charAt(p):y.charAt(p)=="0"&&(g+=b.charAt(p));g!=u&&(s+=g)}else v=Math.round(v);var w=Math.floor(v);v<0&&(w=Math.ceil(v));var E="";if(w==0)E="0",v<0&&(E="-0");else{var S="";i.format.indexOf(".")==-1?S=i.format:S=i.format.substring(0,i.format.indexOf("."));var x=new String(w),T=9999;S.lastIndexOf(",")!=-1&&(T=S.length-S.lastIndexOf(",")-1);var N=0;for(var p=x.length-1;p>-1;p--)E=x.charAt(p)+E,N++,N==T&&p!=0&&x.charAt(p-1)!=="-"&&(E=a+E,N=0)}return s=E+s,v<0&&h&&c.length>0&&(s=s.substring(1),c=f+c),s=c+s+d,s},WAF.utils.string={replace:function(e,t,n){if(t!==""&&t!==n){var r=0,i=0,s="",o="";while(r<e.length){i=e.indexOf(t,r);if(i==-1)break;s=e.substr(0,i),o=e.substr(i+t.length,e.length),e=s+n+o,r=s.length+n.length}}return e},htmlDecode:function(e){return e&&(e=="&nbsp;"||e=="&#160;"||e.length==1&&e.charCodeAt(0)==160)?" ":e?String(e).replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"'):e}},WAF.utils.init=function(){var e=WAF.utils.getBrowserLang(),t=null;typeof $!="undefined"&&$!=null&&$.datepicker!=null&&(t=$.datepicker.regional[e]),t!=null?($.datepicker.setDefaults(t),WAF.utils.dateInputFormat=t.dateFormat||"m/d/yy"):WAF.utils.dateInputFormat="m/d/yy"};

/** minified js  - from ../walib/WAF/Core/Utils/Timers.js */

WAF._private.globals.timers=[],function(e){e=e||[],WAF.utils.timer={start:function(t){e[t]!==undefined?e[t].start=(new Date).getTime():e[t]={start:(new Date).getTime(),duration:null}},getValue:function(t){return e[t]!==undefined?(new Date).getTime()-e[t].start:null}}}(WAF._private.globals.timers);

/** minified js  - from ../walib/WAF/waf-core/core.js */

(function(e){"use strict";function n(e,t){return t===undefined?e:(t=t==null?"":String(t),t=t.replace(/(\r)?\n/g,"\r\n"),t=encodeURIComponent(t),t=t.replace(/%20/g,"+"),e+"="+t)}function r(e,t,n){function i(i){n&&typeof t[i]=="object"&&t[i]!==null?(e[i]===undefined&&(e[i]=Array.isArray(t[i])?[]:{}),r(e[i],t[i],!0)):e[i]=t[i]}var s;if(Array.isArray(t))for(s=0;s<t.length;s++)i(s);else for(s in t)t.hasOwnProperty(s)&&i(s);return e}function o(e){e=e.split(".");if(e[0]in i)return WAF.get(i[e[0]],e[1]&&e.slice(1).join("."));throw"Can't find module \""+e[0]+'".'}function u(e,t,n){typeof e!="string"&&(n=t,t=e,e=undefined),Array.isArray(t)||(n=t,t=undefined),e===undefined&&(e=s,s=undefined);if(typeof n!="function"){s=e;return}t=(t||[]).map(function(e){return WAF.require(e)}),i[e]=n.apply(undefined,t);return}var t=[].slice;e.WAF||(e.WAF={}),String.capitalize=function(e){return e?e[0].toUpperCase()+e.substr(1):e},String.prototype.capitalize||(String.prototype.capitalize=function(){return String.capitalize(this)}),String.toCamelCase=function(e,t,n){t=t||"_",n=n||"";var r=e.split(t);return r[0]+r.slice(1).map(String.capitalize).join(n)},String.prototype.toCamelCase||(String.prototype.toCamelCase=function(e,t){return String.toCamelCase(this,e,t)}),String.escapeHTML=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},String.toDisplay=function(e){return e=e.split(/[_-]+/).map(String.capitalize).join(""),e.replace(/([A-Z][a-z0-9]+)/g," $1").replace(/([A-Z0-9]{2,})/g," $1").replace(/([a-z])([A-Z])/g,"$1 $2")},String.prototype.escapeHTML||(String.prototype.escapeHTML=function(){return String.escapeHTML(this)}),Object.values||(Object.values=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}),WAF.parseQueryString=function(e){var t=e.match(/([^?#]*)(#.*)?$/),n={};return t&&t[1].split("&").forEach(function(e){if((e=e.split("="))[0]){var t=decodeURIComponent(e.shift()),r=e.length>1?e.join("="):e[0];r!==undefined&&(r=decodeURIComponent(r.replace(/\+/g," "))),t in n?(Array.isArray(n[t])||(n[t]=[n[t]]),n[t].push(r)):n[t]=r}}),n},WAF.toQueryString=function(e){var t=[];return Object.keys(e).forEach(function(r){var i=e[r];r=encodeURIComponent(r);if(i&&typeof i=="object"){if(Array.isArray(i))for(var s=0,o=i.length,u;s<o;s++)u=i[s],t.push(n(r,u))}else t.push(n(r,i))}),t.join("&")},Function.prototype.bind||(Function.prototype.bind=function(e){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),WAF.extend=function(){var e=null,n=!1,i={};return e=t.call(arguments,0).filter(function(e){return e}),e[0]===!0?(e=e.slice(2),i=arguments[1],n=!0):(i=e[0],e=e.slice(1)),i=i||{},e.forEach(function(e){r(i,e,n)}),i},WAF.find=function(e,t,n){var n=n||window,r;return Array.isArray(e)&&e.forEach(function(i,s){if(t.call(n,i,s,e))return r=i,!1}),r},WAF.clone=function(e){return e===null?e:typeof e!="object"&&typeof e!="function"?e:WAF.extend(!0,Array.isArray(e)?[]:{},e)},WAF.remove=function(e,t){var n=e.indexOf(t);return n>=0?(e.splice(n,1),!0):!1};var i={},s;WAF.get=function(e,t){return e==null?e:t===undefined?e:(t=t.split("."),t.length===1?e[t[0]]:WAF.get(e[t[0]],t.slice(1).join(".")))},o.modules=i,WAF.require=o,WAF.define=u})(window);

/** minified js  - from ../walib/WAF/waf-core/class.js */

WAF.define("waf-core/class",function(){"use strict";function t(e,t){return"*"in e?e["*"]:"**"in e?{"**":{}}:t in e?e[t]:{}}function r(t,n,r){var i=[],s=[];t.getAllSupers().concat([n,t]).concat(n.getAllSupers()).forEach(function(e){var t=e.prototype[r];if(typeof t!="function")return;while(t._original)t=t._original;if(t._stack)return;i.indexOf(t)<0&&(i.push(t),s.push([e,t]))}),s.sort(function(t,n){return e.inheritFrom(t[0],n[0])?1:e.inheritFrom(n[0],t[0])?-1:0}),i=s.map(function(e){return e[1]});var o=t.prototype[r];t.prototype[r]=function(){for(var e=0;e<i.length;e++)i[e].apply(this,arguments)},t.prototype[r]._stack=i,t.prototype[r]._original=o}function i(e,t){var n=t.prototype;for(var i in n)if(i!=="constructor"&&typeof n[i]=="function")if(i!=="toString"&&(t._stackedInstanceMethods[i]||e._stackedInstanceMethods[i]))r(e,t,i);else{if(e.prototype[i]&&(e._prototypeInheritLevel[i]||[]).length<=(t._prototypeInheritLevel[i]||[]).length)continue;e.prototype[i]=n[i],e._prototypeInheritLevel[i]=(t._prototypeInheritLevel[i]||[]).concat([t])}}var e={defaultBehaviors:[]},n=function(e,r,i,s){r=WAF.clone(r);for(var o in r){if((o in s||"*"in s||"**"in s)&&s[o]!==!1)continue;if(typeof r[o]=="object"&&(o in i||"*"in i||"**"in i)&&i[o]!==!1)if(r[o]instanceof Array)e[o]=(e[o]||[]).concat(r[o]);else{var u=t(i,o),a=t(s,o);e[o]=n(e[o]||{},r[o]||{},u,a)}else e[o]=r[o]}return e},s={supers:[],_protectedClassAttributes:{supers:{},_prototypeInheritLevel:{},toString:{},inherit:{},whenInherited:{},_allSupers:{}},_prototypeInheritLevel:{},_stackedInstanceMethods:{},_mergeOnInherit:{_mergeOnInherit:{"*":{}},_protectedClassAttributes:{"*":{}},_stackedInstanceMethods:{}},inherit:function(){if(arguments.length<1)return this;var e=[].map.call(arguments,function(e){if(typeof e=="string"){var t=WAF.require(e);if(t===undefined){var n=WAF.require("waf-core/error");throw new n.Error("Can't inherit from unknown class '"+e+"'")}return t}return e});e.forEach(function(e){if(e===undefined){var t=WAF.require("waf-core/error");throw new t.Error("Can't inherit from undefined")}i(this,e),n(this,e,WAF.extend(!0,WAF.clone(this._mergeOnInherit),WAF.clone(e._mergeOnInherit)),WAF.extend(!0,WAF.clone(this._protectedClassAttributes),WAF.clone(e._protectedClassAttributes))),"whenInherited"in e&&e.whenInherited(this),this.supers.push(e),this._allSupers=undefined}.bind(this)),this.prototype.$callSuper=function(e){return this.$super(e).apply(this,[].slice.call(arguments,1))};var t=this.supers,r=this;return this.prototype.$super=function(e,n){if(n)return n.prototype[e]&&n.prototype[e].bind(this);var i=t;e in r._prototypeInheritLevel&&r._prototypeInheritLevel[e].reverse().some(function(t){if(t.prototype[e]!==r.prototype[e])return!0;i=t.supers}),i=i.filter(function(t){return e in t.prototype&&typeof t.prototype[e]=="function"});var s=Math.min.apply(Math,i.map(function(t){return(t._prototypeInheritLevel[e]||[]).length})),o=i.length;for(var u=0;u<o;u++){var a=i[u];if((a._prototypeInheritLevel[e]||[]).length===s)return function(){var t=this.$super,n;a.prototype.$super&&(this.$super=a.prototype.$super);try{n=a.prototype[e].apply(this,arguments)}catch(r){throw this.$super=t,r}return this.$super=t,n}.bind(this)}return undefined},this},getAllSupers:function(){if(this._allSupers)return this._allSupers;this._allSupers=this.supers.slice(0);for(var e=0;e<this.supers.length;e++){var t=this.supers[e].getAllSupers();for(var n=0;n<t.length;n++)this._allSupers.indexOf(t[n])<0&&this._allSupers.push(t[n])}return this._allSupers},protectClassAttribute:function(e){this._protectedClassAttributes[e]=!0},unprotectClassAttribute:function(e){delete this._protectedClassAttributes[e]},stackInstanceMethods:function(e){this._stackedInstanceMethods[e]=!0},mergeClassAttributeOnInherit:function(e){e=e.split(".");var t=this._mergeOnInherit;while(e.length){var n=e.shift();t=t[n]=t[n]||{}}}};return e.instanceOf=function(n,r){return n?(typeof r=="string"&&(r=WAF.require(r)),n instanceof r?!0:e.inheritFrom(n.constructor,r)):!1},e.inheritFrom=function(t,n){return typeof n=="string"&&(n=WAF.require(n)),!!(t&&t.getAllSupers&&t.getAllSupers().indexOf(n)>=0)},e.create=function(n){var r=function(){this.initialize&&this.initialize.apply(this,arguments)};return WAF.extend(!0,r,s),r.prototype.isInstanceOf=function(t){return e.instanceOf(this,t)},r.prototype.debug=function(){var e=[],t=[],n=[],r=[];console.log(this.toString(),"\n------");for(var i in this)if(typeof this[i]=="function"){var s=/\(([^)]*){1}/.exec(this[i]);s&&s[1]?s=s[1].split(/\s*,\s*/):s=[],n.push(i+"( "+s.join(", ")+" )")}else r.push(i);r.sort(),n.sort(),console.group("Methods");for(var i in n)console.log(n[i]);console.groupEnd(),console.group("properties");for(var i in r)typeof this[r[i]]=="object"?console.log(r[i]+": "+"%O",this[r[i]]):console.log(r[i]+": ",this[r[i]]);console.groupEnd()},e.defaultBehaviors.forEach(function(e){r.inherit(e)}),n&&WAF.extend(r.prototype,n),r},e});

/** minified js  - from ../walib/WAF/waf-core/error.js */

WAF.define("waf-core/error",function(){"use strict";var e=WAF.require("waf-core/class"),t={Error:e.create(),create:function(t,n,r){typeof n=="number"&&(r=n,n=undefined);var i=this[t]=e.create();return i.kind=t,i.inherit(n||this.Error),delete i.inherit,typeof r=="number"&&(i.prototype.level=function(){return r}),i}};return t.Error.prototype.toString=function(){return"Error "+(this.kind||"")+"("+this.message+")"},t.Error.prototype.level=function(){return 0},t.Error.prototype.initialize=function(e){this.message=e},t.create("NotFound"),t});

/** minified js  - from ../walib/WAF/waf-core/event.js */

WAF.define("waf-core/event",[],function(){"use strict";var e=WAF.require("waf-core/class"),t=e.create();return t.prototype.initialize=function(e){this.kind=e.kind,this.target=e.target,this.data=e.data||{},this.emitters=[],this.parentEvent=this.data.parentEvent,this.parentEvent&&(this.emitters=this.parentEvent.emitters.slice(0)),this.emitter=e.emitter,this.options=e.options||{}},Object.defineProperty(t.prototype,"emitter",{get:function(){return this._emitter},set:function(e){this._emitter=e,this.emitters[0]!==e&&this.emitters.splice(0,0,e)}}),t});

/** minified js  - from ../walib/WAF/waf-core/behavior.js */

WAF.define("waf-core/behavior",function(){"use strict";var e=WAF.require("waf-core/class"),t=[],n={create:function(){var n=e.create();return n.defaultOptions={},n.mergeClassAttributeOnInherit("defaultOptions"),t=Object.keys(n.prototype),n.getMethods=function(){var n=[];for(var r in this.prototype)t.indexOf(r)<0&&typeof this.prototype[r]=="function"&&n.push(r);return n},n}};return n});

/** minified js  - from ../walib/WAF/waf-behavior/methodshelper.js */

WAF.define("waf-behavior/methodshelper",function(){"use strict";var e=WAF.require("waf-core/behavior"),t=WAF.require("waf-core/class"),n=WAF.require("waf-core/error"),r=e.create();return r.addMethod=function(e,t){this.prototype[e]=t},r.addClassMethod=function(e,t){this[e]=t},r.addMethods=function(e){for(var t in e)this.prototype[t]=e[t]},r.addClassMethods=function(e){for(var t in e)this[t]=e[t]},r.makeAsync=function(e,t){if(typeof this.prototype[e]!="function")throw new n.NotFound("can't find function \""+e+'"');t=t||e+"Async",this.prototype[t]=function(){var t,n=arguments[arguments.length-1];typeof n!="object"&&(n={});try{t=this[e].apply(this,arguments)}catch(r){n.onError&&n.onError(r);return}n.onSuccess&&n.onSuccess(t)}},r._addMultiInheritedCaller=function(e){var t=this;this.prototype[e]=function(){if(!t.supers)return;for(var n=0;n<t.supers.length;n++)t.supers[n].prototype[e]&&t.supers[n].prototype[e].apply(this,arguments)}},r.wrap=function(e,t){var n=this.prototype[e];this.prototype[e]=function(){return t.apply(this,[n.bind(this)].concat([].slice.call(arguments,0)))}},r.doBefore=function(e,t){this.wrap(e,function(e){var n=[].slice.call(arguments,1);return t.apply(this,n),e.apply(this,n)})},r.doAfter=function(e,t){this.wrap(e,function(e){var n=[].slice.call(arguments,1),r=e.apply(this,n);return t.apply(this,n),r})},r.wrapClassMethod=function(e,t){var n=this[e];this[e]=function(){return t.apply(this,[n.bind(this)].concat([].slice.call(arguments,0)))}},r.doBeforeClassMethod=function(e,t){this.wrapClassMethod(e,function(e){var n=[].slice.call(arguments,1);return t.apply(this,n),e.apply(this,n)})},r.doAfterClassMethod=function(e,t){this.wrapClassMethod(e,function(e){var n=[].slice.call(arguments,1),r=e.apply(this,n);return t.apply(this,n),r})},t.defaultBehaviors.push(r),r});

/** minified js  - from ../walib/WAF/waf-core/subscriber.js */

WAF.define("waf-core/subscriber",function(){"use strict";var e=WAF.require("waf-core/class"),t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,n=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;t||(t=function(e){return setTimeout(e,0)},n=clearTimeout);var r=e.create();return r.prototype.initialize=function(e){e&&WAF.extend(this,e),this.subscribed=[],this._pause=!1,this._pending=[],this.options=this.options||{}},r.prototype.isPaused=function(){return this._pause},r.prototype.pause=function(){this._pause=!0},r.prototype.resume=function(){this._pause=!1},r.prototype.unsubscribe=function(){var e=this.subscribed;this.subscribed=[],e.forEach(function(e){e.removeSubscriber(this)}.bind(this))},r.prototype.fire=function(e){if(this._pause)return;if(!this.callback)return;var r=WAF.extend({},e.options,this.options);if(r.once)while(this._pending.length)this._pending.shift()();var i=function(e){e()},s=function(){};if(r.defered||r.once)i=setTimeout,s=function(e){return clearTimeout(e)};r.animationFrame&&(i=t,s=n);var o=i(function(){WAF.remove(this._pending,u),this.callback.call(this.observer||this,e,this.userData,this)}.bind(this),0);if(o){var u=s.bind(window,o);this._pending.push(u)}},r.prototype.match=function(e){if(typeof e=="function")return e.call(this);for(var t in e)if(this[t]!==e[t])return!1;return!0},r});

/** minified js  - from ../walib/WAF/waf-behavior/observable.js */

WAF.define("waf-behavior/observable",function(){"use strict";function o(e,t){var n=e.target,r=e.data,i;r&&r.dispatchSubID&&(i=r.dispatchSubID);var s;t&&t.userData&&(s=t.userData.subID);var o=t.target!==undefined&&n!==undefined,u=o&&(n.test&&!n.test(t.target)||!n.test&&n!==t.target),a=(i!==undefined||s!==undefined&&s!==null)&&s!==i;if(u||a)return;t.fire(e)}function u(e,t,n){var r=e._eventSubscribers[t];if(!r)return;for(var i=r.length-1;i>=0;i--){var s=r[i];s.match(n)&&WAF.remove(r,s)&&(WAF.remove(s.subscribed,e),s.domCallback&&$(e.node).off(t,s.domCallback))}!r.length&&e._destroySubscriber&&e._destroySubscriber(t)}var e=WAF.require("waf-core/class"),t=WAF.require("waf-core/behavior"),n=WAF.require("waf-core/event"),r=WAF.require("waf-core/subscriber"),i=t.create(),s=i.prototype;return s._initProperties=function(){this._eventSubscribers={},this._disabledDomEvents=WAF.extend({},this.constructor._disabledDomEvents)},s.subscribe=function(t,i,s,u,a){var f=this,l;typeof i=="function"&&(a=u,u=s,s=i,i=undefined),e.instanceOf(t,r)?(l=t,t=l.event):l=new r({event:t,target:i,callback:s,observer:u,userData:a}),l.subscribed.push(this),t in this._eventSubscribers||(this._eventSubscribers[t]=[]),!this._eventSubscribers[t].length&&this._initSubscriber&&this._initSubscriber(t),this._eventSubscribers[t].push(l);if(this.node){var c=WAF.require("waf-core/widget");l.domCallback=function(e,t){var r=l.subscribed.filter(function(t){return c.get(e.target)===t})[0];if(!r&&!l.options.allowPropagation)return;if(!t){if(e.type in f._disabledDomEvents||l.options.disableDomEvent)return;t=new n({kind:e.type,data:e,emitter:r})}else if(l.options.onlyDomEvent)return;o(t,l)},$(this.node).on(t,l.domCallback)}return l},s.unsubscribe=function(e){if(e.event)u(this,e.event,e);else for(var t in this._eventSubscribers)u(this,t,e)},s.removeSubscriber=function(e){var t=e.event;WAF.remove(this._eventSubscribers[t],e)&&(WAF.remove(e.subscribed,this),e.domCallback&&$(this.node).off(t,e.domCallback),!this._eventSubscribers[t].length&&this._destroySubscriber&&this._destroySubscriber(t))},s.fire=function(e,t,r,i){typeof e=="string"&&(e=[e]),typeof t=="object"&&t.constructor!==RegExp&&(i=r,r=t,t=undefined),i=i||{},"all"in this._eventSubscribers&&e.push("all"),i.onlyRealEvent&&(e=e.slice(0,1));var s=new n({kind:e[0],target:t,data:r,emitter:this,options:i});e.forEach(function(e){if(this.node)$.event.trigger(e,s,this.node,!0);else{if(!(e in this._eventSubscribers))return;this._eventSubscribers[e].forEach(o.bind(this,s))}}.bind(this))},s._cloneBehavior=function(e){var t=function(t){return t.observer!==e};for(var n in e._eventSubscribers){var r=e._eventSubscribers[n].filter(t),i=this._eventSubscribers[n]=(this._eventSubscribers[n]||[]).concat(r);for(var s=0;s<i.length;s++)i[s].subscribed.push(this),i[s].domCallback&&$(this.node).on(n,i[s].domCallback);i.length&&this._initSubscriber&&this._initSubscriber(n)}},i.stackInstanceMethods("_cloneBehavior"),i._disabledDomEvents={},i.mergeClassAttributeOnInherit("_disabledDomEvents"),i.disableDomEvent=function(e){this._disabledDomEvents[e]=!0},i.enableDomEvent=function(e){delete this._disabledDomEvents[e]},s.disableDomEvent=function(e){this._disabledDomEvents[e]=!0},s.enableDomEvent=function(e){delete this._disabledDomEvents[e]},i});

/** minified js  - from ../walib/WAF/Core/Utils/Css.js */

(function(e){e.CSS=e.CSS||{},e.CSS.getScrollBarWidth=function(){var e=$('<div class="waf-widget-body">').css({width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}).appendTo("body")[0],t=e.offsetWidth-e.clientWidth;return $(e).remove(),t}})(WAF||{});

/** minified js  - from ../walib/WAF/DataProvider/Data-Provider.js */

WAF.callHandler=function(e,t,n,r,i){var s=null;n.userData=i;if(e){var o=r.onError;n.error=t,o!=null&&(s=o(n))}else{var u=r.onSuccess;u!=null&&(s=u(n))}return s},WAF.getRequestResult=function(e){var t=e.http_request.responseText,n;if(t==null)n={__ERROR:[{errCode:-1}]};else try{n=JSON.parse(t)}catch(r){n={__ERROR:[r]}}return n},WAF.tools={},WAF.tools.optionMatchers=["onSuccess","onError","atTheEnd","sync","autoExpand","autoSubExpand","catalog","queryString","skip","top","position","orderby","orderBy","params","queryPlan","queryPath","pageSize","filterSet","progressInfo","progressBar","delay","delayInfo","method","first","limit","userData","addToSet","atOnce","refreshOnly","keepOldCollectionOnError","isMethodResult","prefetchedData","callWithGet","generateRESTRequestOnly","forceReload","doNotAlterElemPos","overrideStamp","queryParams","createEmptyCollection","forceCollectionRefresh","refreshCollectionFrom","removeReferenceOnly","timeout","doNotDispatch","destinationDataSource","filterAttributes","subOrderby","filterQuery","withinCollection","keepOrderBy","retainPositions","fromInitialQuery","reselect"],WAF.tools.isOptionParam=function(e){var t=!1;if(e!=null&&typeof e=="object"){var n=WAF.tools.optionMatchers,r=n.length;for(var i=0;i<r&&!t;++i){var s=n[i];if(s in e){t=!0;break}}}return t},WAF.tools.handleArgs=function(e,t,n){var r=!1;n=n||{},t=t||0;var i=n.noUserData||!1,s=n.with3funcs||!1,o=n.queryParams||!1,u={options:{},userData:null},a,f=e.length,l=t;l<f&&(a=e[l],typeof a=="function"&&(u.options.onSuccess=a,++l,l<f&&(a=e[l],typeof a=="function"&&(u.options.onError=a,++l,l<f&&(a=e[l],s&&typeof a=="function"&&(u.options.atTheEnd=a,++l)))),u.options.onError==null&&(u.options.onError=u.options.onSuccess)));var c=null;o&&(c=[]);do if(l<f){a=e[l];if(!r&&WAF.tools.isOptionParam(a)){r=!0,++l;var h=u.options;u.options=a,h.onSuccess!=null&&(u.options.onSuccess=h.onSuccess),h.onError!=null&&(u.options.onError=h.onError),h.atTheEnd!=null&&(u.options.atTheEnd=h.atTheEnd),o||l<f&&!i&&(u.userData=e[l],++l)}else o&&(typeof a!="object"||a instanceof Date||a instanceof Array?(c.push(a),++l):(u.userData=a,++l))}while(o&&l<f);return u.options.userData!=null&&u.userData==null&&(u.userData=u.options.userData),o&&(u.options.params=u.options.params||c),u.nextParam=l,u},WAF.EntityCache=function(e){e=e||{};var t=this;this.maxEntities=e.maxEntities||300,this.timeOut=e.timeOut||3e5,this.entitiesByKey={},this.nbEntries=0,this.curStamp=0},WAF.EntityCache.prototype.getNextStamp=function(){var e=this;return e.curStamp++,e.curStamp},WAF.EntityCache.prototype.clear=function(e){var t=this;if(e==null||e>=t.nbEntries)t.entitiesByKey={},t.nbEntries=0;else{var n=[],r=t.entitiesByKey;for(var i in r)n.push(r[i]);n.sort(function(e,t){return e.timeStamp>t.timeStamp?1:-1});var s=e;s>n.length&&(s=n.length);var o=t.nbEntries;for(var u=0;u<s;u++){var a=n[u];delete r[a.key],--o}t.nbEntries=o,delete n}},WAF.EntityCache.prototype.makeRoomFor=function(e){var t=this;t.maxEntities<e*2&&(t.maxEntities=e*2);var n=t.maxEntities-t.nbEntries;n<e&&t.clear(e-n)},WAF.EntityCache.prototype.setEntry=function(t,n,r,i){function s(t,n){for(e in n){var r=t[e];r==null?t[e]=n[e]:r.__deferred!=null&&(t[e]=n[e])}return t}var o=this,u=o.entitiesByKey,a=u[t];if(a==null)o.nbEntries>=o.maxEntities&&o.clear(Math.round(o.nbEntries/3)),o.nbEntries++;else{var f=-1,l=null;n!=null&&(l=n.__STAMP),a.rawEntity!=null&&(f=a.rawEntity.__STAMP),f===l&&(n=s(n,a.rawEntity))}var c=o.getNextStamp();return u[t]={key:t,timeStamp:r,rawEntity:n,stamp:c},c},WAF.EntityCache.prototype.getCacheInfo=function(e){var t=this,n=t.entitiesByKey[e];return n},WAF.EntityCache.prototype.replaceCachedEntity=function(e,t){var n=this,r=n.entitiesByKey[e];r!=null&&(r.timeStamp=new Date,r.rawEntity=t,r.stamp=n.getNextStamp())},WAF.EntityCache.prototype.removeCachedEntity=function(e){var t=this,n=t.entitiesByKey[e];n!=null&&delete t.entitiesByKey[e]},WAF.EntityCache.prototype.setSize=function(e){if(e==null||e<300)e=300;this.maxEntities=e},WAF.EntityRefCache=function(e){e=e||{};var t=this;this.maxEntities=e.maxEntities||300,this.timeOut=e.timeOut||3e5,this.entitiesByKey={},this.nbEntries=0,this.curStamp=0},WAF.EntityRefCache.prototype.clear=function(e){var t=this;if(e==null||e>=t.nbEntries)t.entitiesByKey={},t.nbEntries=0;else{var n=[],r=t.entitiesByKey;for(var i in r)n.push(r[i]);n.sort(function(e,t){return e.timeStamp>t.timeStamp?1:-1});var s=e;s>n.length&&(s=n.length);var o=t.nbEntries;for(var u=0;u<s;u++){var a=n[u];delete r[a.key],--o}t.nbEntries=o,delete n}},WAF.EntityRefCache.prototype.makeRoomFor=function(e){var t=this;t.maxEntities<e*2&&(t.maxEntities=e*2);var n=t.maxEntities-t.nbEntries;n<e&&t.clear(e-n)},WAF.EntityRefCache.prototype.setEntry=function(e){var t=e.getKey();if(t!=null){var n=this,r=n.entitiesByKey,i=r[t],s=new Date;i==null?(n.nbEntries>=n.maxEntities&&n.clear(Math.round(n.nbEntries/3)),n.nbEntries++,r[t]={key:t,timeStamp:s,entity:e}):(i.entity!==e&&n.mergeEntity(i.entity,e),i.timeStamp=s)}},WAF.EntityRefCache.prototype.mergeEntity=function(e,t){e._private.stamp=t._private.stamp,e._private.touched=!1;var n=e._private.values,r=t._private.values,i=e._private.dataClass._private.attributesByName;for(var s in i){var o=r[s]||null;o==null?(delete n[s],delete e[s]):(n[s]=o,e[s]=o)}},WAF.EntityRefCache.prototype.getCacheInfo=function(e){var t=this,n=t.entitiesByKey[e];return n},WAF.EntityRefCache.prototype.removeCachedEntity=function(e){var t=this,n=t.entitiesByKey[e];n!=null&&delete t.entitiesByKey[e]},WAF.EntityRefCache.prototype.setSize=function(e){if(e==null||e<300)e=300;this.maxEntities=e},WAF.DataStore=function(e,t){e=e||{},t=t;var n=this;this._private={owner:this,dataClasses:{},dataClassesByCollectionName:{},ready:!1,cacheRef:e.cacheRef||!1,getCatalog:WAF.DataStore.getCatalog},n._private.getCatalog(e,t)},WAF.DataStore.prototype.getDataClass=function(e){var t=this._private,n=t.dataClasses[e];return n==null&&(n=t.dataClassesByCollectionName[e]),n},WAF.DataStore.prototype.getDataClasses=function(){var e=this._private;return e.dataClasses},WAF.DataStore.prototype.mustCacheRef=function(){return this._private.cacheRef},WAF.DataStore.prototype.addToCatalog=function(e,t,n){n=n||null,t=t||{};var r=this._private;t.catalog=e,t.mergeCatalog=!0,r.getCatalog(t,n)},WAF.DataStore.resolveRelatedAttribute=function(){if(!this.resolved){var e=this.owner.getDataStore();this.relatedClass=e.getDataClass(this.type),this.relatedClass!=null&&(this.resolved=!0)}},WAF.DataStore.getRelatedClassAttribute=function(){return this.resolve(),this.relatedClass},WAF.DataStore.handleFuncResult=function(e,t,n){var r=WAF.getRequestResult(e);if(r.__ERROR==null){r.__entityModel!=null&&(n=n.getDataStore().getDataClass(r.__entityModel));if(r.__KEY!=null||r.__STAMP!=null){var i=new WAF.Entity(n,r,{getRefFromCache:!0});r={result:i}}else if(r.__ENTITIES!=null){var s=new WAF.EntityCollection(n,null,{prefetchedData:r,isMethodResult:!0});r={result:s}}}return r},WAF.DataStore.funcCaller=function(e,t,n,r){var i=null;r=r||{};var s=!0,o=r.sync||!1,u=e.callWithGet||r.callWithGet||!1,a=r.generateRESTRequestOnly||!1,f=new WAF.core.restConnect.restRequest(!o);u?f.httpMethod=WAF.core.restConnect.httpMethods._get:f.httpMethod=WAF.core.restConnect.httpMethods._post;var l=null,c=null,h=null,p=JSON.stringify(n);u?f.params=n:f.postdata=p;if(e.applyTo=="entity"){l=t,c=l.getDataClass(),f.attributesRequested=[e.name],f.resource=c.getName()+"(";var d=l.getKey();d!=null&&(f.resource+=d),f.resource+=")"}else e.applyTo=="entityCollection"?(h=t,c=h.getDataClass(),h._private.dataURI!=null?f.dataURI=h._private.dataURI+"/"+e.name:(f.attributesRequested=[e.name],f.resource=c.getName(),f.filter=r.queryString),f.savedQueryString=h._private.savedQuery,f.savedOrderby=h._private.savedOrderby,h._private.updateOptions(r)):e.applyTo=="general"?(f.resource=e.nameSpace,f.attributesRequested=[e.name]):(c=t,f.attributesRequested=[e.name],f.resource=c.getName());var v=r.pageSize||40;f.top=v,f.method="entityset",f.timeout=300,f.addToSet=r.addToSet,r.autoExpand!=null&&(f.autoExpand=r.autoExpand),r.filterAttributes!=null&&(f.filterAttributes=r.filterAttributes),o||(f.handler=function(){if(f.http_request.readyState!=4)return;var t=WAF.DataStore.handleFuncResult(f,e,c),n={result:t.result},i=t.__ERROR,s=r.userData||null;n.XHR=f.http_request,WAF.callHandler(i!=null,i,n,r,s)});if(a)i=f.go({generateRESTRequestOnly:!0});else{f.go();if(o){var m,g;m=function(){},g=function(){},n.length>0&&(n[0]&&typeof n[0]=="function"&&(m=n[0]),n[1]&&typeof n[1]=="function"&&(g=n[1]));if(f.http_request.readyState!=4)throw{error:401};var y=WAF.DataStore.handleFuncResult(f,e,c);if(y.__ERROR!=null)throw g(y),y.__ERROR;i=y.result,m(i)}}return i},WAF.DataStore.callMethod=function(e){var t=null,n=this,r=n._private.dataClassMethodRefs[e.method];if(r!=null){var i=[];if(e.arguments!=null)i=e.arguments;else for(var s=1,o=arguments.length;s<o;s++)i.push(arguments[s]);t=WAF.DataStore.funcCaller(r,n,i,e)}return t},WAF.DataStore.makeFuncCaller=function(e){var t=e,n=function(){var e,n=!1,r=[];for(var i=0,s=arguments.length;i<s;i++){var o=arguments[i];!n&&WAF.tools.isOptionParam(o)?(e=o,n=!0):r.push(o)}var u=e||{};return u.onSuccess===undefined&&u.onError===undefined&&u.generateRESTRequestOnly===undefined&&(u.sync=!0),WAF.DataStore.funcCaller(t,this,r,u)};return n},WAF.DataStore.getCatalog=function(e,t){var n=this,r=this.owner,i=WAF.tools.handleArgs(arguments,0);t=i.userData,e=i.options;var s=e.mergeCatalog||!1,o=!1,u="$all";n.cacheRef=n.cacheRef||e.cacheRef||!1,e.catalog!=null&&(typeof e.catalog=="string"?u=e.catalog:u=e.catalog.join(","),s&&(classList=u.split(","),newlist=[],classList.forEach(function(e){e!=""&&r[e]==null&&newlist.push(e)}),newlist.length==0&&(o=!0)));if(o){var a={dataStore:r,result:r};WAF.callHandler(!1,null,a,e,t)}else{u="$catalog/"+u;var f=new WAF.core.restConnect.restRequest(!0);f.resource=u,f.handler=function(){if(f.http_request.readyState!=4)return;var i=!1,s=null,o=null;try{var u=WAF.getRequestResult(f);u&&u.dataClasses?s=u.dataClasses:u&&u.className&&(s=[u]),s==null&&(s=[]),u.__ERROR!=null&&(i=!0,o=u.__ERROR)}catch(a){s=[],i=!0,o=a}for(var l=0,c=s.length;l<c;l++){var h=s[l],p=h.name;if(r[p]==null){var d=h.collectionName,v=new WAF.DataClass(h,r);n.dataClasses[p]=v,d!=null&&(n.dataClassesByCollectionName[d]=v),r[p]=v}}n.ready=!0;var m={dataStore:r,result:r};m.XHR=f.http_request,WAF.callHandler(i,o,m,e,t)};var l=f.go()}},WAF.DataClass=function(e,t){var n=this,r="";e.key&&(r=e.key[0].name),n._private={primaryKey:r,className:e.name,collectionName:e.collectionName,attributesByName:{},entityMethods:{},entityCollectionMethods:{},entityMethodRefs:{},entityCollectionMethodRefs:{},dataClassMethodRefs:{},owner:n,dataStore:t,cache:new WAF.EntityCache,refCache:new WAF.EntityRefCache,defaultTopSize:e.defaultTopSize,getEntityByURIOrKey:WAF.DataClass.getEntityByURIOrKey};var i=n._private,s=i.attributesByName,o=i.dataClassMethodRefs,u=i.entityCollectionMethodRefs,a=i.entityMethodRefs,f=i.entityCollectionMethods,l=i.entityMethods,c=e.attributes,h=e.methods;i.methods=h;if(c!=null)for(var p=0,d=c.length;p<d;p++){var v=c[p];v.owner=n,s[v.name]=v;if(v.kind=="storage"||v.kind=="calculated"||v.kind=="alias"||v.kind=="composition"){v.simple=!0,v.related=!1;if(v.type=="image"||v.type=="blob")v.simple=!1}else v.simple=!1,v.related=!0,v.resolved=!1,v.relatedOne=v.kind=="relatedEntity",v.resolve=WAF.DataStore.resolveRelatedAttribute,v.getRelatedClass=WAF.DataStore.getRelatedClassAttribute,v.relatedClass=null;n[v.name]=v}i.attributes=c;var m=h;if(m!=null)for(var p=0,g=m.length;p<g;p++){var y=m[p];y.applyTo=="entity"?(a[y.name]=y,l[y.name]=WAF.DataStore.makeFuncCaller(y)):y.applyTo=="entityCollection"?(u[y.name]=y,f[y.name]=WAF.DataStore.makeFuncCaller(y)):(o[y.name]=y,n[y.name]=WAF.DataStore.makeFuncCaller(y))}return this},WAF.DataClass.getEntityByURIOrKey=function(e,t,n,r){var i=WAF.tools.handleArgs(arguments,2);r=i.userData,n=i.options;var s=this,o=s.owner,u=new WAF.core.restConnect.restRequest(!0);t!=null?u.fullURL=t:u.resource=o.getName()+"("+e+")",u.autoExpand=n.autoExpand,u.autoSubExpand=n.autoSubExpand,u.filterAttributes=n.filterAttributes,u.handler=function(){if(u.http_request.readyState!=4)return;var e=!1,t=null,i=WAF.getRequestResult(u);i.__ERROR!=null&&(e=!0,t=i.__ERROR);var s=null;if(!e){var a=o.mustCacheRef();s=new WAF.Entity(o,i,{getRefFromCache:a});if(!a){var f=s.getKey(),l=o.getCache(),c=l.getCacheInfo(f);if(c==null){var h=new Date;l.setEntry(f,i,h)}else l.replaceCachedEntity(f,i)}}var p={entity:s,result:s};p.XHR=u.http_request,WAF.callHandler(e,t,p,n,r)};var a=u.go()},WAF.DataClass.mustCacheRef=function(){return this._private.dataStore.mustCacheRef()},WAF.DataClass.getName=function(){return this._private.className},WAF.DataClass.getCollectionName=function(){return this._private.collectionName},WAF.DataClass.getDefaultTopSize=function(){return this._private.defaultTopSize},WAF.DataClass.getDataStore=function(){return this._private.dataStore},WAF.DataClass.getCache=function(){return this._private.cache},WAF.DataClass.getRefCache=function(){return this._private.refCache},WAF.DataClass.setCacheSize=function(e){var t=this._private.cacheRef?this._private.refCache:this._private.cache;t.setSize(e)},WAF.DataClass.getCacheSize=function(){var e=this._private.cacheRef?this._private.refCache:this._private.cache;return e.maxEntities},WAF.DataClass.clearCache=function(){var e=this._private.cacheRef?this._private.refCache:this._private.cache;e.clear()},WAF.DataClass.getAttributeByName=function(e){var t=this;return t._private.attributesByName[e]},WAF.DataClass.getAttributes=function(){var e=this;return e._private.attributes},WAF.DataClass.getMethodList=function(){var e=this;return e._private.methods},WAF.DataClass.newEntity=function(){var e=new WAF.Entity(this);return e},WAF.DataClass.getEntity=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1);n=r.userData,t=r.options;var i=this;if(i.mustCacheRef()){var s=i.getRefCache(),o;t.forceReload?o=null:o=s.getCacheInfo(e);if(o==null)i._private.getEntityByURIOrKey(e,null,t,n);else{var u=o.entity,a={entity:u,result:u},f=WAF.callHandler(!1,null,a,t,n);typeof f=="boolean"&&(f||t!=null&&(t.mustStopLoop=!0))}}else{var s=i.getCache(),o;t.forceReload?o=null:o=s.getCacheInfo(e);if(o==null||o.rawEntity==null)i._private.getEntityByURIOrKey(e,null,t,n);else{var u=new WAF.Entity(i,o.rawEntity),a={entity:u,result:u},f=WAF.callHandler(!1,null,a,t,n);typeof f=="boolean"&&(f||t!=null&&(t.mustStopLoop=!0))}}},WAF.DataClass.newCollection=function(e,t,n){if(e==null){var r=new WAF.EntityCollection(this,null,{createEmptyCollection:!0});return r}var i=WAF.tools.handleArgs(arguments,1);n=i.userData,t=i.options,t.dataURI=e.dataURI,t.pageSize=t.pageSize||e.pageSize,t.autoExpand=t.autoExpand||e.autoExpand,t.filterAttributes=t.filterAttributes||e.filterAttributes,t.savedQuery=e.savedQuery||null,t.savedOrderby=e.savedOrderby||null;var r=new WAF.EntityCollection(this,null,t,n);return r},WAF.DataClass.getEntityByURI=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1);n=r.userData,t=r.options;var i=this;i._private.getEntityByURIOrKey(null,e,t,n)},WAF.DataClass.distinctValues=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1);n=r.userData,t=r.options;var i=t.queryString,s=t.skip,o=t.top,u=this,a=new WAF.core.restConnect.restRequest(!0);a.resource=u.getName(),a.filter=i,a.skip=s,a.top=o,a.options={objectRef:this,first:s,top:o},e!=null&&(a.attributesRequested=[e]),a.distinct=!0,a.addToSet=t.addToSet,a.handler=function(){if(a.http_request.readyState!=4)return;var e=WAF.getRequestResult(a),r=!1,i=null;if(e.__ERROR!=null){i=e.__ERROR,r=!0;for(var s=0;s<e.__ERROR.length;s++){var o=e.__ERROR[s];o.options==null&&(o.options={}),o.options.position=first}}var u={result:e,distinctValues:e,XHR:a.http_request};WAF.callHandler(r,i,u,t,n)},a.go()},WAF.DataClass.query=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1,{queryParams:!0});n=r.userData,t=r.options;var i=this,s=new WAF.EntityCollection(i,e,t,n);return s},WAF.DataClass.allEntities=function(e,t){var n=WAF.tools.handleArgs(arguments,0);return t=n.userData,e=n.options,this.query("",e,t)},WAF.DataClass.find=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1,{queryParams:!0});n=r.userData,t=r.options;var i=this,s=this._private,o=new WAF.core.restConnect.restRequest(!0);o.resource=i.getName(),o.autoExpand=t.autoExpand,o.filterAttributes=t.filterAttributes,o.filter=e,o.top=1,o.orderby=t.orderby,o.params=t.params,o.handler=function(){if(o.http_request.readyState!=4)return;var e=!1,r=null,s=WAF.getRequestResult(o);s.__ERROR!=null&&(e=!0,r=s.__ERROR);var u=null;!e&&s.__ENTITIES!=null&&s.__ENTITIES.length>0&&(u=new WAF.Entity(i,s.__ENTITIES[0],{getRefFromCache:!0}));var a={entity:u,result:u,XHR:o.http_request};WAF.callHandler(e,r,a,t,n)};var u=o.go()},WAF.DataClass.toArray=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1);n=r.userData,t=r.options;var i=this,s=new WAF.core.restConnect.restRequest(!0);s.resource=this.getName(),s.top=t.top||null,s.skip=t.skip||null,s.addToSet=t.addToSet,s.retainPositions=t.retainPositions||null,s.progressInfo=t.progressInfo,s.orderby=t.orderby,s.autoExpand=e,s.asArray=!0,t.filterQuery&&(s.filter=t.filterQuery,s.params=t.params),s.handler=function(){if(s.http_request.readyState!=4)return;var e=WAF.getRequestResult(s),r={dataClass:i,result:e,XHR:s.http_request},o=e.__ERROR!=null;WAF.callHandler(o,e.__ERROR,r,t,n)};var o=s.go()},WAF.EntityCollectionPage=function(e,t){var n=this;this.start=e,this.length=t,this.entityKeys=[]},WAF.EntityCollection=function(e,t,n,r){if(t=="''"||t=="")t=null;var i=WAF.tools.handleArgs(arguments,2);r=i.userData,n=i.options;var s=n.filterSet,o;s!=null?(o=s._private.savedQuery,o!=null?t!=null&&(o="("+o+") and "+t):saveQuery=t):o=t,o==null&&(o=n.savedQuery||null),n.orderby==null&&n.orderBy!=null&&(n.orderby=n.orderBy);var u=n.orderby||null;u==null&&(u=n.savedOrderby||null);var a=n.pageSize||40,f=this;this._private={ready:!1,owner:this,queryString:t,savedQuery:o,orderby:u,savedOrderby:u,dataURI:n.dataURI,pageSize:a,withQueryPlan:n.queryPlan,withQueryPath:n.queryPath,progressInfo:n.progressInfo,params:n.params,dataClass:e,methodRefs:e._private.entityCollectionMethodRefs,methods:e._private.entityCollectionMethods,autoExpand:n.autoExpand,autoSubExpand:n.autoSubExpand,filterAttributes:n.filterAttributes,isMethodResult:n.isMethodResult,isARelatedEntityCollection:n.isARelatedEntityCollection,loadedElemsLength:0,addedElems:[],curPendingStamp:0,pendingRequests:{},pages:[],clearCache:WAF.EntityCollection.clearCache,insertPage:WAF.EntityCollection.insertPage,findPage:WAF.EntityCollection.findPage,invalidPage:WAF.EntityCollection.invalidPage,getKeyByPos:WAF.EntityCollection.getKeyByPos,manageData:WAF.EntityCollection.manageData,fetchData:WAF.EntityCollection.fetchData,addPendingRequest:WAF.EntityCollection.addPendingRequest,clearPendingRequest:WAF.EntityCollection.clearPendingRequest,clearAllPendingRequest:WAF.EntityCollection.clearAllPendingRequest,isPagePending:WAF.EntityCollection.isPagePending,gotEntity:WAF.EntityCollection.gotEntity,updateOptions:WAF.EntityCollection.updateOptions};var l=this._private,c=l.methods;for(var h in c)f[h]=c[h];return this.length=0,n.init=!0,n.createEmptyCollection?(l.ready=!0,t="*"):n.dataURI!=null&&n.dataURI=="*"?l.ready=!0:n.prefetchedData!=null?f._private.manageData(n.prefetchedData,!0):(t==null&&l.savedQuery==null&&(l.savedQuery="$all"),f._private.fetchData(0,a,n,r)),f},WAF.EntityCollection.clearCache=function(){var e=this;e.pages=[]},WAF.EntityCollection.insertPage=function(e){var t=this,n=t.pages,r=n.length;if(r==0)n.push(e);else{var i=-1;for(var s=0;s<r;s++){var o=n[s];if(o.start>e.start){i=s;break}}i==-1?n.push(e):n.splice(i,0,e)}},WAF.EntityCollection.findPage=function(e){var t=this,n=t.pages,r=n.length,i=0,s=r;while(s>i){var o=Math.floor((s-i)/2)+i,u=n[o];if(u.start<=e&&u.start+u.length>e)return o;e<u.start?s=o:i=o+1}return-1},WAF.EntityCollection.invalidPage=function(e){var t=this,n=t.findPage(e);n!=-1&&t.pages.splice(n,1)},WAF.EntityCollection.getKeyByPos=function(e){var t=null,n=this,r=n.findPage(e);if(r!=-1){var i=n.pages[r],s=i.entityKeys[e-i.start];t=s.key}return t},WAF.EntityCollection.addPendingRequest=function(e,t){var n=this;return n.curPendingStamp++,n.pendingRequests[n.curPendingStamp]={start:e,length:t},n.curPendingStamp},WAF.EntityCollection.clearPendingRequest=function(e){var t=this;delete t.pendingRequests[e]},WAF.EntityCollection.clearAllPendingRequest=function(){var e=this;for(var t in e.pendingRequests)e.pendingRequests[t]},WAF.EntityCollection.isPagePending=function(e){var t=this;for(var n in t.pendingRequests){var r=t.pendingRequests[n];if(r.start<=e&&r.start+r.length>e)return!0}return!1},WAF.EntityCollection.manageData=function(e,t){var n=this,r=this.owner,i=r.getDataClass(),s;t=t||!1,t&&(r.length=e.__COUNT,n.ready=!0,n.loadedElemsLength=r.length,n.dataURI=e.__ENTITYSET,n.autoSubExpand!=null&&(n.autoExpand=n.autoSubExpand,n.autoSubExpand=null));var o=e.__SENT,u=e.__FIRST,a=e.__ENTITIES,f=new Date,l=new WAF.EntityCollectionPage(u,o),c=i.mustCacheRef();c?s=i.getRefCache():s=i.getCache(),s.makeRoomFor(o);for(var h=0;h<o;h++){var p=a[h],d;if(p==null)c||s.setEntry("",{__STAMP:0},f),d="";else{var v=-1;d=p.__KEY,d==null&&(d="");if(c)var m=new WAF.Entity(i,p,{getRefFromCache:!0});else v=s.setEntry(d,p,f)}l.entityKeys.push({key:p.__KEY,stamp:v})}n.insertPage(l)},WAF.EntityCollection.fetchData=function(e,t,n,r){var i=WAF.tools.handleArgs(arguments,2);r=i.userData,n=i.options;var s=n.filterSet,o=n.init||!1,u=this,a=this.owner,f=a.getDataClass(),l=f.getCache(),c=u.addPendingRequest(e,t),h=new WAF.core.restConnect.restRequest(!0);h.entityCollection=a,h.resource=u.dataClass.getName(),s!=null?s._private.dataURI!=null?(h.dataURI=s._private.dataURI,h.filter=u.queryString):h.filter=u.savedQuery:h.filter=u.queryString,h.top=t,h.skip=e,h.attributesRequested=null,h.attributesExpanded=null,h.autoExpand=u.autoExpand,h.autoSubExpand=u.autoSubExpand,h.filterAttributes=u.filterAttributes,h.params=u.params,u.mustRefreshCollectionOnNextFetch&&(h.refreshOnly=!0,u.mustRefreshCollectionOnNextFetch=!1),n.fromSelection&&(h.fromSelection=n.fromSelection);if(o){h.removeAtPos=n.removeAtPos,h.removeReferenceOnly=n.removeReferenceOnly,h.addToSet=n.addToSet;var p=h.fromSelection;p!=null&&(h.fromSelection=p.prepareToSend())}h.queryPlan=u.withQueryPlan,h.progressInfo=u.progressInfo,u.isARelatedEntityCollection?h.method="subentityset":h.method="entityset",h.timeout=n.timeout||300,h.savedOrderby=u.savedOrderby,h.savedQueryString=u.savedQuery,h.dataURI=h.dataURI||u.dataURI,h.dataURI&&s==null&&(h.filter=null),h.orderby=n.orderby,h.subOrderby=n.subOrderby,h.keepSelection=n.keepSelection,h.reselect=n.reselect,h.handler=function(){if(h.http_request.readyState!=4)return;u.clearPendingRequest(c);var e=WAF.getRequestResult(h),t={entityCollection:a,result:a,XHR:h.http_request},i=e.__ERROR!=null;i||(e.__transformedSelection!=null&&(t.transformedSelection=e.__transformedSelection),u.manageData(e,o)),WAF.callHandler(i,e.__ERROR,t,n,r)};var d=h.go()},WAF.EntityCollection.updateOptions=function(e){var t=this;if(t.addedElems.length>0){var n=[];for(var r=0,i=t.addedElems.length;r<i;r++){var s=t.addedElems[r],o=null;s!=null&&s.getKey&&(o=s.getKey()),o!=null&&n.push(o)}n.length>0&&(e.addToSet=n)}},WAF.EntityCollection.getDataClass=function(){var e=this;return e._private.dataClass},WAF.EntityCollection.getReference=function(){var e=null,t=this,n=t._private;return n.dataURI!=null&&(e={dataURI:n.dataURI},n.savedQuery!=null&&(e.savedQuery=n.savedQuery),n.savedOrderby!=null&&(e.savedOrderby=n.savedOrderby),n.pageSize!=null&&(e.pageSize=n.pageSize),n.autoExpand!=null&&(e.autoExpand=n.autoExpand)),e},WAF.EntityCollection.query=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1,{queryParams:!0});n=r.userData,t=r.options;var i=this;t.filterSet=i;var s=i.getDataClass();t.pageSize=t.pageSize||i._private.pageSize,t.autoExpand=t.autoExpand||i._private.autoExpand,t.filterAttributes=t.filterAttributes||i._private.filterAttributes,i._private.updateOptions(t);var o=new WAF.EntityCollection(s,e,t,n);return o},WAF.EntityCollection.orderBy=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1);n=r.userData,t=r.options;var i=this;if(this.length==0){var s={entityCollection:i,result:i};return WAF.callHandler(!1,null,s,t,n),i}t.orderby=e;var o=i._private;t.dataURI=o.dataURI;var u=i.getDataClass();t.pageSize=t.pageSize||o.pageSize,t.autoExpand=t.autoExpand||o.autoExpand,t.filterAttributes=t.filterAttributes||o.filterAttributes,o.updateOptions(t),t.savedQuery=o.savedQuery||null;var a=new WAF.EntityCollection(u,null,t,n);return a},WAF.EntityCollection.getEntities=function(e,t,n,r){var i=this,s=i._private;if(s.ready){e+t>i.length&&(t=i.length-e);var o=WAF.tools.handleArgs(arguments,2);r=o.userData,n=o.options;var u=s.loadedElemsLength,a=s.addedElems.length,f=i.getDataClass();s.updateOptions(n);var l=[],c={entityCollection:i,result:i,position:e,howMany:t,entities:l},h=null;i.forEach({first:e,limit:e+t,onSuccess:function(e){l.push(e.entity)},onError:function(e){h=e.error},atTheEnd:function(e){h!=null?WAF.callHandler(!0,h,c,n,r):WAF.callHandler(!1,null,c,n,r)}})}else setTimeout(function(){i.getEntities(e,t,n,r)},100)},WAF.EntityCollection.getEntity=function(e,t,n,r){var i=!1,s=WAF.tools.handleArgs(arguments,1);n=s.userData,t=s.options;var o=t!=null&&(t.forceCollectionRefresh||!1);s.nextParam<arguments.length?r=arguments[s.nextParam]||!1:r=!1;var u=this,a=u._private,f=a.loadedElemsLength;o&&(a.clearAllPendingRequest(),a.clearCache(),a.mustRefreshCollectionOnNextFetch=!0,f=u.length);var l=u.getDataClass();if(e>=f){i=!0;var c={entityCollection:u,result:u,position:e},h=e-a.loadedElemsLength;h<a.addedElems.length?(c.entity=a.addedElems[h],WAF.callHandler(!1,null,c,t,n)):o?WAF.callHandler(!1,null,c,t,n):WAF.callHandler(!0,[{error:501,message:"wrong position in entityCollection"}],c,t,n)}else{var p=!1,d=a.getKeyByPos(e);d==null&&!r&&(a.isPagePending(e)?setTimeout(function(){u.getEntity(e,t,n)},100):p=!0);if(d!=null){var v=l.mustCacheRef(),m;v?m=l.getRefCache():m=l.getCache();var g=m.getCacheInfo(d);g!=null?(i=!0,a.gotEntity(g,t,n,e)):(p=!0,d=null,a.invalidPage(e))}r&&(p=!1);if(d==null&&p){var y,b;t!=null?(y=t.delay,b=t.delayInfo):(y=null,b=null);if(y!=null&&y!=0&&b!=null){var w=b.findMatchingPendingRequest(e);if(w==null){var E=e-20;E<0&&(E=0),w=b.addPendingRequest(0,E,e+a.pageSize-1),w.addFetchRequest(e,t,n);var S=setTimeout(function(){if(w.matchRange(b.top,b.bottom)){var e={};o&&a.updateOptions(e),a.fetchData(w.top,w.bottom-w.top+1,{onSuccess:function(e){o&&(a.addedElems=[]),w.pendingFetch.forEach(function(e){if(e.pos>=b.top&&e.pos<=b.bottom){var t=a.getKeyByPos(e.pos),n=l.mustCacheRef(),r;n?r=l.getRefCache():r=l.getCache();var i=r.getCacheInfo(t);i!=null?a.gotEntity(i,e.options,e.userData,e.pos):a.gotEntity(null,e.options,e.userData)}}),b.removePendingRequest(w)},onError:function(e){w.pendingFetch.forEach(function(t){if(t.pos>=b.top&&t.pos<=b.bottom){var n={entityCollection:u,result:u,position:t.pos,entity:null};WAF.callHandler(!0,e.error,n,t.options,t.userData)}}),b.removePendingRequest(w)},init:o,addToSet:e.addToSet||null})}else b.removePendingRequest(w)},y);w.setRequestID(S)}else w.addFetchRequest(e,t,n)}else{var x={};o&&a.updateOptions(x),a.fetchData(e,a.pageSize,{onSuccess:function(r){o&&(a.addedElems=[]);var i=a.getKeyByPos(e),s=l.mustCacheRef(),u;s?u=l.getRefCache():u=l.getCache();var f=u.getCacheInfo(i);f!=null?a.gotEntity(f,t,n,e):a.gotEntity(null,t,n)},onError:function(r){var i={entityCollection:u,result:u,position:e,entity:null};WAF.callHandler(!0,r.error,i,t,n)},init:o,addToSet:x.addToSet||null})}}}return i},WAF.EntityCollection.gotEntity=function(e,t,n,r){var i=this,s=i.owner,o;e!=null?e.entity!=null?o=e.entity:o=new WAF.Entity(s.getDataClass(),e.rawEntity,{getRefFromCache:!0}):o=null;var u={entityCollection:s,result:o,entity:o,position:r};WAF.callHandler(!1,null,u,t,n)},WAF.EntityCollection.callMethod=function(e){var t=this,n=t._private.methodRefs[e.method];if(n!=null){var r=[];if(e.arguments!=null)r=e.arguments;else for(var i=1,s=arguments.length;i<s;i++)r.push(arguments[i]);return WAF.DataStore.funcCaller(n,t,r,e)}},WAF.EntityCollection.parseForEach=function(e,t){var n=!0,r=t.entityCollection,i=r._private,s=!1;while(n&&t.curelem<t.limit&&!s)n=r.getEntity(t.curelem,e,t.userData,!0),e!=null&&e.mustStopLoop?s=!0:n?t.curelem++:r.getEntity(t.curelem,{onSuccess:function(n){WAF.EntityCollection.parseForEach(e,t)},onError:function(n){WAF.callHandler(!0,n.error,n,e,t.userData)}},t);if(n&&e.atTheEnd!=null){var o={entityCollection:r,userData:t.userData};e.atTheEnd(o)}return n},WAF.EntityCollection.forEach=function(e,t){var n=this,r=n._private,i=WAF.tools.handleArgs(arguments,0,{with3funcs:!0});t=i.userData,e=i.options;var s={curelem:e.first||0,limit:e.limit||n.length,userData:t,entityCollection:n};WAF.EntityCollection.parseForEach(e,s)},WAF.EntityCollection.forEachInCache=function(e,t){var n=this,r=n._private,i=WAF.tools.handleArgs(arguments,0,{with3funcs:!0});t=i.userData,e=i.options;var s=!1,o=-1,u=r.pages.length,a=0,f=0,l=null,c=0,h=e.first||0,p=e.limit||n.length;while(!s){a>=f?(++o,o>=u?s=!0:(l=r.pages[o],f=l.length,a=0,c=l.start)):++a;if(!s){var d=c+a;d>=h&&(d<p?n.getEntity(d,e,t,!0):s=!0)}}},WAF.EntityCollection.add=function(e){e!=null&&(this._private.addedElems.push(e),this.length++)},WAF.EntityCollection.refresh=function(e,t){e=e||{},e.forceCollectionRefresh=!0;var n=0;e.refreshCollectionFrom!=null&&(n=e.refreshCollectionFrom),t=t,this.getEntity(n,e,t)},WAF.EntityCollection.toArray=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1);n=r.userData,t=r.options;var i=this,s=i._private;s.updateOptions(t);var o=new WAF.core.restConnect.restRequest(!0);o.entityCollection=i,o.resource=s.dataClass.getName(),o.top=t.top||s.pageSize||40,o.skip=t.skip||null,o.params=s.params,o.addToSet=t.addToSet,o.retainPositions=t.retainPositions||null,o.progressInfo=t.progressInfo||s.progressInfo,o.savedOrderby=s.savedOrderby,o.savedQueryString=s.savedQuery,o.dataURI=s.dataURI,o.orderby=t.orderby,o.autoExpand=e,o.asArray=!0,t.filterQuery&&(o.filter=t.filterQuery,o.params=t.params),o.handler=function(){if(o.http_request.readyState!=4)return;var e=WAF.getRequestResult(o),r={entityCollection:i,result:e,XHR:o.http_request},s=e.__ERROR!=null;WAF.callHandler(s,e.__ERROR,r,t,n)};var u=o.go()},WAF.EntityCollection.distinctValues=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1);n=r.userData,t=r.options;var i=this,s=i._private;s.updateOptions(t);var o=new WAF.core.restConnect.restRequest(!0);o.entityCollection=i,o.resource=s.dataClass.getName(),o.addToSet=t.addToSet,o.top=t.top||null,o.skip=t.skip||null,o.params=s.params,o.progressInfo=t.progressInfo||s.progressInfo,o.savedOrderby=s.savedOrderby,o.savedQueryString=s.savedQuery,o.dataURI=s.dataURI,o.distinct=!0,e!=null&&(o.attributesRequested=[e]),o.handler=function(){if(o.http_request.readyState!=4)return;var e=WAF.getRequestResult(o),r={entityCollection:i,distinctValues:e,result:e,XHR:o.http_request},s=e.__ERROR!=null;WAF.callHandler(s,e.__ERROR,r,t,n)};var u=o.go()},WAF.EntityCollection.findKey=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1);n=r.userData,t=r.options;var i=this,s=i._private;s.updateOptions(t);var o=new WAF.core.restConnect.restRequest(!0);o.entityCollection=i,o.resource=s.dataClass.getName(),o.addToSet=t.addToSet,o.top=t.top||null,o.skip=t.skip||null,o.params=s.params,o.progressInfo=t.progressInfo||s.progressInfo,o.savedOrderby=s.savedOrderby,o.savedQueryString=s.savedQuery,o.dataURI=s.dataURI,e instanceof Date&&(e=e.toISO()),o.findKey=e,o.handler=function(){if(o.http_request.readyState!=4)return;var e=WAF.getRequestResult(o),r={entityCollection:i,result:e.result,XHR:o.http_request},s=e.__ERROR!=null;WAF.callHandler(s,e.__ERROR,r,t,n)};var u=o.go()},WAF.EntityCollection.removeEntityReference=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1);n=r.userData,t=r.options,t.removeReferenceOnly=!0,this.removeEntity(e,t,n)},WAF.EntityCollection.removeEntity=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1);n=r.userData,t=r.options;var i=this,s=i._private;t.dataURI=s.dataURI;var o=i.getDataClass();if(!(e>=s.loadedElemsLength&&e<i.length)){t.pageSize=t.pageSize||s.pageSize,t.autoExpand=t.autoExpand||s.autoExpand,t.filterAttributes=t.filterAttributes||s.filterAttributes,s.updateOptions(t),t.removeAtPos=e,t.savedQuery=s.savedQuery||null,t.savedOrderby=s.savedOrderby||null;var l=new WAF.EntityCollection(o,null,t,n);return l}var u=e-s.loadedElemsLength,a=s.addedElems[u],f={entityCollection:i,result:i};a==null||a.getKey()==null||t.removeReferenceOnly?(s.addedElems.splice(u,1),i.length--,WAF.callHandler(!1,null,f,t,n)):a.remove({onSuccess:function(e){s.addedElems.splice(u,1),i.length--,WAF.callHandler(!1,null,f,t,n)},onError:function(e){WAF.callHandler(!0,e.error,f,t,n)}})},WAF.EntityCollection.removeAllEntities=function(e,t){var n=WAF.tools.handleArgs(arguments,0);t=n.userData,e=n.options;var r=this,i=r._private;i.updateOptions(e);var s=new WAF.core.restConnect.restRequest(!0);s.entityCollection=r,s.resource=i.dataClass.getName(),s.addToSet=e.addToSet,s.params=i.params,s.progressInfo=e.progressInfo||i.progressInfo,s.savedOrderby=i.savedOrderby,s.savedQueryString=i.savedQuery,s.dataURI=i.dataURI,s.method="delete",s.atOnce=e.atOnce,s.handler=function(){if(s.http_request.readyState!=4)return;var n=WAF.getRequestResult(s),i={entityCollection:r,XHR:s.http_request},o=n.__ERROR!=null;WAF.callHandler(o,n.__ERROR,i,e,t)};var o=s.go()},WAF.EntityCollection.buildFromSelection=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1);n=r.userData,t=r.options;var i=this,s=i._private,o=i.getDataClass();t.pageSize=t.pageSize||s.pageSize,t.autoExpand=t.autoExpand||s.autoExpand,t.filterAttributes=t.filterAttributes||s.filterAttributes,s.updateOptions(t),t.filterSet=i,t.fromSelection=e,t.savedQuery=s.savedQuery||null,t.savedOrderby=s.savedOrderby||null;var u=new WAF.EntityCollection(o,null,t,n);return u},WAF.EntityAttributeSimple=function(e,t,n){this.owner=e,n.type=="date"&&typeof t=="string"?n.simpleDate?this.value=stringToSimpleDate(t):this.value=ISOToDate(t):this.value=t,this.touched=!1,this.att=n,this.getValue=WAF.EntityAttributeSimple.getValue,this.setValue=WAF.EntityAttributeSimple.setValue,this.touch=WAF.EntityAttributeSimple.touch,this.isTouched=WAF.EntityAttributeSimple.isTouched,this.clearTouched=WAF.EntityAttributeSimple.clearTouched,this.getOldValue=WAF.EntityAttributeSimple.getOldValue,this.setRawValue=WAF.EntityAttributeSimple.setRawValue,this.getRawValue=WAF.EntityAttributeSimple.getRawValue},WAF.EntityAttributeSimple.getValue=function(){return this.value},WAF.EntityAttributeSimple.setValue=function(e){this.oldValue===undefined&&(this.oldValue=this.value),this.value=e,this.touch()},WAF.EntityAttributeSimple.touch=function(){this.touched=!0,this.owner.touch()},WAF.EntityAttributeSimple.clearTouched=function(){this.touched=!1},WAF.EntityAttributeSimple.isTouched=function(){return this.touched},WAF.EntityAttributeSimple.getOldValue=function(){return this.oldValue===undefined?this.getValue():this.oldValue},WAF.EntityAttributeSimple.setRawValue=function(e){this.att.type==="date"&&typeof e=="string"?this.att.simpleDate?this.value=stringToSimpleDate(e):this.value=ISOToDate(e):this.value=e,delete this.oldValue},WAF.EntityAttributeSimple.getRawValue=function(){var e=this.value;return e!=null&&this.att.type=="date"&&(this.att.simpleDate?e=e.toSimpleDateString():e=e.toISO()),e},WAF.EntityAttributeRelated=function(e,t,n){WAF.EntityAttributeSimple.call(this,e,t,n);if(t!=null)if(t.__deferred!=null)this.relEntity=null,this.dataURI=t.__deferred.uri,this.relKey=t.__deferred.__KEY;else{var r=n.getRelatedClass();r==null?(this.relEntity=null,this.dataURI=null,this.relKey=null):(this.relEntity=new WAF.Entity(r,t,{getRefFromCache:!0}),this.dataURI=null,this.relKey=null)}else this.relEntity=null,this.dataURI=null,this.relKey=null;this.setValue=WAF.EntityAttributeRelated.setValue,this.getValue=WAF.EntityAttributeRelated.getValue,this.load=this.getValue,this.setRawValue=WAF.EntityAttributeRelated.setRawValue,this.getRawValue=WAF.EntityAttributeRelated.getRawValue,this.getOldValue=WAF.EntityAttributeRelated.getOldValue,this.getRelatedKey=WAF.EntityAttributeRelated.getRelatedKey},WAF.EntityAttributeRelated.getRelatedKey=function(){var e=null;return this.relEntity==null?e=this.relKey:e=this.relEntity.getKey(),e},WAF.EntityAttributeRelated.getOldValue=function(){return this.oldValue===undefined?this.getValue():this.oldValue},WAF.EntityAttributeRelated.getValue=function(e,t){if(e==null)return this.relEntity;var n=WAF.tools.handleArgs(arguments,0);t=n.userData,e=n.options;var r=this,i={entity:null};if(r.relEntity==null)if(r.dataURI==null&&r.relKey==null)WAF.callHandler(!1,null,i,e,t);else{var s=r.att.getRelatedClass();s==null?WAF.callHandler(!1,null,i,e,t):r.relKey!=null?s.getEntity(r.relKey,{onSuccess:function(n){r.relEntity=n.entity,WAF.callHandler(!1,null,n,e,t)},onError:function(n){WAF.callHandler(!0,n.error,n,e,t)},autoExpand:e.autoExpand}):s.getEntityByURI(r.dataURI,{onSuccess:function(n){r.relEntity=n.entity,WAF.callHandler(!1,null,n,e,t)},onError:function(n){WAF.callHandler(!0,n.error,n,e,t)},autoExpand:e.autoExpand})}else i.entity=r.relEntity,WAF.callHandler(!1,null,i,e,t)},WAF.EntityAttributeRelated.setValue=function(e){this.oldValue===undefined&&(this.oldValue=this.relEntity),this.relEntity=e,this.touched=!0,this.owner.touch(),this.dataURI=null,e==null?this.relKey=null:e instanceof WAF.Entity?this.relKey=e.getKey():this.relKey!==e&&(this.relEntity=null,this.relKey=e)},WAF.EntityAttributeRelated.setRawValue=function(e){if(e!=null)if(e.__deferred!=null)this.relEntity=null,this.dataURI=e.__deferred.uri,this.relKey=e.__deferred.__KEY;else{var t=this.att.getRelatedClass();t==null?(this.relEntity=null,this.dataURI=null,this.relKey=null):(this.relEntity=new WAF.Entity(t,e,{getRefFromCache:!0}),this.dataURI=null,this.relKey=null)}else this.relEntity=null,this.dataURI=null,this.relKey=null;delete this.oldValue},WAF.EntityAttributeRelated.getRawValue=function(){var e=this.relKey;return this.relEntity&&(e=this.relEntity.getKey()),e!=null?{__KEY:e}:this.relEntity?this.relEntity._private.getRESTFormat():null},WAF.EntityAttributeRelatedSet=function(e,t,n){WAF.EntityAttributeSimple.call(this,e,t,n);if(t!=null)if(t.__deferred!=null)this.relEntityCollection=null,this.dataURI=t.__deferred.uri;else{var r=n.getRelatedClass();r==null?(this.relEntityCollection=null,this.dataURI=null):(this.relEntityCollection=new WAF.EntityCollection(r,null,{prefetchedData:t}),this.dataURI=this.relEntityCollection._private.dataURI)}else this.relEntityCollection=null,this.dataURI=null;this.setValue=WAF.EntityAttributeRelatedSet.setValue,this.getValue=WAF.EntityAttributeRelatedSet.getValue,this.setRawValue=WAF.EntityAttributeRelatedSet.setRawValue},WAF.EntityAttributeRelatedSet.setRawValue=function(e){if(e!=null){if(this.dataURI==null||e.__deferred!=this.dataURI)if(e.__deferred!=null)this.relEntityCollection=null,this.dataURI=e.__deferred.uri;else{var t=this.att.getRelatedClass();t==null?(this.relEntityCollection=null,this.dataURI=null):(this.relEntityCollection=new WAF.EntityCollection(t,null,{prefetchedData:e}),this.dataURI=this.relEntityCollection._private.dataURI)}}else this.relEntityCollection=null,this.dataURI=null},WAF.EntityAttributeRelatedSet.getValue=function(e,t){if(e==null)return this.relEntityCollection;var n=WAF.tools.handleArgs(arguments,0);t=n.userData,e=n.options;var r=null,i=this,s={entityCollection:null};if(this.relEntityCollection!=null){r=this.relEntityCollection;if(r._private.ready)s.entityCollection=r,WAF.callHandler(!1,null,s,e,t);else{var o=function(){r._private.ready?(s.entityCollection=r,WAF.callHandler(!1,null,s,e,t)):setTimeout(o,100)};setTimeout(o,100)}}else{var u=this.att.getRelatedClass();u==null?WAF.callHandler(!0,{error:601,errorMessage:"wrong entityCollection reference"},s,e,t):(this.dataURI==null&&(this.dataURI="*"),e.isARelatedEntityCollection=!0,e.dataURI=this.dataURI,this.relEntityCollection=new WAF.EntityCollection(u,null,e,t),r=this.relEntityCollection)}return r},WAF.Entity=function(e,t,n){var r=this;n=n||{};var i=(n.getRefFromCache||!1)&&e.mustCacheRef(),s,o=null,u;if(i&&t!=null){s=e.getRefCache(),u=t.__KEY;if(u!=null){o=s.getCacheInfo(u);if(o!=null&&t.__STAMP===o.entity.getStamp())return o.timeStamp=new Date,r=o.entity,r}}this._private={touched:!1,isNew:!0,dataClass:e,owner:this,values:{},methodRefs:e._private.entityMethodRefs,methods:e._private.entityMethods,getRESTFormat:WAF.Entity.getRESTFormat};var a=this._private,f=a.methods;for(var l in f)r[l]=f[l];this.touch=WAF.Entity.touch,this.getDataClass=WAF.Entity.getDataClass,this.getKey=WAF.Entity.getKey,this.setStamp=WAF.Entity.setStamp,this.setKey=WAF.Entity.setKey,this.getStamp=WAF.Entity.getStamp,this.callMethod=WAF.Entity.callMethod,this.isNew=WAF.Entity.isNew,this.isTouched=WAF.Entity.isTouched,this.save=WAF.Entity.save,this.remove=WAF.Entity.remove,this.lock=WAF.Entity.lock,this.unlock=WAF.Entity.unlock,this._dolock=WAF.Entity._dolock,this.serverRefresh=WAF.Entity.serverRefresh;var c=!1;t==null||t.__KEY==null?(this._private.key=null,this._private.stamp=0,this._private.isNew=!0,c=!0,t!=null&&(this._private.touched=!0)):(this._private.key=t.__KEY,this._private.stamp=t.__STAMP,this._private.isNew=!1);var h=r._private.values,p=e._private.attributesByName;for(var l in p){var d=p[l],v=t==null?null:t[l]==null?null:t[l],m;d.related?d.relatedOne?m=new WAF.EntityAttributeRelated(r,v,d):m=new WAF.EntityAttributeRelatedSet(r,v,d):m=new WAF.EntityAttributeSimple(r,v,d),c&&v!=null&&(m.touched=!0),h[l]=m,r[l]=m}if(i&&t!=null){s.setEntry(r);if(o!=null)return o.entity}},WAF.Entity.getRESTFormat=function(e){var t=this,n=this.owner,r={},i=n.getKey();i!=null?(r.__KEY=i,r.__STAMP=n.getStamp(),e&&(r.__STAMP=-r.__STAMP)):r.__ISNEW=!0;for(var s in t.values){var o=t.values[s];o.isTouched()&&(r[s]=o.getRawValue())}return r},WAF.Entity.touch=function(){this._private.touched=!0},WAF.Entity.getDataClass=function(){return this._private.dataClass},WAF.Entity.getKey=function(){return this._private.key},WAF.Entity.getStamp=function(){return this._private.stamp},WAF.Entity.setKey=function(e){this._private.key=e},WAF.Entity.setStamp=function(e){this._private.stamp=e},WAF.Entity.callMethod=function(e){var t=this,n=t._private.methodRefs[e.method];if(n!=null){var r=[];if(e.arguments!=null)r=e.arguments;else for(var i=1,s=arguments.length;i<s;i++)r.push(arguments[i]);return WAF.DataStore.funcCaller(n,t,r,e)}},WAF.Entity.isNew=function(){return this._private.isNew},WAF.Entity.isTouched=function(){return this._private.touched},WAF.Entity.serverRefresh=function(e,t){var n=WAF.tools.handleArgs(arguments,0);t=n.userData,e=n.options,e.refreshOnly=!0,this.save(e,t)},WAF.Entity.lock=function(e,t){this._dolock(!0,e||null,t||null)},WAF.Entity.unlock=function(e,t){this._dolock(!1,e||null,t||null)},WAF.Entity._dolock=function(e,t,n){var r=this,i=WAF.tools.handleArgs(arguments,1);userData=i.userData,t=i.options;var s=r.getDataClass(),o=s.getName(),u=r.getKey(),a=new WAF.core.restConnect.restRequest(!0);a.resource=o+"("+u+")",a.mustlock=e,a.handler=function(){if(a.http_request.readyState!=4)return;var e=!1,n=!1,i=null,s=WAF.getRequestResult(a);s.__ERROR!=null?(n=!0,i=s.__ERROR):e=s.result;var o={entity:r,result:e};WAF.callHandler(n,i,o,t,userData)};var f=a.go()},WAF.Entity.remove=function(e,t){var n=this,r=WAF.tools.handleArgs(arguments,0);t=r.userData,e=r.options;var i=n.getDataClass(),s=i.getName(),o=n.getKey(),u=new WAF.core.restConnect.restRequest(!0);u.resource=s+"("+o+")",u.method="delete",u.handler=function(){if(u.http_request.readyState!=4)return;var r=!1,s=null,a=WAF.getRequestResult(u);a.__ERROR!=null?(r=!0,s=a.__ERROR):i.getCache().removeCachedEntity(o);var f={entity:n};WAF.callHandler(r,s,f,e,t)};var a=u.go()},WAF.Entity.save=function(e,t){var n=this,r=WAF.tools.handleArgs(arguments,0);t=r.userData,e=r.options;var i=n.getDataClass(),s=i.getName(),o=e.refreshOnly;o==null&&(o=!1);var u=new WAF.core.restConnect.restRequest(!0);u.resource=s;var a=n.getKey();a==null?(u.method="update",u.httpMethod=WAF.core.restConnect.httpMethods._post):(u.method="update",u.httpMethod=WAF.core.restConnect.httpMethods._post),u.postdata='{ "__ENTITIES": ['+JSON.stringify(n._private.getRESTFormat(e.overrideStamp))+"]}",u.refreshOnly=o,e.autoExpand!=null&&(u.autoExpand=e.autoExpand),e.filterAttributes!=null&&(u.filterAttributes=e.filterAttributes),u.handler=function(){if(u.http_request.readyState!=4)return;var r=WAF.getRequestResult(u),s={entity:n,rawResult:r,XHR:u.http_request},r=JSON.parse(u.http_request.responseText),f=!1,l=null;if(r&&r.__ENTITIES&&r.__ENTITIES[0]){var c=r.__ENTITIES[0];if(c.__ERROR)l=c.__ERROR,f=!0;else{var h=a,p=c.__KEY;o||(p!=null&&(n._private.key=p),n._private.stamp=c.__STAMP);var d=i._private.attributesByName;for(var v in d){var m=d[v],g=c[v];g===undefined&&(g=null);var y=n[v];y==null?(m.related?m.relatedOne?y=new WAF.EntityAttributeRelated(n,g,m):y=new WAF.EntityAttributeRelatedSet(n,g,m):y=new WAF.EntityAttributeSimple(n,g,m),n[v]=y):(y.setRawValue(g),o||y.clearTouched())}i.mustCacheRef()?i.getRefCache().setEntry(n):i.getCache().replaceCachedEntity(p,c),o||(n._private.touched=!1,n._private.isNew=!1)}}WAF.callHandler(f,l,s,e,t)};var f=u.go()},WAF.EntityCollection.prototype.getDataClass=WAF.EntityCollection.getDataClass,WAF.EntityCollection.prototype.query=WAF.EntityCollection.query,WAF.EntityCollection.prototype.getEntity=WAF.EntityCollection.getEntity,WAF.EntityCollection.prototype.getEntities=WAF.EntityCollection.getEntities,WAF.EntityCollection.prototype.callMethod=WAF.EntityCollection.callMethod,WAF.EntityCollection.prototype.each=WAF.EntityCollection.forEach,WAF.EntityCollection.prototype.forEach=WAF.EntityCollection.forEach,WAF.EntityCollection.prototype.forEachInCache=WAF.EntityCollection.forEachInCache,WAF.EntityCollection.prototype.add=WAF.EntityCollection.add,WAF.EntityCollection.prototype.orderBy=WAF.EntityCollection.orderBy,WAF.EntityCollection.prototype.toArray=WAF.EntityCollection.toArray,WAF.EntityCollection.prototype.distinctValues=WAF.EntityCollection.distinctValues,WAF.EntityCollection.prototype.findKey=WAF.EntityCollection.findKey,WAF.EntityCollection.prototype.removeEntity=WAF.EntityCollection.removeEntity,WAF.EntityCollection.prototype.removeEntityReference=WAF.EntityCollection.removeEntityReference,WAF.EntityCollection.prototype.removeAllEntities=WAF.EntityCollection.removeAllEntities,WAF.EntityCollection.prototype.buildFromSelection=WAF.EntityCollection.buildFromSelection,WAF.EntityCollection.prototype.getReference=WAF.EntityCollection.getReference,WAF.EntityCollection.prototype.refresh=WAF.EntityCollection.refresh,WAF.DataClass.prototype.distinctValues=WAF.DataClass.distinctValues,WAF.DataClass.prototype.all=WAF.DataClass.allEntities,WAF.DataClass.prototype.allEntities=WAF.DataClass.allEntities,WAF.DataClass.prototype.query=WAF.DataClass.query,WAF.DataClass.prototype.find=WAF.DataClass.find,WAF.DataClass.prototype.getAttributeByName=WAF.DataClass.getAttributeByName,WAF.DataClass.prototype.getAttributes=WAF.DataClass.getAttributes,WAF.DataClass.prototype.getMethodList=WAF.DataClass.getMethodList,WAF.DataClass.prototype.getCache=WAF.DataClass.getCache,WAF.DataClass.prototype.getRefCache=WAF.DataClass.getRefCache,WAF.DataClass.prototype.getCacheSize=WAF.DataClass.getCacheSize,WAF.DataClass.prototype.setCacheSize=WAF.DataClass.setCacheSize,WAF.DataClass.prototype.clearCache=WAF.DataClass.clearCache,WAF.DataClass.prototype.newEntity=WAF.DataClass.newEntity,WAF.DataClass.prototype.getEntity=WAF.DataClass.getEntity,WAF.DataClass.prototype.getEntityByURI=WAF.DataClass.getEntityByURI,WAF.DataClass.prototype.getDataStore=WAF.DataClass.getDataStore,WAF.DataClass.prototype.getCollectionName=WAF.DataClass.getCollectionName,WAF.DataClass.prototype.getDefaultTopSize=WAF.DataClass.getDefaultTopSize,WAF.DataClass.prototype.getName=WAF.DataClass.getName,WAF.DataClass.prototype.newCollection=WAF.DataClass.newCollection,WAF.DataClass.prototype.toArray=WAF.DataClass.toArray,WAF.DataClass.prototype.mustCacheRef=WAF.DataClass.mustCacheRef,WAF.DataClass.prototype.callMethod=WAF.DataStore.callMethod,WAF.directory=WAF.directory||{},WAF.directory.login=WAF.DataStore.makeFuncCaller({name:"login",applyTo:"general",nameSpace:"$directory"}),WAF.directory.loginByPassword=WAF.directory.login,WAF.directory.logout=WAF.DataStore.makeFuncCaller({name:"logout",applyTo:"general",nameSpace:"$directory"}),WAF.directory.loginByKey=WAF.DataStore.makeFuncCaller({name:"loginByKey",applyTo:"general",nameSpace:"$directory"}),WAF.directory.currentUser=WAF.DataStore.makeFuncCaller({name:"currentUser",applyTo:"general",nameSpace:"$directory"}),WAF.directory.currentUserBelongsTo=WAF.DataStore.makeFuncCaller({name:"currentUserBelongsTo",applyTo:"general",nameSpace:"$directory"}),WAF.dsExport=WAF.dsExport||{},WAF.dsExport.exportData=WAF.DataStore.makeFuncCaller({name:"exportData",applyTo:"general",nameSpace:"$impexp"});

/** original minified js  - from ../walib/WAF/lib/jquery-ui/jquery-ui.min.js */

/*!
 * jQuery UI 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */(function(a,b){function d(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}function c(b,c){var e=b.nodeName.toLowerCase();if("area"===e){var f=b.parentNode,g=f.name,h;if(!b.href||!g||f.nodeName.toLowerCase()!=="map")return!1;h=a("img[usemap=#"+g+"]")[0];return!!h&&d(h)}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||c:c)&&d(b)}a.ui=a.ui||{};a.ui.version||(a.extend(a.ui,{version:"1.8.17",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&f!==0)return f}d=d.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(c,d){function h(b,c,d,f){a.each(e,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),f&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)});return c}var e=d==="Width"?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){if(c===b)return g["inner"+d].call(this);return this.each(function(){a(this).css(f,h(this,c)+"px")})},a.fn["outer"+d]=function(b,c){if(typeof b!="number")return g["outer"+d].call(this,b);return this.each(function(){a(this).css(f,h(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d)e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(!!d&&!!a.element[0].parentNode)for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css("overflow")==="hidden")return!1;var d=c&&c==="left"?"scrollLeft":"scrollTop",e=!1;if(b[d]>0)return!0;b[d]=1,e=b[d]>0,b[d]=0;return e},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}}))})(jQuery);/*!
 * jQuery UI Widget 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */(function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++)try{a(e).triggerHandler("remove")}catch(f){}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}});return d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f;b=b.split(".")[1],f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[e][b].prototype=a.extend(!0,g,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e=="string",g=Array.prototype.slice.call(arguments,1),h=this;e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e;if(f&&e.charAt(0)==="_")return h;f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b){h=f;return!1}}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))});return h}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c=="string"){if(d===b)return this.options[c];e={},e[c]=d}this._setOptions(e);return this},_setOptions:function(b){var c=this;a.each(b,function(a,b){c._setOption(a,b)});return this},_setOption:function(a,b){this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",b);return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e,f,g=this.options[b];d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f)for(e in f)e in c||(c[e]=f[e]);this.element.trigger(c,d);return!(a.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}})(jQuery);/*!
 * jQuery UI Mouse 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */(function(a,b){var c=!1;a(document).mouseup(function(a){c=!1}),a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent")){a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation();return!1}}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(b){if(!c){this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=b.which==1,f=typeof this.options.cancel=="string"&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;if(!e||f||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==!1;if(!this._mouseStarted){b.preventDefault();return!0}}!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0;return!0}},_mouseMove:function(b){if(a.browser.msie&&!(document.documentMode>=9)&&!b.button)return this._mouseUp(b);if(this._mouseStarted){this._mouseDrag(b);return b.preventDefault()}this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b));return!this._mouseStarted},_mouseUp:function(b){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b));return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return!0}})})(jQuery);/*
 * jQuery UI Position 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Position
 */(function(a,b){a.ui=a.ui||{};var c=/left|center|right/,d=/top|center|bottom/,e="center",f={},g=a.fn.position,h=a.fn.offset;a.fn.position=function(b){if(!b||!b.of)return g.apply(this,arguments);b=a.extend({},b);var h=a(b.of),i=h[0],j=(b.collision||"flip").split(" "),k=b.offset?b.offset.split(" "):[0,0],l,m,n;i.nodeType===9?(l=h.width(),m=h.height(),n={top:0,left:0}):i.setTimeout?(l=h.width(),m=h.height(),n={top:h.scrollTop(),left:h.scrollLeft()}):i.preventDefault?(b.at="left top",l=m=0,n={top:b.of.pageY,left:b.of.pageX}):(l=h.outerWidth(),m=h.outerHeight(),n=h.offset()),a.each(["my","at"],function(){var a=(b[this]||"").split(" ");a.length===1&&(a=c.test(a[0])?a.concat([e]):d.test(a[0])?[e].concat(a):[e,e]),a[0]=c.test(a[0])?a[0]:e,a[1]=d.test(a[1])?a[1]:e,b[this]=a}),j.length===1&&(j[1]=j[0]),k[0]=parseInt(k[0],10)||0,k.length===1&&(k[1]=k[0]),k[1]=parseInt(k[1],10)||0,b.at[0]==="right"?n.left+=l:b.at[0]===e&&(n.left+=l/2),b.at[1]==="bottom"?n.top+=m:b.at[1]===e&&(n.top+=m/2),n.left+=k[0],n.top+=k[1];return this.each(function(){var c=a(this),d=c.outerWidth(),g=c.outerHeight(),h=parseInt(a.curCSS(this,"marginLeft",!0))||0,i=parseInt(a.curCSS(this,"marginTop",!0))||0,o=d+h+(parseInt(a.curCSS(this,"marginRight",!0))||0),p=g+i+(parseInt(a.curCSS(this,"marginBottom",!0))||0),q=a.extend({},n),r;b.my[0]==="right"?q.left-=d:b.my[0]===e&&(q.left-=d/2),b.my[1]==="bottom"?q.top-=g:b.my[1]===e&&(q.top-=g/2),f.fractions||(q.left=Math.round(q.left),q.top=Math.round(q.top)),r={left:q.left-h,top:q.top-i},a.each(["left","top"],function(c,e){a.ui.position[j[c]]&&a.ui.position[j[c]][e](q,{targetWidth:l,targetHeight:m,elemWidth:d,elemHeight:g,collisionPosition:r,collisionWidth:o,collisionHeight:p,offset:k,my:b.my,at:b.at})}),a.fn.bgiframe&&c.bgiframe(),c.offset(a.extend(q,{using:b.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window),e=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=e>0?b.left-e:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window),e=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=e>0?b.top-e:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if(c.at[0]!==e){var d=a(window),f=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),g=c.my[0]==="left"?-c.elemWidth:c.my[0]==="right"?c.elemWidth:0,h=c.at[0]==="left"?c.targetWidth:-c.targetWidth,i=-2*c.offset[0];b.left+=c.collisionPosition.left<0?g+h+i:f>0?g+h+i:0}},top:function(b,c){if(c.at[1]!==e){var d=a(window),f=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),g=c.my[1]==="top"?-c.elemHeight:c.my[1]==="bottom"?c.elemHeight:0,h=c.at[1]==="top"?c.targetHeight:-c.targetHeight,i=-2*c.offset[1];b.top+=c.collisionPosition.top<0?g+h+i:f>0?g+h+i:0}}}},a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),e=d.offset(),f=parseInt(a.curCSS(b,"top",!0),10)||0,g=parseInt(a.curCSS(b,"left",!0),10)||0,h={top:c.top-e.top+f,left:c.left-e.left+g};"using"in c?c.using.call(b,h):d.css(h)},a.fn.offset=function(b){var c=this[0];if(!c||!c.ownerDocument)return null;if(b)return this.each(function(){a.offset.setOffset(this,b)});return h.call(this)}),function(){var b=document.getElementsByTagName("body")[0],c=document.createElement("div"),d,e,g,h,i;d=document.createElement(b?"div":"body"),g={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},b&&jQuery.extend(g,{position:"absolute",left:"-1000px",top:"-1000px"});for(var j in g)d.style[j]=g[j];d.appendChild(c),e=b||document.documentElement,e.insertBefore(d,e.firstChild),c.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",h=a(c).offset(function(a,b){return b}).offset(),d.innerHTML="",e.removeChild(d),i=h.top+h.left+(b?2e3:0),f.fractions=i>21&&i<22}()})(jQuery);/*
 * jQuery UI Draggable 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Draggables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */(function(a,b){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(!!this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy();return this}},_mouseCapture:function(b){var c=this.options;if(this.helper||c.disabled||a(b.target).is(".ui-resizable-handle"))return!1;this.handle=this._getHandle(b);if(!this.handle)return!1;c.iframeFix&&a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")});return!0},_mouseStart:function(b){var c=this.options;this.helper=this._createHelper(b),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment();if(this._trigger("start",b)===!1){this._clear();return!1}this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b);return!0},_mouseDrag:function(b,c){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute");if(!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1){this._mouseUp({});return!1}this.position=d.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);return!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1);if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return!1;if(this.options.revert=="invalid"&&!c||this.options.revert=="valid"&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){d._trigger("stop",b)!==!1&&d._clear()})}else this._trigger("stop",b)!==!1&&this._clear();return!1},_mouseUp:function(b){this.options.iframeFix===!0&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b);return a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?!0:!1;a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)});return c},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):c.helper=="clone"?this.element.clone().removeAttr("id"):this.element;d.parents("body").length||d.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo),d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute");return d},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[b.containment=="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b.containment=="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(b.containment=="document"?0:a(window).scrollLeft())+a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b.containment=="document"?0:a(window).scrollTop())+(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)&&b.containment.constructor!=Array){var c=a(b.containment),d=c[0];if(!d)return;var e=c.offset(),f=a(d).css("overflow")!="hidden";this.containment=[(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0),(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0),(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}else b.containment.constructor==Array&&(this.containment=b.containment)},_convertPositionTo:function(b,c){c||(c=this.position);var d=b=="absolute"?1:-1,e=this.options,f=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(d[0].tagName),f=b.pageX,g=b.pageY;if(this.originalPosition){var h;if(this.containment){if(this.relative_container){var i=this.relative_container.offset();h=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else h=this.containment;b.pageX-this.offset.click.left<h[0]&&(f=h[0]+this.offset.click.left),b.pageY-this.offset.click.top<h[1]&&(g=h[1]+this.offset.click.top),b.pageX-this.offset.click.left>h[2]&&(f=h[2]+this.offset.click.left),b.pageY-this.offset.click.top>h[3]&&(g=h[3]+this.offset.click.top)}if(c.grid){var j=c.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY;g=h?j-this.offset.click.top<h[1]||j-this.offset.click.top>h[3]?j-this.offset.click.top<h[1]?j+c.grid[1]:j-c.grid[1]:j:j;var k=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX;f=h?k-this.offset.click.left<h[0]||k-this.offset.click.left>h[2]?k-this.offset.click.left<h[0]?k+c.grid[0]:k-c.grid[0]:k:k}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),b=="drag"&&(this.positionAbs=this._convertPositionTo("absolute"));return a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(a){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.extend(a.ui.draggable,{version:"1.8.17"}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,d.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("draggable"),e=this,f=function(b){var c=this.offset.click.top,d=this.offset.click.left,e=this.positionAbs.top,f=this.positionAbs.left,g=b.height,h=b.width,i=b.top,j=b.left;return a.ui.isOver(e+c,f+d,i,j,g,h)};a.each(d.sortables,function(f){this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(b,c){var d=a("body"),e=a(this).data("draggable").options;d.css("cursor")&&(e._cursor=d.css("cursor")),d.css("cursor",e.cursor)},stop:function(b,c){var d=a(this).data("draggable").options;d._cursor&&a("body").css("cursor",d._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(b,c){var d=a(this).data("draggable");d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"&&(d.overflowOffset=d.scrollParent.offset())},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=!1;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!e.axis||e.axis!="x")d.overflowOffset.top+d.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop-e.scrollSpeed);if(!e.axis||e.axis!="y")d.overflowOffset.left+d.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&(d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft-e.scrollSpeed)}else{if(!e.axis||e.axis!="x")b.pageY-a(document).scrollTop()<e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed));if(!e.axis||e.axis!="y")b.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))}f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}}),a.ui.plugin.add("draggable","snap",{start:function(b,c){var d=a(this).data("draggable"),e=d.options;d.snapElements=[],a(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var b=a(this),c=b.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=e.snapTolerance,g=c.offset.left,h=g+d.helperProportions.width,i=c.offset.top,j=i+d.helperProportions.height;for(var k=d.snapElements.length-1;k>=0;k--){var l=d.snapElements[k].left,m=l+d.snapElements[k].width,n=d.snapElements[k].top,o=n+d.snapElements[k].height;if(!(l-f<g&&g<m+f&&n-f<i&&i<o+f||l-f<g&&g<m+f&&n-f<j&&j<o+f||l-f<h&&h<m+f&&n-f<i&&i<o+f||l-f<h&&h<m+f&&n-f<j&&j<o+f)){d.snapElements[k].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=!1;continue}if(e.snapMode!="inner"){var p=Math.abs(n-j)<=f,q=Math.abs(o-i)<=f,r=Math.abs(l-h)<=f,s=Math.abs(m-g)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n-d.helperProportions.height,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m}).left-d.margins.left)}var t=p||q||r||s;if(e.snapMode!="outer"){var p=Math.abs(n-i)<=f,q=Math.abs(o-j)<=f,r=Math.abs(l-g)<=f,s=Math.abs(m-h)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o-d.helperProportions.height,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m-d.helperProportions.width}).left-d.margins.left)}!d.snapElements[k].snapping&&(p||q||r||s||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=p||q||r||s||t}}}),a.ui.plugin.add("draggable","stack",{start:function(b,c){var d=a(this).data("draggable").options,e=a.makeArray(a(d.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(!!e.length){var f=parseInt(e[0].style.zIndex)||0;a(e).each(function(a){this.style.zIndex=f+a}),this[0].style.zIndex=f+e.length}}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})})(jQuery);/*
 * jQuery UI Droppable 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Droppables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.mouse.js
 *	jquery.ui.draggable.js
 */(function(a,b){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,c=b.accept;this.isover=0,this.isout=1,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){var b=a.ui.ddmanager.droppables[this.options.scope];for(var c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(b,c){b=="accept"&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;!!c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;!!c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0])return!1;var e=!1;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope==d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)){e=!0;return!1}});if(e)return!1;if(this.accept.call(this.element[0],d.currentItem||d.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d));return this.element}return!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.extend(a.ui.droppable,{version:"1.8.17"}),a.ui.intersect=function(b,c,d){if(!c.offset)return!1;var e=(b.positionAbs||b.position.absolute).left,f=e+b.helperProportions.width,g=(b.positionAbs||b.position.absolute).top,h=g+b.helperProportions.height,i=c.offset.left,j=i+c.proportions.width,k=c.offset.top,l=k+c.proportions.height;switch(d){case"fit":return i<=e&&f<=j&&k<=g&&h<=l;case"intersect":return i<e+b.helperProportions.width/2&&f-b.helperProportions.width/2<j&&k<g+b.helperProportions.height/2&&h-b.helperProportions.height/2<l;case"pointer":var m=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,n=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,o=a.ui.isOver(n,m,k,i,c.proportions.height,c.proportions.width);return o;case"touch":return(g>=k&&g<=l||h>=k&&h<=l||g<k&&h>l)&&(e>=i&&e<=j||f>=i&&f<=j||e<i&&f>j);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d=a.ui.ddmanager.droppables[b.options.scope]||[],e=c?c.type:null,f=(b.currentItem||b.element).find(":data(droppable)").andSelf();droppablesLoop:for(var g=0;g<d.length;g++){if(d[g].options.disabled||b&&!d[g].accept.call(d[g].element[0],b.currentItem||b.element))continue;for(var h=0;h<f.length;h++)if(f[h]==d[g].element[0]){d[g].proportions.height=0;continue droppablesLoop}d[g].visible=d[g].element.css("display")!="none";if(!d[g].visible)continue;e=="mousedown"&&d[g]._activate.call(d[g],c),d[g].offset=d[g].element.offset(),d[g].proportions={width:d[g].element[0].offsetWidth,height:d[g].element[0].offsetHeight}}},drop:function(b,c){var d=!1;a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){!this.options||(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c)))});return d},dragStart:function(b,c){b.element.parents(":not(body,html)").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var d=a.ui.intersect(b,this,this.options.tolerance),e=!d&&this.isover==1?"isout":d&&this.isover==0?"isover":null;if(!e)return;var f;if(this.options.greedy){var g=this.element.parents(":data(droppable):eq(0)");g.length&&(f=a.data(g[0],"droppable"),f.greedyChild=e=="isover"?1:0)}f&&e=="isover"&&(f.isover=0,f.isout=1,f._out.call(f,c)),this[e]=1,this[e=="isout"?"isover":"isout"]=0,this[e=="isover"?"_over":"_out"].call(this,c),f&&e=="isout"&&(f.isout=0,f.isover=1,f._over.call(f,c))}})},dragStop:function(b,c){b.element.parents(":not(body,html)").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}})(jQuery);/*
 * jQuery UI Resizable 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Resizables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */(function(a,b){a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var b=this,c=this.options;this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(/relative/.test(this.element.css("position"))&&a.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"}),this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=c.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var d=this.handles.split(",");this.handles={};for(var e=0;e<d.length;e++){var f=a.trim(d[e]),g="ui-resizable-"+f,h=a('<div class="ui-resizable-handle '+g+'"></div>');/sw|se|ne|nw/.test(f)&&h.css({zIndex:++c.zIndex}),"se"==f&&h.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[f]=".ui-resizable-"+f,this.element.append(h)}}this._renderAxis=function(b){b=b||this.element;for(var c in this.handles){this.handles[c].constructor==String&&(this.handles[c]=a(this.handles[c],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var d=a(this.handles[c],this.element),e=0;e=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth();var f=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join("");b.css(f,e),this._proportionallyResize()}if(!a(this.handles[c]).length)continue}},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=a&&a[1]?a[1]:"se"}}),c.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").hover(function(){c.disabled||(a(this).removeClass("ui-resizable-autohide"),b._handles.show())},function(){c.disabled||b.resizing||(a(this).addClass("ui-resizable-autohide"),b._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){b(this.element);var c=this.element;c.after(this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement);return this},_mouseCapture:function(b){var c=!1;for(var d in this.handles)a(this.handles[d])[0]==b.target&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(b){var d=this.options,e=this.element.position(),f=this.element;this.resizing=!0,this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()},(f.is(".ui-draggable")||/absolute/.test(f.css("position")))&&f.css({position:"absolute",top:e.top,left:e.left}),a.browser.opera&&/relative/.test(f.css("position"))&&f.css({position:"relative",top:"auto",left:"auto"}),this._renderProxy();var g=c(this.helper.css("left")),h=c(this.helper.css("top"));d.containment&&(g+=a(d.containment).scrollLeft()||0,h+=a(d.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:h},this.size=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalPosition={left:g,top:h},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio=typeof d.aspectRatio=="number"?d.aspectRatio:this.originalSize.width/this.originalSize.height||1;var i=a(".ui-resizable-"+this.axis).css("cursor");a("body").css("cursor",i=="auto"?this.axis+"-resize":i),f.addClass("ui-resizable-resizing"),this._propagate("start",b);return!0},_mouseDrag:function(b){var c=this.helper,d=this.options,e={},f=this,g=this.originalMousePosition,h=this.axis,i=b.pageX-g.left||0,j=b.pageY-g.top||0,k=this._change[h];if(!k)return!1;var l=k.apply(this,[b,i,j]),m=a.browser.msie&&a.browser.version<7,n=this.sizeDiff;this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey)l=this._updateRatio(l,b);l=this._respectSize(l,b),this._propagate("resize",b),c.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger("resize",b,this.ui());return!1},_mouseStop:function(b){this.resizing=!1;var c=this.options,d=this;if(this._helper){var e=this._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:d.sizeDiff.height,h=f?0:d.sizeDiff.width,i={width:d.helper.width()-h,height:d.helper.height()-g},j=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,k=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;c.animate||this.element.css(a.extend(i,{top:k,left:j})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()}a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove();return!1},_updateVirtualBoundaries:function(a){var b=this.options,c,e,f,g,h;h={minWidth:d(b.minWidth)?b.minWidth:0,maxWidth:d(b.maxWidth)?b.maxWidth:Infinity,minHeight:d(b.minHeight)?b.minHeight:0,maxHeight:d(b.maxHeight)?b.maxHeight:Infinity};if(this._aspectRatio||a)c=h.minHeight*this.aspectRatio,f=h.minWidth/this.aspectRatio,e=h.maxHeight*this.aspectRatio,g=h.maxWidth/this.aspectRatio,c>h.minWidth&&(h.minWidth=c),f>h.minHeight&&(h.minHeight=f),e<h.maxWidth&&(h.maxWidth=e),g<h.maxHeight&&(h.maxHeight=g);this._vBoundaries=h},_updateCache:function(a){var b=this.options;this.offset=this.helper.offset(),d(a.left)&&(this.position.left=a.left),d(a.top)&&(this.position.top=a.top),d(a.height)&&(this.size.height=a.height),d(a.width)&&(this.size.width=a.width)},_updateRatio:function(a,b){var c=this.options,e=this.position,f=this.size,g=this.axis;d(a.height)?a.width=a.height*this.aspectRatio:d(a.width)&&(a.height=a.width/this.aspectRatio),g=="sw"&&(a.left=e.left+(f.width-a.width),a.top=null),g=="nw"&&(a.top=e.top+(f.height-a.height),a.left=e.left+(f.width-a.width));return a},_respectSize:function(a,b){var c=this.helper,e=this._vBoundaries,f=this._aspectRatio||b.shiftKey,g=this.axis,h=d(a.width)&&e.maxWidth&&e.maxWidth<a.width,i=d(a.height)&&e.maxHeight&&e.maxHeight<a.height,j=d(a.width)&&e.minWidth&&e.minWidth>a.width,k=d(a.height)&&e.minHeight&&e.minHeight>a.height;j&&(a.width=e.minWidth),k&&(a.height=e.minHeight),h&&(a.width=e.maxWidth),i&&(a.height=e.maxHeight);var l=this.originalPosition.left+this.originalSize.width,m=this.position.top+this.size.height,n=/sw|nw|w/.test(g),o=/nw|ne|n/.test(g);j&&n&&(a.left=l-e.minWidth),h&&n&&(a.left=l-e.maxWidth),k&&o&&(a.top=m-e.minHeight),i&&o&&(a.top=m-e.maxHeight);var p=!a.width&&!a.height;p&&!a.left&&a.top?a.top=null:p&&!a.top&&a.left&&(a.left=null);return a},_proportionallyResize:function(){var b=this.options;if(!!this._proportionallyResizeElements.length){var c=this.helper||this.element;for(var d=0;d<this._proportionallyResizeElements.length;d++){var e=this._proportionallyResizeElements[d];if(!this.borderDif){var f=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],g=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];this.borderDif=a.map(f,function(a,b){var c=parseInt(a,10)||0,d=parseInt(g[b],10)||0;return c+d})}if(a.browser.msie&&(!!a(c).is(":hidden")||!!a(c).parents(":hidden").length))continue;e.css({height:c.height()-this.borderDif[0]-this.borderDif[2]||0,width:c.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset();if(this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var d=a.browser.msie&&a.browser.version<7,e=d?1:0,f=d?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+f,height:this.element.outerHeight()+f,position:"absolute",left:this.elementOffset.left-e+"px",top:this.elementOffset.top-e+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,b,c){return{width:this.originalSize.width+b}},w:function(a,b,c){var d=this.options,e=this.originalSize,f=this.originalPosition;return{left:f.left+b,width:e.width-b}},n:function(a,b,c){var d=this.options,e=this.originalSize,f=this.originalPosition;return{top:f.top+c,height:e.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),b!="resize"&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.extend(a.ui.resizable,{version:"1.8.17"}),a.ui.plugin.add("resizable","alsoResize",{start:function(b,c){var d=a(this).data("resizable"),e=d.options,f=function(b){a(b).each(function(){var b=a(this);b.data("resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10),position:b.css("position")})})};typeof e.alsoResize=="object"&&!e.alsoResize.parentNode?e.alsoResize.length?(e.alsoResize=e.alsoResize[0],f(e.alsoResize)):a.each(e.alsoResize,function(a){f(a)}):f(e.alsoResize)},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,e){a(b).each(function(){var b=a(this),f=a(this).data("resizable-alsoresize"),g={},i=e&&e.length?e:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(i,function(a,b){var c=(f[b]||0)+(h[b]||0);c&&c>=0&&(g[b]=c||null)}),a.browser.opera&&/relative/.test(b.css("position"))&&(d._revertToRelativePosition=!0,b.css({position:"absolute",top:"auto",left:"auto"})),b.css(g)})};typeof e.alsoResize=="object"&&!e.alsoResize.nodeType?a.each(e.alsoResize,function(a,b){i(a,b)}):i(e.alsoResize)},stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=function(b){a(b).each(function(){var b=a(this);b.css({position:b.data("resizable-alsoresize").position})})};d._revertToRelativePosition&&(d._revertToRelativePosition=!1,typeof e.alsoResize=="object"&&!e.alsoResize.nodeType?a.each(e.alsoResize,function(a){f(a)}):f(e.alsoResize)),a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","animate",{stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d._proportionallyResizeElements,g=f.length&&/textarea/i.test(f[0].nodeName),h=g&&a.ui.hasScroll(f[0],"left")?0:d.sizeDiff.height,i=g?0:d.sizeDiff.width,j={width:d.size.width-i,height:d.size.height-h},k=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;d.element.animate(a.extend(j,l&&k?{top:l,left:k}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var c={width:parseInt(d.element.css("width"),10),height:parseInt(d.element.css("height"),10),top:parseInt(d.element.css("top"),10),left:parseInt(d.element.css("left"),10)};f&&f.length&&a(f[0]).css({width:c.width,height:c.height}),d._updateCache(c),d._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(b,d){var e=a(this).data("resizable"),f=e.options,g=e.element,h=f.containment,i=h instanceof a?h.get(0):/parent/.test(h)?g.parent().get(0):h;if(!!i){e.containerElement=a(i);if(/document/.test(h)||h==document)e.containerOffset={left:0,top:0},e.containerPosition={left:0,top:0},e.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var j=a(i),k=[];a(["Top","Right","Left","Bottom"]).each(function(a,b){k[a]=c(j.css("padding"+b))}),e.containerOffset=j.offset(),e.containerPosition=j.position(),e.containerSize={height:j.innerHeight()-k[3],width:j.innerWidth()-k[1]};var l=e.containerOffset,m=e.containerSize.height,n=e.containerSize.width,o=a.ui.hasScroll(i,"left")?i.scrollWidth:n,p=a.ui.hasScroll(i)?i.scrollHeight:m;e.parentData={element:i,left:l.left,top:l.top,width:o,height:p}}}},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.containerSize,g=d.containerOffset,h=d.size,i=d.position,j=d._aspectRatio||b.shiftKey,k={top:0,left:0},l=d.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(k=g),i.left<(d._helper?g.left:0)&&(d.size.width=d.size.width+(d._helper?d.position.left-g.left:d.position.left-k.left),j&&(d.size.height=d.size.width/e.aspectRatio),d.position.left=e.helper?g.left:0),i.top<(d._helper?g.top:0)&&(d.size.height=d.size.height+(d._helper?d.position.top-g.top:d.position.top),j&&(d.size.width=d.size.height*e.aspectRatio),d.position.top=d._helper?g.top:0),d.offset.left=d.parentData.left+d.position.left,d.offset.top=d.parentData.top+d.position.top;var m=Math.abs((d._helper?d.offset.left-k.left:d.offset.left-k.left)+d.sizeDiff.width),n=Math.abs((d._helper?d.offset.top-k.top:d.offset.top-g.top)+d.sizeDiff.height),o=d.containerElement.get(0)==d.element.parent().get(0),p=/relative|absolute/.test(d.containerElement.css("position"));o&&p&&(m-=d.parentData.left),m+d.size.width>=d.parentData.width&&(d.size.width=d.parentData.width-m,j&&(d.size.height=d.size.width/d.aspectRatio)),n+d.size.height>=d.parentData.height&&(d.size.height=d.parentData.height-n,j&&(d.size.width=d.size.height*d.aspectRatio))},stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.position,g=d.containerOffset,h=d.containerPosition,i=d.containerElement,j=a(d.helper),k=j.offset(),l=j.outerWidth()-d.sizeDiff.width,m=j.outerHeight()-d.sizeDiff.height;d._helper&&!e.animate&&/relative/.test(i.css("position"))&&a(this).css({left:k.left-h.left-g.left,width:l,height:m}),d._helper&&!e.animate&&/static/.test(i.css("position"))&&a(this).css({left:k.left-h.left-g.left,width:l,height:m})}}),a.ui.plugin.add("resizable","ghost",{start:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.size;d.ghost=d.originalElement.clone(),d.ghost.css({opacity:.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof e.ghost=="string"?e.ghost:""),d.ghost.appendTo(d.helper)},resize:function(b,c){var d=a(this).data("resizable"),e=d.options;d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},stop:function(b,c){var d=a(this).data("resizable"),e=d.options;d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.size,g=d.originalSize,h=d.originalPosition,i=d.axis,j=e._aspectRatio||b.shiftKey;e.grid=typeof e.grid=="number"?[e.grid,e.grid]:e.grid;var k=Math.round((f.width-g.width)/(e.grid[0]||1))*(e.grid[0]||1),l=Math.round((f.height-g.height)/(e.grid[1]||1))*(e.grid[1]||1);/^(se|s|e)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l):/^(ne)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l,d.position.top=h.top-l):/^(sw)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l,d.position.left=h.left-k):(d.size.width=g.width+k,d.size.height=g.height+l,d.position.top=h.top-l,d.position.left=h.left-k)}});var c=function(a){return parseInt(a,10)||0},d=function(a){return!isNaN(parseInt(a,10))}})(jQuery);/*
 * jQuery UI Selectable 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Selectables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */(function(a,b){a.widget("ui.selectable",a.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable"),this.dragged=!1;var c;this.refresh=function(){c=a(b.options.filter,b.element[0]),c.addClass("ui-selectee"),c.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=c.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy();return this},_mouseStart:function(b){var c=this;this.opos=[b.pageX,b.pageY];if(!this.options.disabled){var d=this.options;this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,!b.metaKey&&!b.ctrlKey&&(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().andSelf().each(function(){var d=a.data(this,"selectable-item");if(d){var e=!b.metaKey&&!b.ctrlKey||!d.$element.hasClass("ui-selected");d.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),d.unselecting=!e,d.selecting=e,d.selected=e,e?c._trigger("selecting",b,{selecting:d.element}):c._trigger("unselecting",b,{unselecting:d.element});return!1}})}},_mouseDrag:function(b){var c=this;this.dragged=!0;if(!this.options.disabled){var d=this.options,e=this.opos[0],f=this.opos[1],g=b.pageX,h=b.pageY;if(e>g){var i=g;g=e,e=i}if(f>h){var i=h;h=f,f=i}this.helper.css({left:e,top:f,width:g-e,height:h-f}),this.selectees.each(function(){var i=a.data(this,"selectable-item");if(!!i&&i.element!=c.element[0]){var j=!1;d.tolerance=="touch"?j=!(i.left>g||i.right<e||i.top>h||i.bottom<f):d.tolerance=="fit"&&(j=i.left>e&&i.right<g&&i.top>f&&i.bottom<h),j?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,c._trigger("selecting",b,{selecting:i.element}))):(i.selecting&&((b.metaKey||b.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),c._trigger("unselecting",b,{unselecting:i.element}))),i.selected&&!b.metaKey&&!b.ctrlKey&&!i.startselected&&(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,c._trigger("unselecting",b,{unselecting:i.element})))}});return!1}},_mouseStop:function(b){var c=this;this.dragged=!1;var d=this.options;a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove();return!1}}),a.extend(a.ui.selectable,{version:"1.8.17"})})(jQuery);/*
 * jQuery UI Sortable 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Sortables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */(function(a,b){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?a.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){b==="disabled"?(this.options[b]=c,this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=this;if(this.reverting)return!1;if(this.options.disabled||this.options.type=="static")return!1;this._refreshItems(b);var e=null,f=this,g=a(b.target).parents().each(function(){if(a.data(this,d.widgetName+"-item")==f){e=a(this);return!1}});a.data(b.target,d.widgetName+"-item")==f&&(e=a(b.target));if(!e)return!1;if(this.options.handle&&!c){var h=!1;a(this.options.handle,e).find("*").andSelf().each(function(){this==b.target&&(h=!0)});if(!h)return!1}this.currentItem=e,this._removeCurrentsFromItems();return!0},_mouseStart:function(b,c,d){var e=this.options,f=this;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),e.containment&&this._setContainment(),e.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",e.cursor)),e.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",e.opacity)),e.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",e.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!d)for(var g=this.containers.length-1;g>=0;g--)this.containers[g]._trigger("activate",b,f._uiHash(this));a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b);return!0},_mouseDrag:function(b){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var c=this.options,d=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?d=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(d=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?d=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(d=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),d!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(var e=this.items.length-1;e>=0;e--){var f=this.items[e],g=f.item[0],h=this._intersectsWithPointer(f);if(!h)continue;if(g!=this.currentItem[0]&&this.placeholder[h==1?"next":"prev"]()[0]!=g&&!a.ui.contains(this.placeholder[0],g)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],g):!0)){this.direction=h==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(f))this._rearrange(b,f);else break;this._trigger("change",b,this._uiHash());break}}this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(b,c){if(!!b){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var d=this,e=d.placeholder.offset();d.reverting=!0,a(this.helper).animate({left:e.left-this.offset.parent.left-d.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-d.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){var b=this;if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--)this.containers[c]._trigger("deactivate",null,b._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,b._uiHash(this)),this.containers[c].containerCache.over=0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"=");return d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")});return d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l=d+j>h&&d+j<i&&b+k>f&&b+k<g;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?l:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width),e=c&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();if(!e)return!1;return this.floating?g&&g=="right"||f=="down"?2:1:f&&(f=="down"?2:1)},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?f=="right"&&d||f=="left"&&!d:e&&(e=="down"&&c||e=="up"&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left")},refresh:function(a){this._refreshItems(a),this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=this,d=[],e=[],f=this._connectWith();if(f&&b)for(var g=f.length-1;g>=0;g--){var h=a(f[g]);for(var i=h.length-1;i>=0;i--){var j=a.data(h[i],this.widgetName);j&&j!=this&&!j.options.disabled&&e.push([a.isFunction(j.options.items)?j.options.items.call(j.element):a(j.options.items,j.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),j])}}e.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var g=e.length-1;g>=0;g--)e[g][0].each(function(){d.push(this)});return a(d)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");for(var b=0;b<this.items.length;b++)for(var c=0;c<a.length;c++)a[c]==this.items[b].item[0]&&this.items.splice(b,1)},_refreshItems:function(b){this.items=[],this.containers=[this];var c=this.items,d=this,e=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],f=this._connectWith();if(f)for(var g=f.length-1;g>=0;g--){var h=a(f[g]);for(var i=h.length-1;i>=0;i--){var j=a.data(h[i],this.widgetName);j&&j!=this&&!j.options.disabled&&(e.push([a.isFunction(j.options.items)?j.options.items.call(j.element[0],b,{item:this.currentItem}):a(j.options.items,j.element),j]),this.containers.push(j))}}for(var g=e.length-1;g>=0;g--){var k=e[g][1],l=e[g][0];for(var i=0,m=l.length;i<m;i++){var n=a(l[i]);n.data(this.widgetName+"-item",k),c.push({item:n,instance:k,width:0,height:0,left:0,top:0})}}},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;c>=0;c--){var d=this.items[c];if(d.instance!=this.currentContainer&&this.currentContainer&&d.item[0]!=this.currentItem[0])continue;var e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item;b||(d.width=e.outerWidth(),d.height=e.outerHeight());var f=e.offset();d.left=f.left,d.top=f.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var c=this.containers.length-1;c>=0;c--){var f=this.containers[c].element.offset();this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight()}return this},_createPlaceholder:function(b){var c=b||this,d=c.options;if(!d.placeholder||d.placeholder.constructor==String){var e=d.placeholder;d.placeholder={element:function(){var b=a(document.createElement(c.currentItem[0].nodeName)).addClass(e||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];e||(b.style.visibility="hidden");return b},update:function(a,b){if(!e||!!d.forcePlaceholderSize)b.height()||b.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),b.width()||b.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10))}}}c.placeholder=a(d.placeholder.element.call(c.element,c.currentItem)),c.currentItem.after(c.placeholder),d.placeholder.update(c,c.placeholder)},_contactContainers:function(b){var c=null,d=null;for(var e=this.containers.length-1;e>=0;e--){if(a.ui.contains(this.currentItem[0],this.containers[e].element[0]))continue;if(this._intersectsWith(this.containers[e].containerCache)){if(c&&a.ui.contains(this.containers[e].element[0],c.element[0]))continue;c=this.containers[e],d=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0)}if(!!c)if(this.containers.length===1)this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1;else if(this.currentContainer!=this.containers[d]){var f=1e4,g=null,h=this.positionAbs[this.containers[d].floating?"left":"top"];for(var i=this.items.length-1;i>=0;i--){if(!a.ui.contains(this.containers[d].element[0],this.items[i].item[0]))continue;var j=this.items[i][this.containers[d].floating?"left":"top"];Math.abs(j-h)<f&&(f=Math.abs(j-h),g=this.items[i])}if(!g&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[d],g?this._rearrange(b,g,null,!0):this._rearrange(b,null,this.containers[d].element,!0),this._trigger("change",b,this._uiHash()),this.containers[d]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):c.helper=="clone"?this.currentItem.clone():this.currentItem;d.parents("body").length||a(c.appendTo!="parent"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(d[0].style.width==""||c.forceHelperSize)&&d.width(this.currentItem.width()),(d[0].style.height==""||c.forceHelperSize)&&d.height(this.currentItem.height());return d},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0],d=a(b.containment).offset(),e=a(c).css("overflow")!="hidden";this.containment=[d.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,d.left+(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position);var d=b=="absolute"?1:-1,e=this.options,f=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(d[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var f=b.pageX,g=b.pageY;if(this.originalPosition){this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top));if(c.grid){var h=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1];g=this.containment?h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3]?h-this.offset.click.top<this.containment[1]?h+c.grid[1]:h-c.grid[1]:h:h;var i=this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0];f=this.containment?i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2]?i-this.offset.click.left<this.containment[0]?i+c.grid[0]:i-c.grid[0]:i:i}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this,f=this.counter;window.setTimeout(function(){f==e.counter&&e.refreshPositions(!d)},0)},_clear:function(b,c){this.reverting=!1;var d=[],e=this;!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var f in this._storedCSS)if(this._storedCSS[f]=="auto"||this._storedCSS[f]=="static")this._storedCSS[f]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!c&&d.push(function(a){this._trigger("update",a,this._uiHash())});if(!a.ui.contains(this.element[0],this.currentItem[0])){c||d.push(function(a){this._trigger("remove",a,this._uiHash())});for(var f=this.containers.length-1;f>=0;f--)a.ui.contains(this.containers[f].element[0],this.currentItem[0])&&!c&&(d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.containers[f])),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.containers[f])))}for(var f=this.containers.length-1;f>=0;f--)c||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over=0);this._storedCursor&&a("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(var f=0;f<d.length;f++)d[f].call(this,b);this._trigger("stop",b,this._uiHash())}return!1}c||this._trigger("beforeStop",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!c){for(var f=0;f<d.length;f++)d[f].call(this,b);this._trigger("stop",b,this._uiHash())}this.fromOutside=!1;return!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}}),a.extend(a.ui.sortable,{version:"1.8.17"})})(jQuery);/*
 * jQuery UI Accordion 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Accordion
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */(function(a,b){a.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var b=this,c=b.options;b.running=0,b.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),b.headers=b.element.find(c.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){c.disabled||a(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){c.disabled||a(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){c.disabled||a(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){c.disabled||a(this).removeClass("ui-state-focus")}),b.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(c.navigation){var d=b.element.find("a").filter(c.navigationFilter).eq(0);if(d.length){var e=d.closest(".ui-accordion-header");e.length?b.active=e:b.active=d.closest(".ui-accordion-content").prev()}}b.active=b._findActive(b.active||c.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),b.active.next().addClass("ui-accordion-content-active"),b._createIcons(),b.resize(),b.element.attr("role","tablist"),b.headers.attr("role","tab").bind("keydown.accordion",function(a){return b._keydown(a)}).next().attr("role","tabpanel"),b.headers.not(b.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),b.active.length?b.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):b.headers.eq(0).attr("tabIndex",0),a.browser.safari||b.headers.find("a").attr("tabIndex",-1),c.event&&b.headers.bind(c.event.split(" ").join(".accordion ")+".accordion",function(a){b._clickHandler.call(b,a,this),a.preventDefault()})},_createIcons:function(){var b=this.options;b.icons&&(a("<span></span>").addClass("ui-icon "+b.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(b.icons.header).toggleClass(b.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var b=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var c=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");(b.autoHeight||b.fillHeight)&&c.css("height","");return a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b=="active"&&this.activate(c),b=="icons"&&(this._destroyIcons(),c&&this._createIcons()),b=="disabled"&&this.headers.add(this.headers.next())[c?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(b){if(!(this.options.disabled||b.altKey||b.ctrlKey)){var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._clickHandler({target:b.target},b.target),b.preventDefault()}if(f){a(b.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),f.focus();return!1}return!0}},resize:function(){var b=this.options,c;if(b.fillSpace){if(a.browser.msie){var d=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}c=this.element.parent().height(),a.browser.msie&&this.element.parent().css("overflow",d),this.headers.each(function(){c-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")}else b.autoHeight&&(c=0,this.headers.next().each(function(){c=Math.max(c,a(this).height("").height())}).height(c));return this},activate:function(a){this.options.active=a;var b=this._findActive(a)[0];this._clickHandler({target:b},b);return this},_findActive:function(b){return b?typeof b=="number"?this.headers.filter(":eq("+b+")"):this.headers.not(this.headers.not(b)):b===!1?a([]):this.headers.filter(":eq(0)")},_clickHandler:function(b,c){var d=this.options;if(!d.disabled){if(!b.target){if(!d.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header),this.active.next().addClass("ui-accordion-content-active");var e=this.active.next(),f={options:d,newHeader:a([]),oldHeader:d.active,newContent:a([]),oldContent:e},g=this.active=a([]);this._toggle(g,e,f);return}var h=a(b.currentTarget||c),i=h[0]===this.active[0];d.active=d.collapsible&&i?!1:this.headers.index(h);if(this.running||!d.collapsible&&i)return;var j=this.active,g=h.next(),e=this.active.next(),f={options:d,newHeader:i&&d.collapsible?a([]):h,oldHeader:this.active,newContent:i&&d.collapsible?a([]):g,oldContent:e},k=this.headers.index(this.active[0])>this.headers.index(h[0]);this.active=i?a([]):h,this._toggle(g,e,f,i,k),j.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header),i||(h.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(d.icons.header).addClass(d.icons.headerSelected),h.next().addClass("ui-accordion-content-active"));return}},_toggle:function(b,c,d,e,f){var g=this,h=g.options;g.toShow=b,g.toHide=c,g.data=d;var i=function(){if(!!g)return g._completed.apply(g,arguments)};g._trigger("changestart",null,g.data),g.running=c.size()===0?b.size():c.size();if(h.animated){var j={};h.collapsible&&e?j={toShow:a([]),toHide:c,complete:i,down:f,autoHeight:h.autoHeight||h.fillSpace}:j={toShow:b,toHide:c,complete:i,down:f,autoHeight:h.autoHeight||h.fillSpace},h.proxied||(h.proxied=h.animated),h.proxiedDuration||(h.proxiedDuration=h.duration),h.animated=a.isFunction(h.proxied)?h.proxied(j):h.proxied,h.duration=a.isFunction(h.proxiedDuration)?h.proxiedDuration(j):h.proxiedDuration;var k=a.ui.accordion.animations,l=h.duration,m=h.animated;m&&!k[m]&&!a.easing[m]&&(m="slide"),k[m]||(k[m]=function(a){this.slide(a,{easing:m,duration:l||700})}),k[m](j)}else h.collapsible&&e?b.toggle():(c.hide(),b.show()),i(!0);c.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),b.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(a){this.running=a?0:--this.running;this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),a.extend(a.ui.accordion,{version:"1.8.17",animations:{slide:function(b,c){b=a.extend({easing:"swing",duration:300},b,c);if(!b.toHide.size())b.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},b);else{if(!b.toShow.size()){b.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},b);return}var d=b.toShow.css("overflow"),e=0,f={},g={},h=["height","paddingTop","paddingBottom"],i,j=b.toShow;i=j[0].style.width,j.width(j.parent().width()-parseFloat(j.css("paddingLeft"))-parseFloat(j.css("paddingRight"))-(parseFloat(j.css("borderLeftWidth"))||0)-(parseFloat(j.css("borderRightWidth"))||0)),a.each(h,function(c,d){g[d]="hide";var e=(""+a.css(b.toShow[0],d)).match(/^([\d+-.]+)(.*)$/);f[d]={value:e[1],unit:e[2]||"px"}}),b.toShow.css({height:0,overflow:"hidden"}).show(),b.toHide.filter(":hidden").each(b.complete).end().filter(":visible").animate(g,{step:function(a,c){c.prop=="height"&&(e=c.end-c.start===0?0:(c.now-c.start)/(c.end-c.start)),b.toShow[0].style[c.prop]=e*f[c.prop].value+f[c.prop].unit},duration:b.duration,easing:b.easing,complete:function(){b.autoHeight||b.toShow.css("height",""),b.toShow.css({width:i,overflow:d}),b.complete()}})}},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1e3:200})}}})})(jQuery);/*
 * jQuery UI Autocomplete 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Autocomplete
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */(function(a,b){var c=0;a.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var b=this,c=this.element[0].ownerDocument,d;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){if(!b.options.disabled&&!b.element.propAttr("readOnly")){d=!1;var e=a.ui.keyCode;switch(c.keyCode){case e.PAGE_UP:b._move("previousPage",c);break;case e.PAGE_DOWN:b._move("nextPage",c);break;case e.UP:b._move("previous",c),c.preventDefault();break;case e.DOWN:b._move("next",c),c.preventDefault();break;case e.ENTER:case e.NUMPAD_ENTER:b.menu.active&&(d=!0,c.preventDefault());case e.TAB:if(!b.menu.active)return;b.menu.select(c);break;case e.ESCAPE:b.element.val(b.term),b.close(c);break;default:clearTimeout(b.searching),b.searching=setTimeout(function(){b.term!=b.element.val()&&(b.selectedItem=null,b.search(null,c))},b.options.delay)}}}).bind("keypress.autocomplete",function(a){d&&(d=!1,a.preventDefault())}).bind("focus.autocomplete",function(){b.options.disabled||(b.selectedItem=null,b.previous=b.element.val())}).bind("blur.autocomplete",function(a){b.options.disabled||(clearTimeout(b.searching),b.closing=setTimeout(function(){b.close(a),b._change(a)},150))}),this._initSource(),this.response=function(){return b._response.apply(b,arguments)},this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",c)[0]).mousedown(function(c){var d=b.menu.element[0];a(c.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(c){c.target!==b.element[0]&&c.target!==d&&!a.ui.contains(d,c.target)&&b.close()})},1),setTimeout(function(){clearTimeout(b.closing)},13)}).menu({focus:function(a,c){var d=c.item.data("item.autocomplete");!1!==b._trigger("focus",a,{item:d})&&/^key/.test(a.originalEvent.type)&&b.element.val(d.value)},selected:function(a,d){var e=d.item.data("item.autocomplete"),f=b.previous;b.element[0]!==c.activeElement&&(b.element.focus(),b.previous=f,setTimeout(function(){b.previous=f,b.selectedItem=e},1)),!1!==b._trigger("select",a,{item:e})&&b.element.val(e.value),b.term=b.element.val(),b.close(a),b.selectedItem=e},blur:function(a,c){b.menu.element.is(":visible")&&b.element.val()!==b.term&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),a.fn.bgiframe&&this.menu.element.bgiframe(),b.beforeunloadHandler=function(){b.element.removeAttr("autocomplete")},a(window).bind("beforeunload",b.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),a(window).unbind("beforeunload",this.beforeunloadHandler),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b==="source"&&this._initSource(),b==="appendTo"&&this.menu.element.appendTo(a(c||"body",this.element[0].ownerDocument)[0]),b==="disabled"&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var b=this,d,e;a.isArray(this.options.source)?(d=this.options.source,this.source=function(b,c){c(a.ui.autocomplete.filter(d,b.term))}):typeof this.options.source=="string"?(e=this.options.source,this.source=function(d,f){b.xhr&&b.xhr.abort(),b.xhr=a.ajax({url:e,data:d,dataType:"json",autocompleteRequest:++c,success:function(a,b){this.autocompleteRequest===c&&f(a)},error:function(){this.autocompleteRequest===c&&f([])}})}):this.source=this.options.source},search:function(a,b){a=a!=null?a:this.element.val(),this.term=this.element.val();if(a.length<this.options.minLength)return this.close(b);clearTimeout(this.closing);if(this._trigger("search",b)!==!1)return this._search(a)},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:a},this.response)},_response:function(a){!this.options.disabled&&a&&a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):this.close(),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(a){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",a))},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){if(b.length&&b[0].label&&b[0].value)return b;return a.map(b,function(b){if(typeof b=="string")return{label:b,value:b};return a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b),this.menu.deactivate(),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new a.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItem(b,c)})},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").text(c.label)).appendTo(b)},_move:function(a,b){if(!this.menu.element.is(":visible"))this.search(null,b);else{if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a)){this.element.val(this.term),this.menu.deactivate();return}this.menu[a](b)}},widget:function(){return this.menu.element}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}})})(jQuery),function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){!a(c.target).closest(".ui-menu-item a").length||(c.preventDefault(),b.select(c))}),this.refresh()},refresh:function(){var b=this,c=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");c.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(a,b){this.deactivate();if(this.hasScroll()){var c=b.offset().top-this.element.offset().top,d=this.element.scrollTop(),e=this.element.height();c<0?this.element.scrollTop(d+c):c>=e&&this.element.scrollTop(d+c-e+b.height())}this.active=b.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",a,{item:b})},deactivate:function(){!this.active||(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(a,b,c){if(!this.active)this.activate(c,this.element.children(b));else{var d=this.active[a+"All"](".ui-menu-item").eq(0);d.length?this.activate(c,d):this.activate(c,this.element.children(b))}},nextPage:function(b){if(this.hasScroll()){if(!this.active||this.last()){this.activate(b,this.element.children(".ui-menu-item:first"));return}var c=this.active.offset().top,d=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c-d+a(this).height();return b<10&&b>-10});e.length||(e=this.element.children(".ui-menu-item:last")),this.activate(b,e)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(b){if(this.hasScroll()){if(!this.active||this.first()){this.activate(b,this.element.children(".ui-menu-item:last"));return}var c=this.active.offset().top,d=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c+d-a(this).height();return b<10&&b>-10}),result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(b,result)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[a.fn.prop?"prop":"attr"]("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})}(jQuery);/*
 * jQuery UI Button 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Button
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */(function(a,b){var c,d,e,f,g="ui-button ui-widget ui-state-default ui-corner-all",h="ui-state-hover ui-state-active ",i="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",j=function(){var b=a(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)},k=function(b){var c=b.name,d=b.form,e=a([]);c&&(d?e=a(d).find("[name='"+c+"']"):e=a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form}));return e};a.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",j),typeof this.options.disabled!="boolean"&&(this.options.disabled=this.element.propAttr("disabled")),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var b=this,h=this.options,i=this.type==="checkbox"||this.type==="radio",l="ui-state-hover"+(i?"":" ui-state-active"),m="ui-state-focus";h.label===null&&(h.label=this.buttonElement.html()),this.element.is(":disabled")&&(h.disabled=!0),this.buttonElement.addClass(g).attr("role","button").bind("mouseenter.button",function(){h.disabled||(a(this).addClass("ui-state-hover"),this===c&&a(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){h.disabled||a(this).removeClass(l)}).bind("click.button",function(a){h.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus.button",function(){b.buttonElement.addClass(m)}).bind("blur.button",function(){b.buttonElement.removeClass(m)}),i&&(this.element.bind("change.button",function(){f||b.refresh()}),this.buttonElement.bind("mousedown.button",function(a){h.disabled||(f=!1,d=a.pageX,e=a.pageY)}).bind("mouseup.button",function(a){!h.disabled&&(d!==a.pageX||e!==a.pageY)&&(f=!0)})),this.type==="checkbox"?this.buttonElement.bind("click.button",function(){if(h.disabled||f)return!1;a(this).toggleClass("ui-state-active"),b.buttonElement.attr("aria-pressed",b.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click.button",function(){if(h.disabled||f)return!1;a(this).addClass("ui-state-active"),b.buttonElement.attr("aria-pressed","true");var c=b.element[0];k(c).not(c).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){if(h.disabled)return!1;a(this).addClass("ui-state-active"),c=this,a(document).one("mouseup",function(){c=null})}).bind("mouseup.button",function(){if(h.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown.button",function(b){if(h.disabled)return!1;(b.keyCode==a.ui.keyCode.SPACE||b.keyCode==a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active")}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",h.disabled),this._resetButton()},_determineButtonType:function(){this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";if(this.type==="checkbox"||this.type==="radio"){var a=this.element.parents().filter(":last"),b="label[for='"+this.element.attr("id")+"']";this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible");var c=this.element.is(":checked");c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",c)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(g+" "+h+" "+i).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);b==="disabled"?c?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1):this._resetButton()},refresh:function(){var b=this.element.is(":disabled");b!==this.options.disabled&&this._setOption("disabled",b),this.type==="radio"?k(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input")this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass(i),c=a("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",c))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}}}),a.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(b,c){b==="disabled"&&this.buttons.button("option",b,c),a.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var b=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),a.Widget.prototype.destroy.call(this)}})})(jQuery);/*
 * jQuery UI Dialog 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Dialog
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *  jquery.ui.button.js
 *	jquery.ui.draggable.js
 *	jquery.ui.mouse.js
 *	jquery.ui.position.js
 *	jquery.ui.resizable.js
 */(function(a,b){var c="ui-dialog ui-widget ui-widget-content ui-corner-all ",d={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},e={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},f=a.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};a.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(b){var c=a(this).css(b).offset().top;c<0&&a(this).css("top",b.top-c)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var b=this,d=b.options,e=d.title||"&#160;",f=a.ui.dialog.getTitleId(b.element),g=(b.uiDialog=a("<div></div>")).appendTo(document.body).hide().addClass(c+d.dialogClass).css({zIndex:d.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(c){d.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}).attr({role:"dialog","aria-labelledby":f}).mousedown(function(a){b.moveToTop(!1,a)}),h=b.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(g),i=(b.uiDialogTitlebar=a("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(g),j=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){j.addClass("ui-state-hover")},function(){j.removeClass("ui-state-hover")}).focus(function(){j.addClass("ui-state-focus")}).blur(function(){j.removeClass("ui-state-focus")}).click(function(a){b.close(a);return!1}).appendTo(i),k=(b.uiDialogTitlebarCloseText=a("<span></span>")).addClass("ui-icon ui-icon-closethick").text(d.closeText).appendTo(j),l=a("<span></span>").addClass("ui-dialog-title").attr("id",f).html(e).prependTo(i);a.isFunction(d.beforeclose)&&!a.isFunction(d.beforeClose)&&(d.beforeClose=d.beforeclose),i.find("*").add(i).disableSelection(),d.draggable&&a.fn.draggable&&b._makeDraggable(),d.resizable&&a.fn.resizable&&b._makeResizable(),b._createButtons(d.buttons),b._isOpen=!1,a.fn.bgiframe&&g.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;a.overlay&&a.overlay.destroy(),a.uiDialog.hide(),a.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),a.uiDialog.remove(),a.originalTitle&&a.element.attr("title",a.originalTitle);return a},widget:function(){return this.uiDialog},close:function(b){var c=this,d,e;if(!1!==c._trigger("beforeClose",b)){c.overlay&&c.overlay.destroy(),c.uiDialog.unbind("keypress.ui-dialog"),c._isOpen=!1,c.options.hide?c.uiDialog.hide(c.options.hide,function(){c._trigger("close",b)}):(c.uiDialog.hide(),c._trigger("close",b)),a.ui.dialog.overlay.resize(),c.options.modal&&(d=0,a(".ui-dialog").each(function(){this!==c.uiDialog[0]&&(e=a(this).css("z-index"),isNaN(e)||(d=Math.max(d,e)))}),a.ui.dialog.maxZ=d);return c}},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var d=this,e=d.options,f;if(e.modal&&!b||!e.stack&&!e.modal)return d._trigger("focus",c);e.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=e.zIndex),d.overlay&&(a.ui.dialog.maxZ+=1,d.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ)),f={scrollTop:d.element.scrollTop(),scrollLeft:d.element.scrollLeft()},a.ui.dialog.maxZ+=1,d.uiDialog.css("z-index",a.ui.dialog.maxZ),d.element.attr(f),d._trigger("focus",c);return d},open:function(){if(!this._isOpen){var b=this,c=b.options,d=b.uiDialog;b.overlay=c.modal?new a.ui.dialog.overlay(b):null,b._size(),b._position(c.position),d.show(c.show),b.moveToTop(!0),c.modal&&d.bind("keydown.ui-dialog",function(b){if(b.keyCode===a.ui.keyCode.TAB){var c=a(":tabbable",this),d=c.filter(":first"),e=c.filter(":last");if(b.target===e[0]&&!b.shiftKey){d.focus(1);return!1}if(b.target===d[0]&&b.shiftKey){e.focus(1);return!1}}}),a(b.element.find(":tabbable").get().concat(d.find(".ui-dialog-buttonpane :tabbable").get().concat(d.get()))).eq(0).focus(),b._isOpen=!0,b._trigger("open");return b}},_createButtons:function(b){var c=this,d=!1,e=a("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),g=a("<div></div>").addClass("ui-dialog-buttonset").appendTo(e);c.uiDialog.find(".ui-dialog-buttonpane").remove(),typeof b=="object"&&b!==null&&a.each(b,function(){return!(d=!0)}),d&&(a.each(b,function(b,d){d=a.isFunction(d)?{click:d,text:b}:d;var e=a('<button type="button"></button>').click(function(){d.click.apply(c.element[0],arguments)}).appendTo(g);a.each(d,function(a,b){a!=="click"&&(a in f?e[a](b):e.attr(a,b))}),a.fn.button&&e.button()}),e.appendTo(c.uiDialog))},_makeDraggable:function(){function f(a){return{position:a.position,offset:a.offset}}var b=this,c=b.options,d=a(document),e;b.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,g){e=c.height==="auto"?"auto":a(this).height(),a(this).height(a(this).height()).addClass("ui-dialog-dragging"),b._trigger("dragStart",d,f(g))},drag:function(a,c){b._trigger("drag",a,f(c))},stop:function(g,h){c.position=[h.position.left-d.scrollLeft(),h.position.top-d.scrollTop()],a(this).removeClass("ui-dialog-dragging").height(e),b._trigger("dragStop",g,f(h)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(c){function h(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}c=c===b?this.options.resizable:c;var d=this,e=d.options,f=d.uiDialog.css("position"),g=typeof c=="string"?c:"n,e,s,w,se,sw,ne,nw";d.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:d.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:d._minHeight(),handles:g,start:function(b,c){a(this).addClass("ui-dialog-resizing"),d._trigger("resizeStart",b,h(c))},resize:function(a,b){d._trigger("resize",a,h(b))},stop:function(b,c){a(this).removeClass("ui-dialog-resizing"),e.height=a(this).height(),e.width=a(this).width(),d._trigger("resizeStop",b,h(c)),a.ui.dialog.overlay.resize()}}).css("position",f).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c=[],d=[0,0],e;if(b){if(typeof b=="string"||typeof b=="object"&&"0"in b)c=b.split?b.split(" "):[b[0],b[1]],c.length===1&&(c[1]=c[0]),a.each(["left","top"],function(a,b){+c[a]===c[a]&&(d[a]=c[a],c[a]=b)}),b={my:c.join(" "),at:c.join(" "),offset:d.join(" ")};b=a.extend({},a.ui.dialog.prototype.options.position,b)}else b=a.ui.dialog.prototype.options.position;e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(a.extend({of:window},b)),e||this.uiDialog.hide()},_setOptions:function(b){var c=this,f={},g=!1;a.each(b,function(a,b){c._setOption(a,b),a in d&&(g=!0),a in e&&(f[a]=b)}),g&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(b,d){var e=this,f=e.uiDialog;switch(b){case"beforeclose":b="beforeClose";break;case"buttons":e._createButtons(d);break;case"closeText":e.uiDialogTitlebarCloseText.text(""+d);break;case"dialogClass":f.removeClass(e.options.dialogClass).addClass(c+d);break;case"disabled":d?f.addClass("ui-dialog-disabled"):f.removeClass("ui-dialog-disabled");break;case"draggable":var g=f.is(":data(draggable)");g&&!d&&f.draggable("destroy"),!g&&d&&e._makeDraggable();break;case"position":e._position(d);break;case"resizable":var h=f.is(":data(resizable)");h&&!d&&f.resizable("destroy"),h&&typeof d=="string"&&f.resizable("option","handles",d),!h&&d!==!1&&e._makeResizable(d);break;case"title":a(".ui-dialog-title",e.uiDialogTitlebar).html(""+(d||"&#160;"))}a.Widget.prototype._setOption.apply(e,arguments)},_size:function(){var b=this.options,c,d,e=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),b.minWidth>b.width&&(b.width=b.minWidth),c=this.uiDialog.css({height:"auto",width:b.width}).height(),d=Math.max(0,b.minHeight-c);if(b.height==="auto")if(a.support.minHeight)this.element.css({minHeight:d,height:"auto"});else{this.uiDialog.show();var f=this.element.css("height","auto").height();e||this.uiDialog.hide(),this.element.height(Math.max(f,d))}else this.element.height(Math.max(b.height-c,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),a.extend(a.ui.dialog,{version:"1.8.17",uuid:0,maxZ:0,getTitleId:function(a){var b=a.attr("id");b||(this.uuid+=1,b=this.uuid);return"ui-dialog-title-"+b},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(b){this.instances.length===0&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){if(a(b.target).zIndex()<a.ui.dialog.overlay.maxZ)return!1})},1),a(document).bind("keydown.dialog-overlay",function(c){b.options.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=(this.oldInstances.pop()||a("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});a.fn.bgiframe&&c.bgiframe(),this.instances.push(c);return c},destroy:function(b){var c=a.inArray(b,this.instances);c!=-1&&this.oldInstances.push(this.instances.splice(c,1)[0]),this.instances.length===0&&a([document,window]).unbind(".dialog-overlay"),b.remove();var d=0;a.each(this.instances,function(){d=Math.max(d,this.css("z-index"))}),this.maxZ=d},height:function(){var b,c;if(a.browser.msie&&a.browser.version<7){b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return b<c?a(window).height()+"px":b+"px"}return a(document).height()+"px"},width:function(){var b,c;if(a.browser.msie){b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return b<c?a(window).width()+"px":b+"px"}return a(document).width()+"px"},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)}),b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);/*
 * jQuery UI Slider 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Slider
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */(function(a,b){var c=5;a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var b=this,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",g=d.values&&d.values.length||1,h=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(d.disabled?" ui-slider-disabled ui-disabled":"")),this.range=a([]),d.range&&(d.range===!0&&(d.values||(d.values=[this._valueMin(),this._valueMin()]),d.values.length&&d.values.length!==2&&(d.values=[d.values[0],d.values[0]])),this.range=a("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(d.range==="min"||d.range==="max"?" ui-slider-range-"+d.range:"")));for(var i=e.length;i<g;i+=1)h.push(f);this.handles=e.add(a(h.join("")).appendTo(b.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){d.disabled||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){d.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")}),this.handles.each(function(b){a(this).data("index.ui-slider-handle",b)}),this.handles.keydown(function(d){var e=!0,f=a(this).data("index.ui-slider-handle"),g,h,i,j;if(!b.options.disabled){switch(d.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:e=!1;if(!b._keySliding){b._keySliding=!0,a(this).addClass("ui-state-active"),g=b._start(d,f);if(g===!1)return}}j=b.options.step,b.options.values&&b.options.values.length?h=i=b.values(f):h=i=b.value();switch(d.keyCode){case a.ui.keyCode.HOME:i=b._valueMin();break;case a.ui.keyCode.END:i=b._valueMax();break;case a.ui.keyCode.PAGE_UP:i=b._trimAlignValue(h+(b._valueMax()-b._valueMin())/c);break;case a.ui.keyCode.PAGE_DOWN:i=b._trimAlignValue(h-(b._valueMax()-b._valueMin())/c);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(h===b._valueMax())return;i=b._trimAlignValue(h+j);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(h===b._valueMin())return;i=b._trimAlignValue(h-j)}b._slide(d,f,i);return e}}).keyup(function(c){var d=a(this).data("index.ui-slider-handle");b._keySliding&&(b._keySliding=!1,b._stop(c,d),b._change(c,d),a(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy();return this},_mouseCapture:function(b){var c=this.options,d,e,f,g,h,i,j,k,l;if(c.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),d={x:b.pageX,y:b.pageY},e=this._normValueFromMouse(d),f=this._valueMax()-this._valueMin()+1,h=this,this.handles.each(function(b){var c=Math.abs(e-h.values(b));f>c&&(f=c,g=a(this),i=b)}),c.range===!0&&this.values(1)===c.min&&(i+=1,g=a(this.handles[i])),j=this._start(b,i);if(j===!1)return!1;this._mouseSliding=!0,h._handleIndex=i,g.addClass("ui-state-active").focus(),k=g.offset(),l=!a(b.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:b.pageX-k.left-g.width()/2,top:b.pageY-k.top-g.height()/2-(parseInt(g.css("borderTopWidth"),10)||0)-(parseInt(g.css("borderBottomWidth"),10)||0)+(parseInt(g.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,i,e),this._animateOff=!0;return!0},_mouseStart:function(a){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);this._slide(a,this._handleIndex,c);return!1},_mouseStop:function(a){this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1;return!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;this.orientation==="horizontal"?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),d<0&&(d=0),this.orientation==="vertical"&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e;return this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values());return this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),this.options.values.length===2&&this.options.range===!0&&(b===0&&c>d||b===1&&c<d)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c,!0))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("change",a,c)}},value:function(a){if(arguments.length)this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0);else return this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b);else{if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();d=this.options.values,e=arguments[0];for(f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()}},_setOption:function(b,c){var d,e=0;a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(d=0;d<e;d+=1)this._change(null,d);this._animateOff=!1}},_value:function(){var a=this.options.value;a=this._trimAlignValue(a);return a},_values:function(a){var b,c,d;if(arguments.length){b=this.options.values[a],b=this._trimAlignValue(b);return b}c=this.options.values.slice();for(d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;Math.abs(c)*2>=b&&(d+=c>0?b:-b);return parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b=this.options.range,c=this.options,d=this,e=this._animateOff?!1:c.animate,f,g={},h,i,j,k;this.options.values&&this.options.values.length?this.handles.each(function(b,i){f=(d.values(b)-d._valueMin())/(d._valueMax()-d._valueMin())*100,g[d.orientation==="horizontal"?"left":"bottom"]=f+"%",a(this).stop(1,1)[e?"animate":"css"](g,c.animate),d.options.range===!0&&(d.orientation==="horizontal"?(b===0&&d.range.stop(1,1)[e?"animate":"css"]({left:f+"%"},c.animate),b===1&&d.range[e?"animate":"css"]({width:f-h+"%"},{queue:!1,duration:c.animate})):(b===0&&d.range.stop(1,1)[e?"animate":"css"]({bottom:f+"%"},c.animate),b===1&&d.range[e?"animate":"css"]({height:f-h+"%"},{queue:!1,duration:c.animate}))),h=f}):(i=this.value(),j=this._valueMin(),k=this._valueMax(),f=k!==j?(i-j)/(k-j)*100:0,g[d.orientation==="horizontal"?"left":"bottom"]=f+"%",this.handle.stop(1,1)[e?"animate":"css"](g,c.animate),b==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[e?"animate":"css"]({width:f+"%"},c.animate),b==="max"&&this.orientation==="horizontal"&&this.range[e?"animate":"css"]({width:100-f+"%"},{queue:!1,duration:c.animate}),b==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[e?"animate":"css"]({height:f+"%"},c.animate),b==="max"&&this.orientation==="vertical"&&this.range[e?"animate":"css"]({height:100-f+"%"},{queue:!1,duration:c.animate}))}}),a.extend(a.ui.slider,{version:"1.8.17"})})(jQuery);/*
 * jQuery UI Tabs 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Tabs
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */(function(a,b){function f(){return++d}function e(){return++c}var c=0,d=0;a.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(a,b){if(a=="selected"){if(this.options.collapsible&&b==this.options.selected)return;this.select(b)}else this.options[a]=b,this._tabify()},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+e()},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+f());return a.cookie.apply(null,[b].concat(a.makeArray(arguments)))},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var b=a(this);b.html(b.data("label.tabs")).removeData("label.tabs")})},_tabify:function(c){function m(b,c){b.css("display",""),!a.support.opacity&&c.opacity&&b[0].style.removeAttribute("filter")}var d=this,e=this.options,f=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=a(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return a("a",this)[0]}),this.panels=a([]),this.anchors.each(function(b,c){var g=a(c).attr("href"),h=g.split("#")[0],i;h&&(h===location.toString().split("#")[0]||(i=a("base")[0])&&h===i.href)&&(g=c.hash,c.href=g);if(f.test(g))d.panels=d.panels.add(d.element.find(d._sanitizeSelector(g)));else if(g&&g!=="#"){a.data(c,"href.tabs",g),a.data(c,"load.tabs",g.replace(/#.*$/,""));var j=d._tabId(c);c.href="#"+j;var k=d.element.find("#"+j);k.length||(k=a(e.panelTemplate).attr("id",j).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(d.panels[b-1]||d.list),k.data("destroy.tabs",!0)),d.panels=d.panels.add(k)}else e.disabled.push(b)}),c?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),e.selected===b?(location.hash&&this.anchors.each(function(a,b){if(b.hash==location.hash){e.selected=a;return!1}}),typeof e.selected!="number"&&e.cookie&&(e.selected=parseInt(d._cookie(),10)),typeof e.selected!="number"&&this.lis.filter(".ui-tabs-selected").length&&(e.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),e.selected=e.selected||(this.lis.length?0:-1)):e.selected===null&&(e.selected=-1),e.selected=e.selected>=0&&this.anchors[e.selected]||e.selected<0?e.selected:0,e.disabled=a.unique(e.disabled.concat(a.map(this.lis.filter(".ui-state-disabled"),function(a,b){return d.lis.index(a)}))).sort(),a.inArray(e.selected,e.disabled)!=-1&&e.disabled.splice(a.inArray(e.selected,e.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),e.selected>=0&&this.anchors.length&&(d.element.find(d._sanitizeSelector(d.anchors[e.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(e.selected).addClass("ui-tabs-selected ui-state-active"),d.element.queue("tabs",function(){d._trigger("show",null,d._ui(d.anchors[e.selected],d.element.find(d._sanitizeSelector(d.anchors[e.selected].hash))[0]))}),this.load(e.selected)),a(window).bind("unload",function(){d.lis.add(d.anchors).unbind(".tabs"),d.lis=d.anchors=d.panels=null})):e.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[e.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),e.cookie&&this._cookie(e.selected,e.cookie);for(var g=0,h;h=this.lis[g];g++)a(h)[a.inArray(g,e.disabled)!=-1&&!a(h).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");e.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs");if(e.event!=="mouseover"){var i=function(a,b){b.is(":not(.ui-state-disabled)")&&b.addClass("ui-state-"+a)},j=function(a,b){b.removeClass("ui-state-"+a)};this.lis.bind("mouseover.tabs",function(){i("hover",a(this))}),this.lis.bind("mouseout.tabs",function(){j("hover",a(this))}),this.anchors.bind("focus.tabs",function(){i("focus",a(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){j("focus",a(this).closest("li"))})}var k,l;e.fx&&(a.isArray(e.fx)?(k=e.fx[0],l=e.fx[1]):k=l=e.fx);var n=l?function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.hide().removeClass("ui-tabs-hide").animate(l,l.duration||"normal",function(){m(c,l),d._trigger("show",null,d._ui(b,c[0]))})}:function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.removeClass("ui-tabs-hide"),d._trigger("show",null,d._ui(b,c[0]))},o=k?function(a,b){b.animate(k,k.duration||"normal",function(){d.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),m(b,k),d.element.dequeue("tabs")})}:function(a,b,c){d.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),d.element.dequeue("tabs")};this.anchors.bind(e.event+".tabs",function(){var b=this,c=a(b).closest("li"),f=d.panels.filter(":not(.ui-tabs-hide)"),g=d.element.find(d._sanitizeSelector(b.hash));if(c.hasClass("ui-tabs-selected")&&!e.collapsible||c.hasClass("ui-state-disabled")||c.hasClass("ui-state-processing")||d.panels.filter(":animated").length||d._trigger("select",null,d._ui(this,g[0]))===!1){this.blur();return!1}e.selected=d.anchors.index(this),d.abort();if(e.collapsible){if(c.hasClass("ui-tabs-selected")){e.selected=-1,e.cookie&&d._cookie(e.selected,e.cookie),d.element.queue("tabs",function(){o(b,f)}).dequeue("tabs"),this.blur();return!1}if(!f.length){e.cookie&&d._cookie(e.selected,e.cookie),d.element.queue("tabs",function(){n(b,g)}),d.load(d.anchors.index(this)),this.blur();return!1}}e.cookie&&d._cookie(e.selected,e.cookie);if(g.length)f.length&&d.element.queue("tabs",function(){o(b,f)}),d.element.queue("tabs",function(){n(b,g)}),d.load(d.anchors.index(this));else throw"jQuery UI Tabs: Mismatching fragment identifier.";a.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(a){typeof a=="string"&&(a=this.anchors.index(this.anchors.filter("[href$="+a+"]")));return a},destroy:function(){var b=this.options;this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var b=a.data(this,"href.tabs");b&&(this.href=b);var c=a(this).unbind(".tabs");a.each(["href","load","cache"],function(a,b){c.removeData(b+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){a.data(this,"destroy.tabs")?a(this).remove():a(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),b.cookie&&this._cookie(null,b.cookie);return this},add:function(c,d,e){e===b&&(e=this.anchors.length);var f=this,g=this.options,h=a(g.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,d)),i=c.indexOf("#")?this._tabId(a("a",h)[0]):c.replace("#","");h.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var j=f.element.find("#"+i);j.length||(j=a(g.panelTemplate).attr("id",i).data("destroy.tabs",!0)),j.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),e>=this.lis.length?(h.appendTo(this.list),j.appendTo(this.list[0].parentNode)):(h.insertBefore(this.lis[e]),j.insertBefore(this.panels[e])),g.disabled=a.map(g.disabled,function(a,b){return a>=e?++a:a}),this._tabify(),this.anchors.length==1&&(g.selected=0,h.addClass("ui-tabs-selected ui-state-active"),j.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){f._trigger("show",null,f._ui(f.anchors[0],f.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[e],this.panels[e]));return this},remove:function(b){b=this._getIndex(b);var c=this.options,d=this.lis.eq(b).remove(),e=this.panels.eq(b).remove();d.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(b+(b+1<this.anchors.length?1:-1)),c.disabled=a.map(a.grep(c.disabled,function(a,c){return a!=b}),function(a,c){return a>=b?--a:a}),this._tabify(),this._trigger("remove",null,this._ui(d.find("a")[0],e[0]));return this},enable:function(b){b=this._getIndex(b);var c=this.options;if(a.inArray(b,c.disabled)!=-1){this.lis.eq(b).removeClass("ui-state-disabled"),c.disabled=a.grep(c.disabled,function(a,c){return a!=b}),this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b]));return this}},disable:function(a){a=this._getIndex(a);var b=this,c=this.options;a!=c.selected&&(this.lis.eq(a).addClass("ui-state-disabled"),c.disabled.push(a),c.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[a],this.panels[a])));return this},select:function(a){a=this._getIndex(a);if(a==-1)if(this.options.collapsible&&this.options.selected!=-1)a=this.options.selected;else return this;this.anchors.eq(a).trigger(this.options.event+".tabs");return this},load:function(b){b=this._getIndex(b);var c=this,d=this.options,e=this.anchors.eq(b)[0],f=a.data(e,"load.tabs");this.abort();if(!f||this.element.queue("tabs").length!==0&&a.data(e,"cache.tabs"))this.element.dequeue("tabs");else{this.lis.eq(b).addClass("ui-state-processing");if(d.spinner){var g=a("span",e);g.data("label.tabs",g.html()).html(d.spinner)}this.xhr=a.ajax(a.extend({},d.ajaxOptions,{url:f,success:function(f,g){c.element.find(c._sanitizeSelector(e.hash)).html(f),c._cleanup(),d.cache&&a.data(e,"cache.tabs",!0),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.success(f,g)}catch(h){}},error:function(a,f,g){c._cleanup(),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.error(a,f,b,e)}catch(g){}}})),c.element.dequeue("tabs");return this}},abort:function(){this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup();return this},url:function(a,b){this.anchors.eq(a).removeData("cache.tabs").data("load.tabs",b);return this},length:function(){return this.anchors.length}}),a.extend(a.ui.tabs,{version:"1.8.17"}),a.extend(a.ui.tabs.prototype,{rotation:null,rotate:function(a,b){var c=this,d=this.options,e=c._rotate||(c._rotate=function(b){clearTimeout(c.rotation),c.rotation=setTimeout(function(){var a=d.selected;c.select(++a<c.anchors.length?a:0)},a),b&&b.stopPropagation()}),f=c._unrotate||(c._unrotate=b?function(a){t=d.selected,e()}:function(a){a.clientX&&c.rotate(null)});a?(this.element.bind("tabsshow",e),this.anchors.bind(d.event+".tabs",f),e()):(clearTimeout(c.rotation),this.element.unbind("tabsshow",e),this.anchors.unbind(d.event+".tabs",f),delete this._rotate,delete this._unrotate);return this}})})(jQuery);/*
 * jQuery UI Datepicker 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Datepicker
 *
 * Depends:
 *	jquery.ui.core.js
 */(function($,undefined){function isArray(a){return a&&($.browser.safari&&typeof a=="object"&&a.length||a.constructor&&a.constructor.toString().match(/\Array\(\)/))}function extendRemove(a,b){$.extend(a,b);for(var c in b)if(b[c]==null||b[c]==undefined)a[c]=b[c];return a}function bindHover(a){var b="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.bind("mouseout",function(a){var c=$(a.target).closest(b);!c.length||c.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(c){var d=$(c.target).closest(b);!$.datepicker._isDisabledDatepicker(instActive.inline?a.parent()[0]:instActive.input[0])&&!!d.length&&(d.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d.addClass("ui-state-hover"),d.hasClass("ui-datepicker-prev")&&d.addClass("ui-datepicker-prev-hover"),d.hasClass("ui-datepicker-next")&&d.addClass("ui-datepicker-next-hover"))})}function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}$.extend($.ui,{datepicker:{version:"1.8.17"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){extendRemove(this._defaults,a||{});return this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(a,b){var c=a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:c,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,b){var c=$(a);b.append=$([]),b.trigger=$([]);c.hasClass(this.markerClassName)||(this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),$.data(a,PROP_NAME,b),b.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,b){var c=this._get(b,"appendText"),d=this._get(b,"isRTL");b.append&&b.append.remove(),c&&(b.append=$('<span class="'+this._appendClass+'">'+c+"</span>"),a[d?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove();var e=this._get(b,"showOn");(e=="focus"||e=="both")&&a.focus(this._showDatepicker);if(e=="button"||e=="both"){var f=this._get(b,"buttonText"),g=this._get(b,"buttonImage");b.trigger=$(this._get(b,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):$('<button type="button"></button>').addClass(this._triggerClass).html(g==""?f:$("<img/>").attr({src:g,alt:f,title:f}))),a[d?"before":"after"](b.trigger),b.trigger.click(function(){$.datepicker._datepickerShowing&&$.datepicker._lastInput==a[0]?$.datepicker._hideDatepicker():$.datepicker._showDatepicker(a[0]);return!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){var b=0,c=0;for(var d=0;d<a.length;d++)a[d].length>b&&(b=a[d].length,c=d);return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=$(a);c.hasClass(this.markerClassName)||(c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),$.data(a,PROP_NAME,b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css("display","block"))},_dialogDatepicker:function(a,b,c,d,e){var f=this._dialogInst;if(!f){this.uuid+=1;var g="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+g+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},$.data(this._dialogInput[0],PROP_NAME,f)}extendRemove(f.settings,d||{}),b=b&&b.constructor==Date?this._formatDate(f,b):b,this._dialogInput.val(b),this._pos=e?e.length?e:[e.pageX,e.pageY]:null;if(!this._pos){var h=document.documentElement.clientWidth,i=document.documentElement.clientHeight,j=document.documentElement.scrollLeft||document.body.scrollLeft,k=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[h/2-100+j,i/2-150+k]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,f);return this},_destroyDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!!b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();$.removeData(a,PROP_NAME),d=="input"?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(d=="div"||d=="span")&&b.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!!b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();if(d=="input")a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b})}},_disableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!!b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();if(d=="input")a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(a){try{return $.data(a,PROP_NAME)}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var d=this._getInst(a);if(arguments.length==2&&typeof b=="string")return b=="defaults"?$.extend({},$.datepicker._defaults):d?b=="all"?$.extend({},d.settings):this._get(d,b):null;var e=b||{};typeof b=="string"&&(e={},e[b]=c);if(d){this._curInst==d&&this._hideDatepicker();var f=this._getDateDatepicker(a,!0),g=this._getMinMaxDate(d,"min"),h=this._getMinMaxDate(d,"max");extendRemove(d.settings,e),g!==null&&e.dateFormat!==undefined&&e.minDate===undefined&&(d.settings.minDate=this._formatDate(d,g)),h!==null&&e.dateFormat!==undefined&&e.maxDate===undefined&&(d.settings.maxDate=this._formatDate(d,h)),this._attachments($(a),d),this._autoSize(d),this._setDate(d,f),this._updateAlternate(d),this._updateDatepicker(d)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);c&&!c.inline&&this._setDateFromField(c,b);return c?this._getDate(c):null},_doKeyDown:function(a){var b=$.datepicker._getInst(a.target),c=!0,d=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=!0;if($.datepicker._datepickerShowing)switch(a.keyCode){case 9:$.datepicker._hideDatepicker(),c=!1;break;case 13:var e=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",b.dpDiv);e[0]&&$.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,e[0]);var f=$.datepicker._get(b,"onSelect");if(f){var g=$.datepicker._formatDate(b);f.apply(b.input?b.input[0]:null,[g,b])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&$.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&$.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||a.metaKey;break;default:c=!1}else a.keyCode==36&&a.ctrlKey?$.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=$.datepicker._getInst(a.target);if($.datepicker._get(b,"constrainInput")){var c=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat")),d=String.fromCharCode(a.charCode==undefined?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||d<" "||!c||c.indexOf(d)>-1}},_doKeyUp:function(a){var b=$.datepicker._getInst(a.target);if(b.input.val()!=b.lastVal)try{var c=$.datepicker.parseDate($.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,$.datepicker._getFormatConfig(b));c&&($.datepicker._setDateFromField(b),$.datepicker._updateAlternate(b),$.datepicker._updateDatepicker(b))}catch(a){$.datepicker.log(a)}return!0},_showDatepicker:function(a){a=a.target||a,a.nodeName.toLowerCase()!="input"&&(a=$("input",a.parentNode)[0]);if(!$.datepicker._isDisabledDatepicker(a)&&$.datepicker._lastInput!=a){var b=$.datepicker._getInst(a);$.datepicker._curInst&&$.datepicker._curInst!=b&&($.datepicker._curInst.dpDiv.stop(!0,!0),b&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var c=$.datepicker._get(b,"beforeShow"),d=c?c.apply(a,[a,b]):{};if(d===!1)return;extendRemove(b.settings,d),b.lastVal=null,$.datepicker._lastInput=a,$.datepicker._setDateFromField(b),$.datepicker._inDialog&&(a.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(a),$.datepicker._pos[1]+=a.offsetHeight);var e=!1;$(a).parents().each(function(){e|=$(this).css("position")=="fixed";return!e}),e&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var f={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(b),f=$.datepicker._checkOffset(b,f,e),b.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":e?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"});if(!b.inline){var g=$.datepicker._get(b,"showAnim"),h=$.datepicker._get(b,"duration"),i=function(){var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(!!a.length){var c=$.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex($(a).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[g]?b.dpDiv.show(g,$.datepicker._get(b,"showOptions"),h,i):b.dpDiv[g||"show"](g?h:null,i),(!g||!h)&&i(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),$.datepicker._curInst=b}}},_updateDatepicker:function(a){var b=this;b.maxRows=4;var c=$.datepicker._getBorders(a.dpDiv);instActive=a,a.dpDiv.empty().append(this._generateHTML(a));var d=a.dpDiv.find("iframe.ui-datepicker-cover");!d.length||d.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var e=this._getNumberOfMonths(a),f=e[1],g=17;a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),f>1&&a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",g*f+"em"),a.dpDiv[(e[0]!=1||e[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==$.datepicker._curInst&&$.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var h=a.yearshtml;setTimeout(function(){h===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),h=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var d=a.dpDiv.outerWidth(),e=a.dpDiv.outerHeight(),f=a.input?a.input.outerWidth():0,g=a.input?a.input.outerHeight():0,h=document.documentElement.clientWidth+$(document).scrollLeft(),i=document.documentElement.clientHeight+$(document).scrollTop();b.left-=this._get(a,"isRTL")?d-f:0,b.left-=c&&b.left==a.input.offset().left?$(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+g?$(document).scrollTop():0,b.left-=Math.min(b.left,b.left+d>h&&h>d?Math.abs(b.left+d-h):0),b.top-=Math.min(b.top,b.top+e>i&&i>e?Math.abs(e+g):0);return b},_findPos:function(a){var b=this._getInst(a),c=this._get(b,"isRTL");while(a&&(a.type=="hidden"||a.nodeType!=1||$.expr.filters.hidden(a)))a=a[c?"previousSibling":"nextSibling"];var d=$(a).offset();return[d.left,d.top]},_hideDatepicker:function(a){var b=this._curInst;if(!(!b||a&&b!=$.data(a,PROP_NAME))&&this._datepickerShowing){var c=this._get(b,"showAnim"),d=this._get(b,"duration"),e=this,f=function(){$.datepicker._tidyDialog(b),e._curInst=null};$.effects&&$.effects[c]?b.dpDiv.hide(c,$.datepicker._get(b,"showOptions"),d,f):b.dpDiv[c=="slideDown"?"slideUp":c=="fadeIn"?"fadeOut":"hide"](c?d:null,f),c||f(),this._datepickerShowing=!1;var g=this._get(b,"onClose");g&&g.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(!!$.datepicker._curInst){var b=$(a.target),c=$.datepicker._getInst(b[0]);(b[0].id!=$.datepicker._mainDivId&&b.parents("#"+$.datepicker._mainDivId).length==0&&!b.hasClass($.datepicker.markerClassName)&&!b.hasClass($.datepicker._triggerClass)&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||b.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=c)&&$.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){var d=$(a),e=this._getInst(d[0]);this._isDisabledDatepicker(d[0])||(this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e))},_gotoToday:function(a){var b=$(a),c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay)c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear;else{var d=new Date;c.selectedDay=d.getDate(),c.drawMonth=c.selectedMonth=d.getMonth(),c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c),this._adjustDate(b)},_selectMonthYear:function(a,b,c){var d=$(a),e=this._getInst(d[0]);e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(d)},_selectDay:function(a,b,c,d){var e=$(a);if(!$(d).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(e[0])){var f=this._getInst(e[0]);f.selectedDay=f.currentDay=$("a",d).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))}},_clearDate:function(a){var b=$(a),c=this._getInst(b[0]);this._selectDate(b,"")},_selectDate:function(a,b){var c=$(a),d=this._getInst(c[0]);b=b!=null?b:this._formatDate(d),d.input&&d.input.val(b),this._updateAlternate(d);var e=this._get(d,"onSelect");e?e.apply(d.input?d.input[0]:null,[b,d]):d.input&&d.input.trigger("change"),d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],typeof d.input[0]!="object"&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),d=this._getDate(a),e=this.formatDate(c,d,this._getFormatConfig(a));$(b).each(function(){$(this).val(e)})}},noWeekends:function(a){var b=a.getDay();return[b>0&&b<6,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();b.setMonth(0),b.setDate(1);return Math.floor(Math.round((c-b)/864e5)/7)+1},parseDate:function(a,b,c){if(a==null||b==null)throw"Invalid arguments";b=typeof b=="object"?b.toString():b+"";if(b=="")return null;var d=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;d=typeof d!="string"?d:(new Date).getFullYear()%100+parseInt(d,10);var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=-1,j=-1,k=-1,l=-1,m=!1,n=function(b){var c=s+1<a.length&&a.charAt(s+1)==b;c&&s++;return c},o=function(a){var c=n(a),d=a=="@"?14:a=="!"?20:a=="y"&&c?4:a=="o"?3:2,e=new RegExp("^\\d{1,"+d+"}"),f=b.substring(r).match(e);if(!f)throw"Missing number at position "+r;r+=f[0].length;return parseInt(f[0],10)},p=function(a,c,d){var e=$.map(n(a)?d:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)}),f=-1;$.each(e,function(a,c){var d=c[1];if(b.substr(r,d.length).toLowerCase()==d.toLowerCase()){f=c[0],r+=d.length;return!1}});if(f!=-1)return f+1;throw"Unknown name at position "+r},q=function(){if(b.charAt(r)!=a.charAt(s))throw"Unexpected literal at position "+r;r++},r=0;for(var s=0;s<a.length;s++)if(m)a.charAt(s)=="'"&&!n("'")?m=!1:q();else switch(a.charAt(s)){case"d":k=o("d");break;case"D":p("D",e,f);break;case"o":l=o("o");break;case"m":j=o("m");break;case"M":j=p("M",g,h);break;case"y":i=o("y");break;case"@":var t=new Date(o("@"));i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"!":var t=new Date((o("!")-this._ticksTo1970)/1e4);i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"'":n("'")?q():m=!0;break;default:q()}if(r<b.length)throw"Extra/unparsed characters found in date: "+b.substring(r);i==-1?i=(new Date).getFullYear():i<100&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i<=d?0:-100));if(l>-1){j=1,k=l;for(;;){var u=this._getDaysInMonth(i,j-1);if(k<=u)break;j++,k-=u}}var t=this._daylightSavingAdjust(new Date(i,j-1,k));if(t.getFullYear()!=i||t.getMonth()+1!=j||t.getDate()!=k)throw"Invalid date";return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,h=function(b){var c=m+1<a.length&&a.charAt(m+1)==b;c&&m++;return c},i=function(a,b,c){var d=""+b;if(h(a))while(d.length<c)d="0"+d;return d},j=function(a,b,c,d){return h(a)?d[b]:c[b]},k="",l=!1;if(b)for(var m=0;m<a.length;m++)if(l)a.charAt(m)=="'"&&!h("'")?l=!1:k+=a.charAt(m);else switch(a.charAt(m)){case"d":k+=i("d",b.getDate(),2);break;case"D":k+=j("D",b.getDay(),d,e);break;case"o":k+=i("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":k+=i("m",b.getMonth()+1,2);break;case"M":k+=j("M",b.getMonth(),f,g);break;case"y":k+=h("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":k+=b.getTime();break;case"!":k+=b.getTime()*1e4+this._ticksTo1970;break;case"'":h("'")?k+="'":l=!0;break;default:k+=a.charAt(m)}return k},_possibleChars:function(a){var b="",c=!1,d=function(b){var c=e+1<a.length&&a.charAt(e+1)==b;c&&e++;return c};for(var e=0;e<a.length;e++)if(c)a.charAt(e)=="'"&&!d("'")?c=!1:b+=a.charAt(e);else switch(a.charAt(e)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(e)}return b},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e,f;e=f=this._getDefaultDate(a);var g=this._getFormatConfig(a);try{e=this.parseDate(c,d,g)||f}catch(h){this.log(h),d=b?"":d}a.selectedDay=e.getDate(),a.drawMonth=a.selectedMonth=e.getMonth(),a.drawYear=a.selectedYear=e.getFullYear(),a.currentDay=d?e.getDate():0,a.currentMonth=d?e.getMonth():0,a.currentYear=d?e.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var d=function(a){var b=new Date;b.setDate(b.getDate()+a);return b},e=function(b){try{return $.datepicker.parseDate($.datepicker._get(a,"dateFormat"),b,$.datepicker._getFormatConfig(a))}catch(c){}var d=(b.toLowerCase().match(/^c/)?$.datepicker._getDate(a):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(b);while(i){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=parseInt(i[1],10)*7;break;case"m":case"M":f+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f))}i=h.exec(b)}return new Date(e,f,g)},f=b==null||b===""?c:typeof b=="string"?e(b):typeof b=="number"?isNaN(b)?c:d(b):new Date(b.getTime());f=f&&f.toString()=="Invalid Date"?c:f,f&&(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0));return this._daylightSavingAdjust(f)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(a.getHours()>12?a.getHours()+2:0);return a},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),(e!=a.selectedMonth||f!=a.selectedYear)&&!c&&this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),d=this._get(a,"showButtonPanel"),e=this._get(a,"hideIfNoPrevNext"),f=this._get(a,"navigationAsDateFormat"),g=this._getNumberOfMonths(a),h=this._get(a,"showCurrentAtPos"),i=this._get(a,"stepMonths"),j=g[0]!=1||g[1]!=1,k=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),l=this._getMinMaxDate(a,"min"),m=this._getMinMaxDate(a,"max"),n=a.drawMonth-h,o=a.drawYear;n<0&&(n+=12,o--);if(m){var p=this._daylightSavingAdjust(new Date(m.getFullYear(),m.getMonth()-g[0]*g[1]+1,m.getDate()));p=l&&p<l?l:p;while(this._daylightSavingAdjust(new Date(o,n,1))>p)n--,n<0&&(n=11,o--)}a.drawMonth=n,a.drawYear=o;var q=this._get(a,"prevText");q=f?this.formatDate(q,this._daylightSavingAdjust(new Date(o,n-i,1)),this._getFormatConfig(a)):q;var r=this._canAdjustMonth(a,-1,o,n)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', -"+i+", 'M');\""+' title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>":e?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>",s=this._get(a,"nextText");s=f?this.formatDate(s,this._daylightSavingAdjust(new Date(o,n+i,1)),this._getFormatConfig(a)):s;var t=this._canAdjustMonth(a,1,o,n)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', +"+i+", 'M');\""+' title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":e?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>",u=this._get(a,"currentText"),v=this._get(a,"gotoCurrent")&&a.currentDay?k:b;u=f?this.formatDate(u,v,this._getFormatConfig(a)):u;var w=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>",x=d?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?w:"")+(this._isInRange(a,v)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+a.id+"');\""+">"+u+"</button>":"")+(c?"":w)+"</div>":"",y=parseInt(this._get(a,"firstDay"),10);y=isNaN(y)?0:y;var z=this._get(a,"showWeek"),A=this._get(a,"dayNames"),B=this._get(a,"dayNamesShort"),C=this._get(a,"dayNamesMin"),D=this._get(a,"monthNames"),E=this._get(a,"monthNamesShort"),F=this._get(a,"beforeShowDay"),G=this._get(a,"showOtherMonths"),H=this._get(a,"selectOtherMonths"),I=this._get(a,"calculateWeek")||this.iso8601Week,J=this._getDefaultDate(a),K="";for(var L=0;L<g[0];L++){var M="";this.maxRows=4;for(var N=0;N<g[1];N++){var O=this._daylightSavingAdjust(new Date(o,n,a.selectedDay)),P=" ui-corner-all",Q="";if(j){Q+='<div class="ui-datepicker-group';if(g[1]>1)switch(N){case 0:Q+=" ui-datepicker-group-first",P=" ui-corner-"+(c?"right":"left");break;case g[1]-1:Q+=" ui-datepicker-group-last",P=" ui-corner-"+(c?"left":"right");break;default:Q+=" ui-datepicker-group-middle",P=""}Q+='">'}Q+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+P+'">'+(/all|left/.test(P)&&L==0?c?t:r:"")+(/all|right/.test(P)&&L==0?c?r:t:"")+this._generateMonthYearHeader(a,n,o,l,m,L>0||N>0,D,E)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";var R=z?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(var S=0;S<7;S++){var T=(S+y)%7;R+="<th"+((S+y+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+A[T]+'">'+C[T]+"</span></th>"}Q+=R+"</tr></thead><tbody>";var U=this._getDaysInMonth(o,n);o==a.selectedYear&&n==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,U));var V=(this._getFirstDayOfMonth(o,n)-y+7)%7,W=Math.ceil((V+U)/7),X=j?this.maxRows>W?this.maxRows:W:W;this.maxRows=X;var Y=this._daylightSavingAdjust(new Date(o,n,1-V));for(var Z=0;Z<X;Z++){Q+="<tr>";var _=z?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(Y)+"</td>":"";for(var S=0;S<7;S++){var ba=F?F.apply(a.input?a.input[0]:null,[Y]):[!0,""],bb=Y.getMonth()!=n,bc=bb&&!H||!ba[0]||l&&Y<l||m&&Y>m;_+='<td class="'+((S+y+6)%7>=5?" ui-datepicker-week-end":"")+(bb?" ui-datepicker-other-month":"")+(Y.getTime()==O.getTime()&&n==a.selectedMonth&&a._keyEvent||J.getTime()==Y.getTime()&&J.getTime()==O.getTime()?" "+this._dayOverClass:"")+(bc?" "+this._unselectableClass+" ui-state-disabled":"")+(bb&&!G?"":" "+ba[1]+(Y.getTime()==k.getTime()?" "+this._currentClass:"")+(Y.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!bb||G)&&ba[2]?' title="'+ba[2]+'"':"")+(bc?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+a.id+"',"+Y.getMonth()+","+Y.getFullYear()+', this);return false;"')+">"+(bb&&!G?"&#xa0;":bc?'<span class="ui-state-default">'+Y.getDate()+"</span>":'<a class="ui-state-default'+(Y.getTime()==b.getTime()?" ui-state-highlight":"")+(Y.getTime()==k.getTime()?" ui-state-active":"")+(bb?" ui-priority-secondary":"")+'" href="#">'+Y.getDate()+"</a>")+"</td>",Y.setDate(Y.getDate()+1),Y=this._daylightSavingAdjust(Y)}Q+=_+"</tr>"}n++,n>11&&(n=0,o++),Q+="</tbody></table>"+(j?"</div>"+(g[0]>0&&N==g[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),M+=Q}K+=M}K+=x+($.browser.msie&&parseInt($.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1;return K},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i=this._get(a,"changeMonth"),j=this._get(a,"changeYear"),k=this
._get(a,"showMonthAfterYear"),l='<div class="ui-datepicker-title">',m="";if(f||!i)m+='<span class="ui-datepicker-month">'+g[b]+"</span>";else{var n=d&&d.getFullYear()==c,o=e&&e.getFullYear()==c;m+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" "+">";for(var p=0;p<12;p++)(!n||p>=d.getMonth())&&(!o||p<=e.getMonth())&&(m+='<option value="'+p+'"'+(p==b?' selected="selected"':"")+">"+h[p]+"</option>");m+="</select>"}k||(l+=m+(f||!i||!j?"&#xa0;":""));if(!a.yearshtml){a.yearshtml="";if(f||!j)l+='<span class="ui-datepicker-year">'+c+"</span>";else{var q=this._get(a,"yearRange").split(":"),r=(new Date).getFullYear(),s=function(a){var b=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?r+parseInt(a,10):parseInt(a,10);return isNaN(b)?r:b},t=s(q[0]),u=Math.max(t,s(q[1]||""));t=d?Math.max(t,d.getFullYear()):t,u=e?Math.min(u,e.getFullYear()):u,a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" "+">";for(;t<=u;t++)a.yearshtml+='<option value="'+t+'"'+(t==c?' selected="selected"':"")+">"+t+"</option>";a.yearshtml+="</select>",l+=a.yearshtml,a.yearshtml=null}}l+=this._get(a,"yearSuffix"),k&&(l+=(f||!i||!j?"&#xa0;":"")+m),l+="</div>";return l},_adjustInstDate:function(a,b,c){var d=a.drawYear+(c=="Y"?b:0),e=a.drawMonth+(c=="M"?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+(c=="D"?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),(c=="M"||c=="Y")&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&b<c?c:b;e=d&&e>d?d:e;return e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return b==null?[1,1]:typeof b=="number"?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1));b<0&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth()));return this._isInRange(a,f)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),$.fn.datepicker=function(a){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);if(typeof a=="string"&&(a=="isDisabled"||a=="getDate"||a=="widget"))return $.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b));if(a=="option"&&arguments.length==2&&typeof arguments[1]=="string")return $.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b));return this.each(function(){typeof a=="string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this].concat(b)):$.datepicker._attachDatepicker(this,a)})},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.17",window["DP_jQuery_"+dpuuid]=$})(jQuery);/*
 * jQuery UI Progressbar 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Progressbar
 *
 * Depends:
 *   jquery.ui.core.js
 *   jquery.ui.widget.js
 */(function(a,b){a.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),a.Widget.prototype.destroy.apply(this,arguments)},value:function(a){if(a===b)return this._value();this._setOption("value",a);return this},_setOption:function(b,c){b==="value"&&(this.options.value=c,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),a.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var a=this.options.value;typeof a!="number"&&(a=0);return Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var a=this.value(),b=this._percentage();this.oldValue!==a&&(this.oldValue=a,this._trigger("change")),this.valueDiv.toggle(a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(b.toFixed(0)+"%"),this.element.attr("aria-valuenow",a)}}),a.extend(a.ui.progressbar,{version:"1.8.17"})})(jQuery);/*
 * jQuery UI Effects 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/
 */jQuery.effects||function(a,b){function l(b){if(!b||typeof b=="number"||a.fx.speeds[b])return!0;if(typeof b=="string"&&!a.effects[b])return!0;return!1}function k(b,c,d,e){typeof b=="object"&&(e=c,d=null,c=b,b=c.effect),a.isFunction(c)&&(e=c,d=null,c={});if(typeof c=="number"||a.fx.speeds[c])e=d,d=c,c={};a.isFunction(d)&&(e=d,d=null),c=c||{},d=d||c.duration,d=a.fx.off?0:typeof d=="number"?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,e=e||c.complete;return[b,c,d,e]}function j(a,b){var c={_:0},d;for(d in b)a[d]!=b[d]&&(c[d]=b[d]);return c}function i(b){var c,d;for(c in b)d=b[c],(d==null||a.isFunction(d)||c in g||/scrollbar/.test(c)||!/color/i.test(c)&&isNaN(parseFloat(d)))&&delete b[c];return b}function h(){var a=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,b={},c,d;if(a&&a.length&&a[0]&&a[a[0]]){var e=a.length;while(e--)c=a[e],typeof a[c]=="string"&&(d=c.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),b[d]=a[c])}else for(c in a)typeof a[c]=="string"&&(b[c]=a[c]);return b}function d(b,d){var e;do{e=a.curCSS(b,d);if(e!=""&&e!="transparent"||a.nodeName(b,"body"))break;d="backgroundColor"}while(b=b.parentNode);return c(e)}function c(b){var c;if(b&&b.constructor==Array&&b.length==3)return b;if(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))return[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)];if(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))return[parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55];if(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)];if(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)];if(c=/rgba\(0, 0, 0, 0\)/.exec(b))return e.transparent;return e[a.trim(b).toLowerCase()]}a.effects={},a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(b,e){a.fx.step[e]=function(a){a.colorInit||(a.start=d(a.elem,e),a.end=c(a.end),a.colorInit=!0),a.elem.style[e]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+")"}});var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},f=["add","remove","toggle"],g={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(b,c,d,e){a.isFunction(d)&&(e=d,d=null);return this.queue(function(){var g=a(this),k=g.attr("style")||" ",l=i(h.call(this)),m,n=g.attr("class");a.each(f,function(a,c){b[c]&&g[c+"Class"](b[c])}),m=i(h.call(this)),g.attr("class",n),g.animate(j(l,m),{queue:!1,duration:c,easing:d,complete:function(){a.each(f,function(a,c){b[c]&&g[c+"Class"](b[c])}),typeof g.attr("style")=="object"?(g.attr("style").cssText="",g.attr("style").cssText=k):g.attr("style",k),e&&e.apply(this,arguments),a.dequeue(this)}})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{add:b},c,d,e]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,e]):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,d,e,f,g){return typeof d=="boolean"||d===b?e?a.effects.animateClass.apply(this,[d?{add:c}:{remove:c},e,f,g]):this._toggleClass(c,d):a.effects.animateClass.apply(this,[{toggle:c},d,e,f])},switchClass:function(b,c,d,e,f){return a.effects.animateClass.apply(this,[{add:c,remove:b},d,e,f])}}),a.extend(a.effects,{version:"1.8.17",save:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.data("ec.storage."+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.css(b[c],a.data("ec.storage."+b[c]))},setMode:function(a,b){b=="toggle"&&(b=a.is(":hidden")?"show":"hide");return b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e=document.activeElement;b.wrap(d),(b[0]===e||a.contains(b[0],e))&&a(e).focus(),d=b.parent(),b.css("position")=="static"?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"}));return d.css(c).show()},removeWrapper:function(b){var c,d=document.activeElement;if(b.parent().is(".ui-effects-wrapper")){c=b.parent().replaceWith(b),(b[0]===d||a.contains(b[0],d))&&a(d).focus();return c}return b},setTransition:function(b,c,d,e){e=e||{},a.each(c,function(a,c){unit=b.cssUnit(c),unit[0]>0&&(e[c]=unit[0]*d+unit[1])});return e}}),a.fn.extend({effect:function(b,c,d,e){var f=k.apply(this,arguments),g={options:f[1],duration:f[2],callback:f[3]},h=g.options.mode,i=a.effects[b];if(a.fx.off||!i)return h?this[h](g.duration,g.callback):this.each(function(){g.callback&&g.callback.call(this)});return i.call(this,g)},_show:a.fn.show,show:function(a){if(l(a))return this._show.apply(this,arguments);var b=k.apply(this,arguments);b[1].mode="show";return this.effect.apply(this,b)},_hide:a.fn.hide,hide:function(a){if(l(a))return this._hide.apply(this,arguments);var b=k.apply(this,arguments);b[1].mode="hide";return this.effect.apply(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(l(b)||typeof b=="boolean"||a.isFunction(b))return this.__toggle.apply(this,arguments);var c=k.apply(this,arguments);c[1].mode="toggle";return this.effect.apply(this,c)},cssUnit:function(b){var c=this.css(b),d=[];a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])});return d}}),a.easing.jswing=a.easing.swing,a.extend(a.easing,{def:"easeOutQuad",swing:function(b,c,d,e,f){return a.easing[a.easing.def](b,c,d,e,f)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b+c;return-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b+c;return d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b*b+c;return-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b*b*b+c;return d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){if(b==0)return c;if(b==e)return c+d;if((b/=e/2)<1)return d/2*Math.pow(2,10*(b-1))+c;return d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){if((b/=e/2)<1)return-d/2*(Math.sqrt(1-b*b)-1)+c;return d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e/2)==2)return c+d;g||(g=e*.3*1.5);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);if(b<1)return-0.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c;return h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)*.5+d+c},easeInBack:function(a,c,d,e,f,g){g==b&&(g=1.70158);return e*(c/=f)*c*((g+1)*c-g)+d},easeOutBack:function(a,c,d,e,f,g){g==b&&(g=1.70158);return e*((c=c/f-1)*c*((g+1)*c+g)+1)+d},easeInOutBack:function(a,c,d,e,f,g){g==b&&(g=1.70158);if((c/=f/2)<1)return e/2*c*c*(((g*=1.525)+1)*c-g)+d;return e/2*((c-=2)*c*(((g*=1.525)+1)*c+g)+2)+d},easeInBounce:function(b,c,d,e,f){return e-a.easing.easeOutBounce(b,f-c,0,e,f)+d},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(b,c,d,e,f){if(c<f/2)return a.easing.easeInBounce(b,c*2,0,e,f)*.5+d;return a.easing.easeOutBounce(b,c*2-f,0,e,f)*.5+e*.5+d}})}(jQuery);/*
 * jQuery UI Effects Blind 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Blind
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.blind=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"vertical";a.effects.save(c,d),c.show();var g=a.effects.createWrapper(c).css({overflow:"hidden"}),h=f=="vertical"?"height":"width",i=f=="vertical"?g.height():g.width();e=="show"&&g.css(h,0);var j={};j[h]=e=="show"?i:0,g.animate(j,b.duration,b.options.easing,function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}})(jQuery);/*
 * jQuery UI Effects Bounce 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Bounce
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.bounce=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"effect"),f=b.options.direction||"up",g=b.options.distance||20,h=b.options.times||5,i=b.duration||250;/show|hide/.test(e)&&d.push("opacity"),a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var j=f=="up"||f=="down"?"top":"left",k=f=="up"||f=="left"?"pos":"neg",g=b.options.distance||(j=="top"?c.outerHeight({margin:!0})/3:c.outerWidth({margin:!0})/3);e=="show"&&c.css("opacity",0).css(j,k=="pos"?-g:g),e=="hide"&&(g=g/(h*2)),e!="hide"&&h--;if(e=="show"){var l={opacity:1};l[j]=(k=="pos"?"+=":"-=")+g,c.animate(l,i/2,b.options.easing),g=g/2,h--}for(var m=0;m<h;m++){var n={},p={};n[j]=(k=="pos"?"-=":"+=")+g,p[j]=(k=="pos"?"+=":"-=")+g,c.animate(n,i/2,b.options.easing).animate(p,i/2,b.options.easing),g=e=="hide"?g*2:g/2}if(e=="hide"){var l={opacity:0};l[j]=(k=="pos"?"-=":"+=")+g,c.animate(l,i/2,b.options.easing,function(){c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}else{var n={},p={};n[j]=(k=="pos"?"-=":"+=")+g,p[j]=(k=="pos"?"+=":"-=")+g,c.animate(n,i/2,b.options.easing).animate(p,i/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}c.queue("fx",function(){c.dequeue()}),c.dequeue()})}})(jQuery);/*
 * jQuery UI Effects Clip 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Clip
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.clip=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","height","width"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"vertical";a.effects.save(c,d),c.show();var g=a.effects.createWrapper(c).css({overflow:"hidden"}),h=c[0].tagName=="IMG"?g:c,i={size:f=="vertical"?"height":"width",position:f=="vertical"?"top":"left"},j=f=="vertical"?h.height():h.width();e=="show"&&(h.css(i.size,0),h.css(i.position,j/2));var k={};k[i.size]=e=="show"?j:0,k[i.position]=e=="show"?0:j/2,h.animate(k,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()}})})}})(jQuery);/*
 * jQuery UI Effects Drop 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Drop
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.drop=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","opacity"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"left";a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var g=f=="up"||f=="down"?"top":"left",h=f=="up"||f=="left"?"pos":"neg",i=b.options.distance||(g=="top"?c.outerHeight({margin:!0})/2:c.outerWidth({margin:!0})/2);e=="show"&&c.css("opacity",0).css(g,h=="pos"?-i:i);var j={opacity:e=="show"?1:0};j[g]=(e=="show"?h=="pos"?"+=":"-=":h=="pos"?"-=":"+=")+i,c.animate(j,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}})(jQuery);/*
 * jQuery UI Effects Explode 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Explode
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.explode=function(b){return this.queue(function(){var c=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3,d=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3;b.options.mode=b.options.mode=="toggle"?a(this).is(":visible")?"hide":"show":b.options.mode;var e=a(this).show().css("visibility","hidden"),f=e.offset();f.top-=parseInt(e.css("marginTop"),10)||0,f.left-=parseInt(e.css("marginLeft"),10)||0;var g=e.outerWidth(!0),h=e.outerHeight(!0);for(var i=0;i<c;i++)for(var j=0;j<d;j++)e.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*(g/d),top:-i*(h/c)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g/d,height:h/c,left:f.left+j*(g/d)+(b.options.mode=="show"?(j-Math.floor(d/2))*(g/d):0),top:f.top+i*(h/c)+(b.options.mode=="show"?(i-Math.floor(c/2))*(h/c):0),opacity:b.options.mode=="show"?0:1}).animate({left:f.left+j*(g/d)+(b.options.mode=="show"?0:(j-Math.floor(d/2))*(g/d)),top:f.top+i*(h/c)+(b.options.mode=="show"?0:(i-Math.floor(c/2))*(h/c)),opacity:b.options.mode=="show"?1:0},b.duration||500);setTimeout(function(){b.options.mode=="show"?e.css({visibility:"visible"}):e.css({visibility:"visible"}).hide(),b.callback&&b.callback.apply(e[0]),e.dequeue(),a("div.ui-effects-explode").remove()},b.duration||500)})}})(jQuery);/*
 * jQuery UI Effects Fade 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Fade
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.fade=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide");c.animate({opacity:d},{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}})(jQuery);/*
 * jQuery UI Effects Fold 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Fold
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.fold=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.size||15,g=!!b.options.horizFirst,h=b.duration?b.duration/2:a.fx.speeds._default/2;a.effects.save(c,d),c.show();var i=a.effects.createWrapper(c).css({overflow:"hidden"}),j=e=="show"!=g,k=j?["width","height"]:["height","width"],l=j?[i.width(),i.height()]:[i.height(),i.width()],m=/([0-9]+)%/.exec(f);m&&(f=parseInt(m[1],10)/100*l[e=="hide"?0:1]),e=="show"&&i.css(g?{height:0,width:f}:{height:f,width:0});var n={},p={};n[k[0]]=e=="show"?l[0]:f,p[k[1]]=e=="show"?l[1]:0,i.animate(n,h,b.options.easing).animate(p,h,b.options.easing,function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}})(jQuery);/*
 * jQuery UI Effects Highlight 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Highlight
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.highlight=function(b){return this.queue(function(){var c=a(this),d=["backgroundImage","backgroundColor","opacity"],e=a.effects.setMode(c,b.options.mode||"show"),f={backgroundColor:c.css("backgroundColor")};e=="hide"&&(f.opacity=0),a.effects.save(c,d),c.show().css({backgroundImage:"none",backgroundColor:b.options.color||"#ffff99"}).animate(f,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),e=="show"&&!a.support.opacity&&this.style.removeAttribute("filter"),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}})(jQuery);/*
 * jQuery UI Effects Pulsate 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Pulsate
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.pulsate=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"show");times=(b.options.times||5)*2-1,duration=b.duration?b.duration/2:a.fx.speeds._default/2,isVisible=c.is(":visible"),animateTo=0,isVisible||(c.css("opacity",0).show(),animateTo=1),(d=="hide"&&isVisible||d=="show"&&!isVisible)&&times--;for(var e=0;e<times;e++)c.animate({opacity:animateTo},duration,b.options.easing),animateTo=(animateTo+1)%2;c.animate({opacity:animateTo},duration,b.options.easing,function(){animateTo==0&&c.hide(),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}).dequeue()})}})(jQuery);/*
 * jQuery UI Effects Scale 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Scale
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.puff=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide"),e=parseInt(b.options.percent,10)||150,f=e/100,g={height:c.height(),width:c.width()};a.extend(b.options,{fade:!0,mode:d,percent:d=="hide"?e:100,from:d=="hide"?g:{height:g.height*f,width:g.width*f}}),c.effect("scale",b.options,b.duration,b.callback),c.dequeue()})},a.effects.scale=function(b){return this.queue(function(){var c=a(this),d=a.extend(!0,{},b.options),e=a.effects.setMode(c,b.options.mode||"effect"),f=parseInt(b.options.percent,10)||(parseInt(b.options.percent,10)==0?0:e=="hide"?0:100),g=b.options.direction||"both",h=b.options.origin;e!="effect"&&(d.origin=h||["middle","center"],d.restore=!0);var i={height:c.height(),width:c.width()};c.from=b.options.from||(e=="show"?{height:0,width:0}:i);var j={y:g!="horizontal"?f/100:1,x:g!="vertical"?f/100:1};c.to={height:i.height*j.y,width:i.width*j.x},b.options.fade&&(e=="show"&&(c.from.opacity=0,c.to.opacity=1),e=="hide"&&(c.from.opacity=1,c.to.opacity=0)),d.from=c.from,d.to=c.to,d.mode=e,c.effect("size",d,b.duration,b.callback),c.dequeue()})},a.effects.size=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","width","height","overflow","opacity"],e=["position","top","bottom","left","right","overflow","opacity"],f=["width","height","overflow"],g=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],i=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],j=a.effects.setMode(c,b.options.mode||"effect"),k=b.options.restore||!1,l=b.options.scale||"both",m=b.options.origin,n={height:c.height(),width:c.width()};c.from=b.options.from||n,c.to=b.options.to||n;if(m){var p=a.effects.getBaseline(m,n);c.from.top=(n.height-c.from.height)*p.y,c.from.left=(n.width-c.from.width)*p.x,c.to.top=(n.height-c.to.height)*p.y,c.to.left=(n.width-c.to.width)*p.x}var q={from:{y:c.from.height/n.height,x:c.from.width/n.width},to:{y:c.to.height/n.height,x:c.to.width/n.width}};if(l=="box"||l=="both")q.from.y!=q.to.y&&(d=d.concat(h),c.from=a.effects.setTransition(c,h,q.from.y,c.from),c.to=a.effects.setTransition(c,h,q.to.y,c.to)),q.from.x!=q.to.x&&(d=d.concat(i),c.from=a.effects.setTransition(c,i,q.from.x,c.from),c.to=a.effects.setTransition(c,i,q.to.x,c.to));(l=="content"||l=="both")&&q.from.y!=q.to.y&&(d=d.concat(g),c.from=a.effects.setTransition(c,g,q.from.y,c.from),c.to=a.effects.setTransition(c,g,q.to.y,c.to)),a.effects.save(c,k?d:e),c.show(),a.effects.createWrapper(c),c.css("overflow","hidden").css(c.from);if(l=="content"||l=="both")h=h.concat(["marginTop","marginBottom"]).concat(g),i=i.concat(["marginLeft","marginRight"]),f=d.concat(h).concat(i),c.find("*[width]").each(function(){child=a(this),k&&a.effects.save(child,f);var c={height:child.height(),width:child.width()};child.from={height:c.height*q.from.y,width:c.width*q.from.x},child.to={height:c.height*q.to.y,width:c.width*q.to.x},q.from.y!=q.to.y&&(child.from=a.effects.setTransition(child,h,q.from.y,child.from),child.to=a.effects.setTransition(child,h,q.to.y,child.to)),q.from.x!=q.to.x&&(child.from=a.effects.setTransition(child,i,q.from.x,child.from),child.to=a.effects.setTransition(child,i,q.to.x,child.to)),child.css(child.from),child.animate(child.to,b.duration,b.options.easing,function(){k&&a.effects.restore(child,f)})});c.animate(c.to,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){c.to.opacity===0&&c.css("opacity",c.from.opacity),j=="hide"&&c.hide(),a.effects.restore(c,k?d:e),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}})(jQuery);/*
 * jQuery UI Effects Shake 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Shake
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.shake=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"effect"),f=b.options.direction||"left",g=b.options.distance||20,h=b.options.times||3,i=b.duration||b.options.duration||140;a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var j=f=="up"||f=="down"?"top":"left",k=f=="up"||f=="left"?"pos":"neg",l={},m={},n={};l[j]=(k=="pos"?"-=":"+=")+g,m[j]=(k=="pos"?"+=":"-=")+g*2,n[j]=(k=="pos"?"-=":"+=")+g*2,c.animate(l,i,b.options.easing);for(var p=1;p<h;p++)c.animate(m,i,b.options.easing).animate(n,i,b.options.easing);c.animate(m,i,b.options.easing).animate(l,i/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}),c.dequeue()})}})(jQuery);/*
 * jQuery UI Effects Slide 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Slide
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.slide=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"show"),f=b.options.direction||"left";a.effects.save(c,d),c.show(),a.effects.createWrapper(c).css({overflow:"hidden"});var g=f=="up"||f=="down"?"top":"left",h=f=="up"||f=="left"?"pos":"neg",i=b.options.distance||(g=="top"?c.outerHeight({margin:!0}):c.outerWidth({margin:!0}));e=="show"&&c.css(g,h=="pos"?isNaN(i)?"-"+i:-i:i);var j={};j[g]=(e=="show"?h=="pos"?"+=":"-=":h=="pos"?"-=":"+=")+i,c.animate(j,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}})(jQuery);/*
 * jQuery UI Effects Transfer 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Transfer
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.transfer=function(b){return this.queue(function(){var c=a(this),d=a(b.options.to),e=d.offset(),f={top:e.top,left:e.left,height:d.innerHeight(),width:d.innerWidth()},g=c.offset(),h=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.options.className).css({top:g.top,left:g.left,height:c.innerHeight(),width:c.innerWidth(),position:"absolute"}).animate(f,b.duration,b.options.easing,function(){h.remove(),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}})(jQuery);;

/** minified js  - from ../walib/WAF/lib/jquery-ui/jquery-ui-i18n.js */

jQuery(function(e){e.datepicker.regional.af={closeText:"Selekteer",prevText:"Vorige",nextText:"Volgende",currentText:"Vandag",monthNames:["Januarie","Februarie","Maart","April","Mei","Junie","Julie","Augustus","September","Oktober","November","Desember"],monthNamesShort:["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des"],dayNames:["Sondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrydag","Saterdag"],dayNamesShort:["Son","Maa","Din","Woe","Don","Vry","Sat"],dayNamesMin:["So","Ma","Di","Wo","Do","Vr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.af)}),jQuery(function(e){e.datepicker.regional["ar-DZ"]={closeText:"إغلاق",prevText:"&#x3c;السابق",nextText:"التالي&#x3e;",currentText:"اليوم",monthNames:["جانفي","فيفري","مارس","أفريل","ماي","جوان","جويلية","أوت","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesShort:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesMin:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],weekHeader:"أسبوع",dateFormat:"dd/mm/yy",firstDay:6,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional["ar-DZ"])}),jQuery(function(e){e.datepicker.regional.ar={closeText:"إغلاق",prevText:"&#x3c;السابق",nextText:"التالي&#x3e;",currentText:"اليوم",monthNames:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesShort:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesMin:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],weekHeader:"أسبوع",dateFormat:"dd/mm/yy",firstDay:6,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.ar)}),jQuery(function(e){e.datepicker.regional.az={closeText:"Bağla",prevText:"&#x3c;Geri",nextText:"İrəli&#x3e;",currentText:"Bugün",monthNames:["Yanvar","Fevral","Mart","Aprel","May","İyun","İyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],monthNamesShort:["Yan","Fev","Mar","Apr","May","İyun","İyul","Avq","Sen","Okt","Noy","Dek"],dayNames:["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə"],dayNamesShort:["B","Be","Ça","Ç","Ca","C","Ş"],dayNamesMin:["B","B","Ç","С","Ç","C","Ş"],weekHeader:"Hf",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.az)}),jQuery(function(e){e.datepicker.regional.bg={closeText:"затвори",prevText:"&#x3c;назад",nextText:"напред&#x3e;",nextBigText:"&#x3e;&#x3e;",currentText:"днес",monthNames:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],monthNamesShort:["Яну","Фев","Мар","Апр","Май","Юни","Юли","Авг","Сеп","Окт","Нов","Дек"],dayNames:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"],dayNamesShort:["Нед","Пон","Вто","Сря","Чет","Пет","Съб"],dayNamesMin:["Не","По","Вт","Ср","Че","Пе","Съ"],weekHeader:"Wk",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.bg)}),jQuery(function(e){e.datepicker.regional.bs={closeText:"Zatvori",prevText:"&#x3c;",nextText:"&#x3e;",currentText:"Danas",monthNames:["Januar","Februar","Mart","April","Maj","Juni","Juli","August","Septembar","Oktobar","Novembar","Decembar"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","Če","Pe","Su"],weekHeader:"Wk",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.bs)}),jQuery(function(e){e.datepicker.regional.ca={closeText:"Tancar",prevText:"&#x3c;Ant",nextText:"Seg&#x3e;",currentText:"Avui",monthNames:["Gener","Febrer","Mar&ccedil;","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],monthNamesShort:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],dayNames:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],dayNamesShort:["Dug","Dln","Dmt","Dmc","Djs","Dvn","Dsb"],dayNamesMin:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.ca)}),jQuery(function(e){e.datepicker.regional.cs={closeText:"Zavřít",prevText:"&#x3c;Dříve",nextText:"Později&#x3e;",currentText:"Nyní",monthNames:["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec"],monthNamesShort:["led","úno","bře","dub","kvě","čer","čvc","srp","zář","říj","lis","pro"],dayNames:["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],dayNamesShort:["ne","po","út","st","čt","pá","so"],dayNamesMin:["ne","po","út","st","čt","pá","so"],weekHeader:"Týd",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.cs)}),jQuery(function(e){e.datepicker.regional["cy-GB"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["Ionawr","Chwefror","Mawrth","Ebrill","Mai","Mehefin","Gorffennaf","Awst","Medi","Hydref","Tachwedd","Rhagfyr"],monthNamesShort:["Ion","Chw","Maw","Ebr","Mai","Meh","Gor","Aws","Med","Hyd","Tac","Rha"],dayNames:["Dydd Sul","Dydd Llun","Dydd Mawrth","Dydd Mercher","Dydd Iau","Dydd Gwener","Dydd Sadwrn"],dayNamesShort:["Sul","Llu","Maw","Mer","Iau","Gwe","Sad"],dayNamesMin:["Su","Ll","Ma","Me","Ia","Gw","Sa"],weekHeader:"Wy",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional["cy-GB"])}),jQuery(function(e){e.datepicker.regional.da={closeText:"Luk",prevText:"&#x3c;Forrige",nextText:"Næste&#x3e;",currentText:"Idag",monthNames:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],dayNamesShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayNamesMin:["Sø","Ma","Ti","On","To","Fr","Lø"],weekHeader:"Uge",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.da)}),jQuery(function(e){e.datepicker.regional.de={closeText:"schließen",prevText:"&#x3c;zurück",nextText:"Vor&#x3e;",currentText:"heute",monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekHeader:"Wo",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.de)}),jQuery(function(e){e.datepicker.regional.el={closeText:"Κλείσιμο",prevText:"Προηγούμενος",nextText:"Επόμενος",currentText:"Τρέχων Μήνας",monthNames:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],monthNamesShort:["Ιαν","Φεβ","Μαρ","Απρ","Μαι","Ιουν","Ιουλ","Αυγ","Σεπ","Οκτ","Νοε","Δεκ"],dayNames:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"],dayNamesShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],dayNamesMin:["Κυ","Δε","Τρ","Τε","Πε","Πα","Σα"],weekHeader:"Εβδ",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.el)}),jQuery(function(e){e.datepicker.regional["en-AU"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional["en-AU"])}),jQuery(function(e){e.datepicker.regional["en-GB"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional["en-GB"])}),jQuery(function(e){e.datepicker.regional["en-NZ"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional["en-NZ"])}),jQuery(function(e){e.datepicker.regional.eo={closeText:"Fermi",prevText:"&lt;Anta",nextText:"Sekv&gt;",currentText:"Nuna",monthNames:["Januaro","Februaro","Marto","Aprilo","Majo","Junio","Julio","Aŭgusto","Septembro","Oktobro","Novembro","Decembro"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aŭg","Sep","Okt","Nov","Dec"],dayNames:["Dimanĉo","Lundo","Mardo","Merkredo","Ĵaŭdo","Vendredo","Sabato"],dayNamesShort:["Dim","Lun","Mar","Mer","Ĵaŭ","Ven","Sab"],dayNamesMin:["Di","Lu","Ma","Me","Ĵa","Ve","Sa"],weekHeader:"Sb",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.eo)}),jQuery(function(e){e.datepicker.regional.es={closeText:"Cerrar",prevText:"&#x3c;Ant",nextText:"Sig&#x3e;",currentText:"Hoy",monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Mi&eacute;rcoles","Jueves","Viernes","S&aacute;bado"],dayNamesShort:["Dom","Lun","Mar","Mi&eacute;","Juv","Vie","S&aacute;b"],dayNamesMin:["Do","Lu","Ma","Mi","Ju","Vi","S&aacute;"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.es)}),jQuery(function(e){e.datepicker.regional.et={closeText:"Sulge",prevText:"Eelnev",nextText:"Järgnev",currentText:"Täna",monthNames:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],monthNamesShort:["Jaan","Veebr","Märts","Apr","Mai","Juuni","Juuli","Aug","Sept","Okt","Nov","Dets"],dayNames:["Pühapäev","Esmaspäev","Teisipäev","Kolmapäev","Neljapäev","Reede","Laupäev"],dayNamesShort:["Pühap","Esmasp","Teisip","Kolmap","Neljap","Reede","Laup"],dayNamesMin:["P","E","T","K","N","R","L"],weekHeader:"Sm",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.et)}),jQuery(function(e){e.datepicker.regional.eu={closeText:"Egina",prevText:"&#x3c;Aur",nextText:"Hur&#x3e;",currentText:"Gaur",monthNames:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],monthNamesShort:["Urt","Ots","Mar","Api","Mai","Eka","Uzt","Abu","Ira","Urr","Aza","Abe"],dayNames:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"],dayNamesShort:["Iga","Ast","Ast","Ast","Ost","Ost","Lar"],dayNamesMin:["Ig","As","As","As","Os","Os","La"],weekHeader:"Wk",dateFormat:"yy/mm/dd",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.eu)}),jQuery(function(e){e.datepicker.regional.fa={closeText:"بستن",prevText:"&#x3c;قبلي",nextText:"بعدي&#x3e;",currentText:"امروز",monthNames:["فروردين","ارديبهشت","خرداد","تير","مرداد","شهريور","مهر","آبان","آذر","دي","بهمن","اسفند"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["يکشنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],dayNamesShort:["ي","د","س","چ","پ","ج","ش"],dayNamesMin:["ي","د","س","چ","پ","ج","ش"],weekHeader:"هف",dateFormat:"yy/mm/dd",firstDay:6,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.fa)}),jQuery(function(e){e.datepicker.regional.fi={closeText:"Sulje",prevText:"&laquo;Edellinen",nextText:"Seuraava&raquo;",currentText:"T&auml;n&auml;&auml;n",monthNames:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],monthNamesShort:["Tammi","Helmi","Maalis","Huhti","Touko","Kes&auml;","Hein&auml;","Elo","Syys","Loka","Marras","Joulu"],dayNamesShort:["Su","Ma","Ti","Ke","To","Pe","Su"],dayNames:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],dayNamesMin:["Su","Ma","Ti","Ke","To","Pe","La"],weekHeader:"Vk",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.fi)}),jQuery(function(e){e.datepicker.regional.fo={closeText:"Lat aftur",prevText:"&#x3c;Fyrra",nextText:"Næsta&#x3e;",currentText:"Í dag",monthNames:["Januar","Februar","Mars","Apríl","Mei","Juni","Juli","August","September","Oktober","November","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des"],dayNames:["Sunnudagur","Mánadagur","Týsdagur","Mikudagur","Hósdagur","Fríggjadagur","Leyardagur"],dayNamesShort:["Sun","Mán","Týs","Mik","Hós","Frí","Ley"],dayNamesMin:["Su","Má","Tý","Mi","Hó","Fr","Le"],weekHeader:"Vk",dateFormat:"dd-mm-yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.fo)}),jQuery(function(e){e.datepicker.regional["fr-CH"]={closeText:"Fermer",prevText:"&#x3c;Préc",nextText:"Suiv&#x3e;",currentText:"Courant",monthNames:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthNamesShort:["Jan","Fév","Mar","Avr","Mai","Jun","Jul","Aoû","Sep","Oct","Nov","Déc"],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayNamesMin:["Di","Lu","Ma","Me","Je","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional["fr-CH"])}),jQuery(function(e){e.datepicker.regional.fr={closeText:"Fermer",prevText:"Précédent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthNamesShort:["Janv.","Févr.","Mars","Avril","Mai","Juin","Juil.","Août","Sept.","Oct.","Nov.","Déc."],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim.","Lun.","Mar.","Mer.","Jeu.","Ven.","Sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.fr)}),jQuery(function(e){e.datepicker.regional.gl={closeText:"Pechar",prevText:"&#x3c;Ant",nextText:"Seg&#x3e;",currentText:"Hoxe",monthNames:["Xaneiro","Febreiro","Marzo","Abril","Maio","Xuño","Xullo","Agosto","Setembro","Outubro","Novembro","Decembro"],monthNamesShort:["Xan","Feb","Mar","Abr","Mai","Xuñ","Xul","Ago","Set","Out","Nov","Dec"],dayNames:["Domingo","Luns","Martes","M&eacute;rcores","Xoves","Venres","S&aacute;bado"],dayNamesShort:["Dom","Lun","Mar","M&eacute;r","Xov","Ven","S&aacute;b"],dayNamesMin:["Do","Lu","Ma","M&eacute;","Xo","Ve","S&aacute;"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.gl)}),jQuery(function(e){e.datepicker.regional.he={closeText:"סגור",prevText:"&#x3c;הקודם",nextText:"הבא&#x3e;",currentText:"היום",monthNames:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],dayNamesShort:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],dayNamesMin:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.he)}),jQuery(function(e){e.datepicker.regional.hr={closeText:"Zatvori",prevText:"&#x3c;",nextText:"&#x3e;",currentText:"Danas",monthNames:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],monthNamesShort:["Sij","Velj","Ožu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],dayNames:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","Če","Pe","Su"],weekHeader:"Tje",dateFormat:"dd.mm.yy.",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.hr)}),jQuery(function(e){e.datepicker.regional.hu={closeText:"bezár",prevText:"vissza",nextText:"előre",currentText:"ma",monthNames:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],monthNamesShort:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Szep","Okt","Nov","Dec"],dayNames:["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"],dayNamesShort:["Vas","Hét","Ked","Sze","Csü","Pén","Szo"],dayNamesMin:["V","H","K","Sze","Cs","P","Szo"],weekHeader:"Hét",dateFormat:"yy.mm.dd.",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.hu)}),jQuery(function(e){e.datepicker.regional.hy={closeText:"Փակել",prevText:"&#x3c;Նախ.",nextText:"Հաջ.&#x3e;",currentText:"Այսօր",monthNames:["Հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"],monthNamesShort:["Հունվ","Փետր","Մարտ","Ապր","Մայիս","Հունիս","Հուլ","Օգս","Սեպ","Հոկ","Նոյ","Դեկ"],dayNames:["կիրակի","եկուշաբթի","երեքշաբթի","չորեքշաբթի","հինգշաբթի","ուրբաթ","շաբաթ"],dayNamesShort:["կիր","երկ","երք","չրք","հնգ","ուրբ","շբթ"],dayNamesMin:["կիր","երկ","երք","չրք","հնգ","ուրբ","շբթ"],weekHeader:"ՇԲՏ",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.hy)}),jQuery(function(e){e.datepicker.regional.id={closeText:"Tutup",prevText:"&#x3c;mundur",nextText:"maju&#x3e;",currentText:"hari ini",monthNames:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","Nopember","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agus","Sep","Okt","Nop","Des"],dayNames:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],dayNamesShort:["Min","Sen","Sel","Rab","kam","Jum","Sab"],dayNamesMin:["Mg","Sn","Sl","Rb","Km","jm","Sb"],weekHeader:"Mg",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.id)}),jQuery(function(e){e.datepicker.regional.is={closeText:"Loka",prevText:"&#x3c; Fyrri",nextText:"N&aelig;sti &#x3e;",currentText:"&Iacute; dag",monthNames:["Jan&uacute;ar","Febr&uacute;ar","Mars","Apr&iacute;l","Ma&iacute","J&uacute;n&iacute;","J&uacute;l&iacute;","&Aacute;g&uacute;st","September","Okt&oacute;ber","N&oacute;vember","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Ma&iacute;","J&uacute;n","J&uacute;l","&Aacute;g&uacute;","Sep","Okt","N&oacute;v","Des"],dayNames:["Sunnudagur","M&aacute;nudagur","&THORN;ri&eth;judagur","Mi&eth;vikudagur","Fimmtudagur","F&ouml;studagur","Laugardagur"],dayNamesShort:["Sun","M&aacute;n","&THORN;ri","Mi&eth;","Fim","F&ouml;s","Lau"],dayNamesMin:["Su","M&aacute;","&THORN;r","Mi","Fi","F&ouml;","La"],weekHeader:"Vika",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.is)}),jQuery(function(e){e.datepicker.regional.it={closeText:"Chiudi",prevText:"&#x3c;Prec",nextText:"Succ&#x3e;",currentText:"Oggi",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Luned&#236","Marted&#236","Mercoled&#236","Gioved&#236","Venerd&#236","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.it)}),jQuery(function(e){e.datepicker.regional.ja={closeText:"閉じる",prevText:"&#x3c;前",nextText:"次&#x3e;",currentText:"今日",monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],dayNamesShort:["日","月","火","水","木","金","土"],dayNamesMin:["日","月","火","水","木","金","土"],weekHeader:"週",dateFormat:"yy/mm/dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},e.datepicker.setDefaults(e.datepicker.regional.ja)}),jQuery(function(e){e.datepicker.regional.kk={closeText:"Жабу",prevText:"&#x3c;Алдыңғы",nextText:"Келесі&#x3e;",currentText:"Бүгін",monthNames:["Қаңтар","Ақпан","Наурыз","Сәуір","Мамыр","Маусым","Шілде","Тамыз","Қыркүйек","Қазан","Қараша","Желтоқсан"],monthNamesShort:["Қаң","Ақп","Нау","Сәу","Мам","Мау","Шіл","Там","Қыр","Қаз","Қар","Жел"],dayNames:["Жексенбі","Дүйсенбі","Сейсенбі","Сәрсенбі","Бейсенбі","Жұма","Сенбі"],dayNamesShort:["жкс","дсн","ссн","срс","бсн","жма","снб"],dayNamesMin:["Жк","Дс","Сс","Ср","Бс","Жм","Сн"],weekHeader:"Не",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.kk)}),jQuery(function(e){e.datepicker.regional.ko={closeText:"닫기",prevText:"이전달",nextText:"다음달",currentText:"오늘",monthNames:["1월(JAN)","2월(FEB)","3월(MAR)","4월(APR)","5월(MAY)","6월(JUN)","7월(JUL)","8월(AUG)","9월(SEP)","10월(OCT)","11월(NOV)","12월(DEC)"],monthNamesShort:["1월(JAN)","2월(FEB)","3월(MAR)","4월(APR)","5월(MAY)","6월(JUN)","7월(JUL)","8월(AUG)","9월(SEP)","10월(OCT)","11월(NOV)","12월(DEC)"],dayNames:["일","월","화","수","목","금","토"],dayNamesShort:["일","월","화","수","목","금","토"],dayNamesMin:["일","월","화","수","목","금","토"],weekHeader:"Wk",dateFormat:"yy-mm-dd",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"년"},e.datepicker.setDefaults(e.datepicker.regional.ko)}),jQuery(function(e){e.datepicker.regional.lb={closeText:"Fäerdeg",prevText:"Zréck",nextText:"Weider",currentText:"Haut",monthNames:["Januar","Februar","Mäerz","Abrëll","Mee","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mäe","Abr","Mee","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonndeg","Méindeg","Dënschdeg","Mëttwoch","Donneschdeg","Freideg","Samschdeg"],dayNamesShort:["Son","Méi","Dën","Mët","Don","Fre","Sam"],dayNamesMin:["So","Mé","Dë","Më","Do","Fr","Sa"],weekHeader:"W",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.lb)}),jQuery(function(e){e.datepicker.regional.lt={closeText:"Uždaryti",prevText:"&#x3c;Atgal",nextText:"Pirmyn&#x3e;",currentText:"Šiandien",monthNames:["Sausis","Vasaris","Kovas","Balandis","Gegužė","Birželis","Liepa","Rugpjūtis","Rugsėjis","Spalis","Lapkritis","Gruodis"],monthNamesShort:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rugp","Rugs","Spa","Lap","Gru"],dayNames:["sekmadienis","pirmadienis","antradienis","trečiadienis","ketvirtadienis","penktadienis","šeštadienis"],dayNamesShort:["sek","pir","ant","tre","ket","pen","šeš"],dayNamesMin:["Se","Pr","An","Tr","Ke","Pe","Še"],weekHeader:"Wk",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.lt)}),jQuery(function(e){e.datepicker.regional.lv={closeText:"Aizvērt",prevText:"Iepr",nextText:"Nāka",currentText:"Šodien",monthNames:["Janvāris","Februāris","Marts","Aprīlis","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],monthNamesShort:["Jan","Feb","Mar","Apr","Mai","Jūn","Jūl","Aug","Sep","Okt","Nov","Dec"],dayNames:["svētdiena","pirmdiena","otrdiena","trešdiena","ceturtdiena","piektdiena","sestdiena"],dayNamesShort:["svt","prm","otr","tre","ctr","pkt","sst"],dayNamesMin:["Sv","Pr","Ot","Tr","Ct","Pk","Ss"],weekHeader:"Nav",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.lv)}),jQuery(function(e){e.datepicker.regional.mk={closeText:"Затвори",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Денес",monthNames:["Јануари","Фебруари","Март","Април","Мај","Јуни","Јули","Август","Септември","Октомври","Ноември","Декември"],monthNamesShort:["Јан","Феб","Мар","Апр","Мај","Јун","Јул","Авг","Сеп","Окт","Ное","Дек"],dayNames:["Недела","Понеделник","Вторник","Среда","Четврток","Петок","Сабота"],dayNamesShort:["Нед","Пон","Вто","Сре","Чет","Пет","Саб"],dayNamesMin:["Не","По","Вт","Ср","Че","Пе","Са"],weekHeader:"Сед",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.mk)}),jQuery(function(e){e.datepicker.regional.ml={closeText:"ശരി",prevText:"മുന്നത്തെ",nextText:"അടുത്തത് ",currentText:"ഇന്ന്",monthNames:["ജനുവരി","ഫെബ്രുവരി","മാര്‍ച്ച്","ഏപ്രില്‍","മേയ്","ജൂണ്‍","ജൂലൈ","ആഗസ്റ്റ്","സെപ്റ്റംബര്‍","ഒക്ടോബര്‍","നവംബര്‍","ഡിസംബര്‍"],monthNamesShort:["ജനു","ഫെബ്","മാര്‍","ഏപ്രി","മേയ്","ജൂണ്‍","ജൂലാ","ആഗ","സെപ്","ഒക്ടോ","നവം","ഡിസ"],dayNames:["ഞായര്‍","തിങ്കള്‍","ചൊവ്വ","ബുധന്‍","വ്യാഴം","വെള്ളി","ശനി"],dayNamesShort:["ഞായ","തിങ്ക","ചൊവ്വ","ബുധ","വ്യാഴം","വെള്ളി","ശനി"],dayNamesMin:["ഞാ","തി","ചൊ","ബു","വ്യാ","വെ","ശ"],weekHeader:"ആ",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.ml)}),jQuery(function(e){e.datepicker.regional.ms={closeText:"Tutup",prevText:"&#x3c;Sebelum",nextText:"Selepas&#x3e;",currentText:"hari ini",monthNames:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"],monthNamesShort:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ogo","Sep","Okt","Nov","Dis"],dayNames:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"],dayNamesShort:["Aha","Isn","Sel","Rab","kha","Jum","Sab"],dayNamesMin:["Ah","Is","Se","Ra","Kh","Ju","Sa"],weekHeader:"Mg",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.ms)}),jQuery(function(e){e.datepicker.regional["nl-BE"]={closeText:"Sluiten",prevText:"←",nextText:"→",currentText:"Vandaag",monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"],dayNamesMin:["zo","ma","di","wo","do","vr","za"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional["nl-BE"])}),jQuery(function(e){e.datepicker.regional.nl={closeText:"Sluiten",prevText:"←",nextText:"→",currentText:"Vandaag",monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"],dayNamesMin:["zo","ma","di","wo","do","vr","za"],weekHeader:"Wk",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.nl)}),jQuery(function(e){e.datepicker.regional.no={closeText:"Lukk",prevText:"&laquo;Forrige",nextText:"Neste&raquo;",currentText:"I dag",monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],dayNamesShort:["søn","man","tir","ons","tor","fre","lør"],dayNames:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],dayNamesMin:["sø","ma","ti","on","to","fr","lø"],weekHeader:"Uke",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.no)}),jQuery(function(e){e.datepicker.regional.pl={closeText:"Zamknij",prevText:"&#x3c;Poprzedni",nextText:"Następny&#x3e;",currentText:"Dziś",monthNames:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],monthNamesShort:["Sty","Lu","Mar","Kw","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],dayNames:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],dayNamesShort:["Nie","Pn","Wt","Śr","Czw","Pt","So"],dayNamesMin:["N","Pn","Wt","Śr","Cz","Pt","So"],weekHeader:"Tydz",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.pl)}),jQuery(function(e){e.datepicker.regional["pt-BR"]={closeText:"Fechar",prevText:"&#x3c;Anterior",nextText:"Pr&oacute;ximo&#x3e;",currentText:"Hoje",monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional["pt-BR"])}),jQuery(function(e){e.datepicker.regional.pt={closeText:"Fechar",prevText:"&#x3c;Anterior",nextText:"Seguinte",currentText:"Hoje",monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],weekHeader:"Sem",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.pt)}),jQuery(function(e){e.datepicker.regional.rm={closeText:"Serrar",prevText:"&#x3c;Suandant",nextText:"Precedent&#x3e;",currentText:"Actual",monthNames:["Schaner","Favrer","Mars","Avrigl","Matg","Zercladur","Fanadur","Avust","Settember","October","November","December"],monthNamesShort:["Scha","Fev","Mar","Avr","Matg","Zer","Fan","Avu","Sett","Oct","Nov","Dec"],dayNames:["Dumengia","Glindesdi","Mardi","Mesemna","Gievgia","Venderdi","Sonda"],dayNamesShort:["Dum","Gli","Mar","Mes","Gie","Ven","Som"],dayNamesMin:["Du","Gl","Ma","Me","Gi","Ve","So"],weekHeader:"emna",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.rm)}),jQuery(function(e){e.datepicker.regional.ro={closeText:"Închide",prevText:"&laquo; Luna precedentă",nextText:"Luna următoare &raquo;",currentText:"Azi",monthNames:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],monthNamesShort:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbătă"],dayNamesShort:["Dum","Lun","Mar","Mie","Joi","Vin","Sâm"],dayNamesMin:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],weekHeader:"Săpt",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.ro)}),jQuery(function(e){e.datepicker.regional.ru={closeText:"Закрыть",prevText:"&#x3c;Пред",nextText:"След&#x3e;",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Нед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.ru)}),jQuery(function(e){e.datepicker.regional.sk={closeText:"Zavrieť",prevText:"&#x3c;Predchádzajúci",nextText:"Nasledujúci&#x3e;",currentText:"Dnes",monthNames:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Máj","Jún","Júl","Aug","Sep","Okt","Nov","Dec"],dayNames:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"],dayNamesShort:["Ned","Pon","Uto","Str","Štv","Pia","Sob"],dayNamesMin:["Ne","Po","Ut","St","Št","Pia","So"],weekHeader:"Ty",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.sk)}),jQuery(function(e){e.datepicker.regional.sl={closeText:"Zapri",prevText:"&lt;Prej&#x161;nji",nextText:"Naslednji&gt;",currentText:"Trenutni",monthNames:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljek","Torek","Sreda","&#x10C;etrtek","Petek","Sobota"],dayNamesShort:["Ned","Pon","Tor","Sre","&#x10C;et","Pet","Sob"],dayNamesMin:["Ne","Po","To","Sr","&#x10C;e","Pe","So"],weekHeader:"Teden",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.sl)}),jQuery(function(e){e.datepicker.regional.sq={closeText:"mbylle",prevText:"&#x3c;mbrapa",nextText:"Përpara&#x3e;",currentText:"sot",monthNames:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nëntor","Dhjetor"],monthNamesShort:["Jan","Shk","Mar","Pri","Maj","Qer","Kor","Gus","Sht","Tet","Nën","Dhj"],dayNames:["E Diel","E Hënë","E Martë","E Mërkurë","E Enjte","E Premte","E Shtune"],dayNamesShort:["Di","Hë","Ma","Më","En","Pr","Sh"],dayNamesMin:["Di","Hë","Ma","Më","En","Pr","Sh"],weekHeader:"Ja",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.sq)}),jQuery(function(e){e.datepicker.regional["sr-SR"]={closeText:"Zatvori",prevText:"&#x3c;",nextText:"&#x3e;",currentText:"Danas",monthNames:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sre","Čet","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","Če","Pe","Su"],weekHeader:"Sed",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional["sr-SR"])}),jQuery(function(e){e.datepicker.regional.sr={closeText:"Затвори",prevText:"&#x3c;",nextText:"&#x3e;",currentText:"Данас",monthNames:["Јануар","Фебруар","Март","Април","Мај","Јун","Јул","Август","Септембар","Октобар","Новембар","Децембар"],monthNamesShort:["Јан","Феб","Мар","Апр","Мај","Јун","Јул","Авг","Сеп","Окт","Нов","Дец"],dayNames:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота"],dayNamesShort:["Нед","Пон","Уто","Сре","Чет","Пет","Суб"],dayNamesMin:["Не","По","Ут","Ср","Че","Пе","Су"],weekHeader:"Сед",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.sr)}),jQuery(function(e){e.datepicker.regional.sv={closeText:"Stäng",prevText:"&laquo;Förra",nextText:"Nästa&raquo;",currentText:"Idag",monthNames:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNamesShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],dayNames:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],dayNamesMin:["Sö","Må","Ti","On","To","Fr","Lö"],weekHeader:"Ve",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.sv)}),jQuery(function(e){e.datepicker.regional.ta={closeText:"மூடு",prevText:"முன்னையது",nextText:"அடுத்தது",currentText:"இன்று",monthNames:["தை","மாசி","பங்குனி","சித்திரை","வைகாசி","ஆனி","ஆடி","ஆவணி","புரட்டாசி","ஐப்பசி","கார்த்திகை","மார்கழி"],monthNamesShort:["தை","மாசி","பங்","சித்","வைகா","ஆனி","ஆடி","ஆவ","புர","ஐப்","கார்","மார்"],dayNames:["ஞாயிற்றுக்கிழமை","திங்கட்கிழமை","செவ்வாய்க்கிழமை","புதன்கிழமை","வியாழக்கிழமை","வெள்ளிக்கிழமை","சனிக்கிழமை"],dayNamesShort:["ஞாயிறு","திங்கள்","செவ்வாய்","புதன்","வியாழன்","வெள்ளி","சனி"],dayNamesMin:["ஞா","தி","செ","பு","வி","வெ","ச"],weekHeader:"Не",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.ta)}),jQuery(function(e){e.datepicker.regional.th={closeText:"ปิด",prevText:"&laquo;&nbsp;ย้อน",nextText:"ถัดไป&nbsp;&raquo;",currentText:"วันนี้",monthNames:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],monthNamesShort:["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],dayNames:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัสบดี","ศุกร์","เสาร์"],dayNamesShort:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],dayNamesMin:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.th)}),jQuery(function(e){e.datepicker.regional.tj={closeText:"Идома",prevText:"&#x3c;Қафо",nextText:"Пеш&#x3e;",currentText:"Имрӯз",monthNames:["Январ","Феврал","Март","Апрел","Май","Июн","Июл","Август","Сентябр","Октябр","Ноябр","Декабр"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["якшанбе","душанбе","сешанбе","чоршанбе","панҷшанбе","ҷумъа","шанбе"],dayNamesShort:["якш","душ","сеш","чор","пан","ҷум","шан"],dayNamesMin:["Як","Дш","Сш","Чш","Пш","Ҷм","Шн"],weekHeader:"Хф",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.tj)}),jQuery(function(e){e.datepicker.regional.tr={closeText:"kapat",prevText:"&#x3c;geri",nextText:"ileri&#x3e",currentText:"bugün",monthNames:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],monthNamesShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],dayNames:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],dayNamesMin:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],weekHeader:"Hf",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.tr)}),jQuery(function(e){e.datepicker.regional.uk={closeText:"Закрити",prevText:"&#x3c;",nextText:"&#x3e;",currentText:"Сьогодні",monthNames:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],monthNamesShort:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],dayNames:["неділя","понеділок","вівторок","середа","четвер","п’ятниця","субота"],dayNamesShort:["нед","пнд","вів","срд","чтв","птн","сбт"],dayNamesMin:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Тиж",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.uk)}),jQuery(function(e){e.datepicker.regional.vi={closeText:"Đóng",prevText:"&#x3c;Trước",nextText:"Tiếp&#x3e;",currentText:"Hôm nay",monthNames:["Tháng Một","Tháng Hai","Tháng Ba","Tháng Tư","Tháng Năm","Tháng Sáu","Tháng Bảy","Tháng Tám","Tháng Chín","Tháng Mười","Tháng Mười Một","Tháng Mười Hai"],monthNamesShort:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayNames:["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"],dayNamesShort:["CN","T2","T3","T4","T5","T6","T7"],dayNamesMin:["CN","T2","T3","T4","T5","T6","T7"],weekHeader:"Tu",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.vi)}),jQuery(function(e){e.datepicker.regional["zh-CN"]={closeText:"关闭",prevText:"&#x3c;上月",nextText:"下月&#x3e;",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一","二","三","四","五","六","七","八","九","十","十一","十二"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},e.datepicker.setDefaults(e.datepicker.regional["zh-CN"])}),jQuery(function(e){e.datepicker.regional["zh-HK"]={closeText:"關閉",prevText:"&#x3c;上月",nextText:"下月&#x3e;",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一","二","三","四","五","六","七","八","九","十","十一","十二"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"dd-mm-yy",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},e.datepicker.setDefaults(e.datepicker.regional["zh-HK"])}),jQuery(function(e){e.datepicker.regional["zh-TW"]={closeText:"關閉",prevText:"&#x3c;上月",nextText:"下月&#x3e;",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一","二","三","四","五","六","七","八","九","十","十一","十二"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"yy/mm/dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},e.datepicker.setDefaults(e.datepicker.regional["zh-TW"])}),jQuery(function(e){e.datepicker.regional["en-us"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional["en-us"])});

/** minified js  - from ../walib/WAF/DataSource/Data-Source.js */

var Class=WAF.require("waf-core/class");WAF.DataSourceEmSimpleAttribute=Class.create(),WAF.DataSourceEmSimpleAttribute.prototype.initialize=function(e,t){this.name=e.name,this.kind=typeof e.kind=="string"?e.kind:"storage",this.owner=t,this.simple=e.type!="image",this.dataClassAtt=e,this.type=e.type,this.isVarAtt=!1,this.isFirstLevel=!0,this.getValue=WAF.DataSourceEmSimpleAttribute.getValue,this.setValue=WAF.DataSourceEmSimpleAttribute.setValue,this.validate=WAF.DataSourceEmSimpleAttribute.validate,this.getOldValue=WAF.DataSourceEmSimpleAttribute.getOldValue,this.getValueForInput=WAF.DataSourceEmSimpleAttribute.getValueForInput,this.normalize=WAF.DataSourceEmSimpleAttribute.normalize,this.dispatch=WAF.DataSourceEmSimpleAttribute.dispatch,this.addListener=WAF.DataSourceEmSimpleAttribute.addListener},WAF.DataSourceEmSimpleAttribute.getValue=function(){var e=this.owner.getCurrentElement();return e==null?null:e[this.name].value},WAF.DataSourceEmSimpleAttribute.setValue=function(e,t){t=t;var n=(t||{}).doNotDispatch||!1,r=this.owner.getCurrentElement();r!=null&&(this.simple?this.owner[this.name]!==e&&(this.owner[this.name]=e,r[this.name].setValue(e),n||this.dispatch(t)):this.owner[this.name].set(e))},WAF.DataSourceEmSimpleAttribute.validate=function(e){var t=this.owner.getCurrentElement();return t==null?{valid:!0,messages:[]}:this.owner._private._validateAttribute(this.name,e)},WAF.DataSourceEmSimpleAttribute.getOldValue=function(){var e=this.owner.getCurrentElement();return e==null?null:e[this.name].getOldValue()},WAF.DataSourceEmSimpleAttribute.getValueForInput=function(){var e=this.getValue();return e==null?e="":this.type=="date"?e=WAF.utils.formatDate(e):e=""+e,e},WAF.DataSourceEmSimpleAttribute.normalize=function(e){var t=e;switch(this.type){case"string":typeof e!="string"&&(t=""+e);break;case"number":case"float":typeof e=="string"&&(e==""?t=null:(t=parseFloat(e),isNaN(t)&&(t=null)));break;case"boolean":typeof e!="boolean"&&(t=Boolean(e));break;case"date":typeof e=="string"&&(e==""?t=null:t=$.fn.DatePickerParse(e,WAF.utils.dateInputFormat));break;case"long":case"byte":case"word":case"long64":typeof e=="string"&&(e==""?t=null:(t=parseInt(e,10),isNaN(t)&&(t=null)))}return t},WAF.DataSourceEmSimpleAttribute.addListener=function(e,t,n){return t=t||{},t.attributeName=this.name,t.attribute=this,n=n,this.owner.addListener("onAttributeChange",e,t,n)},WAF.DataSourceEmSimpleAttribute.subscribe=function(e,t,n,r,i){this.owner.subscribe(e,t,n,r,i)},WAF.DataSourceEmSimpleAttribute.unsubscribe=function(e){this.owner.unsubscribe(e)},WAF.DataSourceEmSimpleAttribute.fire=function(e,t,n,r){this.owner.fire(e,t,n,r)},WAF.DataSourceEmSimpleAttribute.dispatch=function(e){e==null&&(e={}),e.attribute=this,e.attributeName=this.name,this.owner.dispatch("onAttributeChange",e)},WAF.DataSourceEmRelatedAttribute=Class.create(),WAF.DataSourceEmRelatedAttribute.inherit(WAF.DataSourceEmSimpleAttribute),WAF.DataSourceEmRelatedAttribute.prototype.initialize=function(e,t){this.$super("initialize")(e,t),this.simple=!1},WAF.DataSourceEmDeepSimpleAttribute=Class.create(),WAF.DataSourceEmDeepSimpleAttribute.inherit(WAF.DataSourceEmSimpleAttribute),WAF.DataSourceEmDeepSimpleAttribute.prototype.initialize=function(e,t,n){this.$super("initialize")(e,t),this.isFirstLevel=!1,this.name=n,this.readOnly=!0,this.getValue=WAF.DataSourceEmDeepSimpleAttribute.getValue,this.getOldValue=WAF.DataSourceEmDeepSimpleAttribute.getOldValue},WAF.DataSourceEmDeepSimpleAttribute.getValue=function(){return this.owner.getAttributeValue(this.name)},WAF.DataSourceEmDeepSimpleAttribute.getOldValue=function(){return this.owner.getOldAttributeValue(this.name)},WAF.DataSourceEmDeepRelatedAttribute=function(e,t,n){WAF.DataSourceEmRelatedAttribute.call(this,e,t),this.isFirstLevel=!1,this.name=n,this.readOnly=!0,this.getValue=WAF.DataSourceEmDeepRelatedAttribute.getValue},WAF.DataSourceEmDeepRelatedAttribute.getValue=function(){return this.owner.getAttributeValue(this.name)},WAF.DataSourceVarAttribute=Class.create(),WAF.DataSourceVarAttribute.inherit(WAF.DataSourceEmSimpleAttribute),WAF.DataSourceVarAttribute.prototype.initialize=function(e,t){this.$super("initialize")(e,t),this.isVarAtt=!0,this.savedValue=null,this.getValue=WAF.DataSourceVarAttribute.getValue,this.setValue=WAF.DataSourceVarAttribute.setValue,this.getOldValue=WAF.DataSourceVarAttribute.getOldValue},WAF.DataSourceVarAttribute.getValue=function(){var e=this.owner.getCurrentElement();return e==null?null:e[this.name]},WAF.DataSourceVarAttribute.setValue=function(e,t){t=t;var n=(t||{}).doNotDispatch||!1,r=this.owner.getCurrentElement();r!=null&&this.owner[this.name]!==e&&(this.savedValue=e,this.owner[this.name]=e,r[this.name]=e,n||this.dispatch(t))},WAF.DataSourceVarAttribute.getOldValue=function(){var e=this.owner.getCurrentElement();return e==null?null:this.savedValue},WAF.DataSourceEmRelatedAttributeValue=function(e,t){this.owner=t,this.emAtt=e,this.name=e.name,this.set=WAF.DataSourceEmRelatedAttributeValue.set,this.load=WAF.DataSourceEmRelatedAttributeValue.load,this.getKey=WAF.DataSourceEmRelatedAttributeValue.getKey},WAF.DataSourceEmRelatedAttributeValue.set=function(e,t){var n=(t||{}).doNotDispatch||!1,r=this.owner._private.currentEntity;if(r!=null){var i=null;e!=null&&(e instanceof WAF.Entity||typeof e=="number"?i=e:i=e.getCurrentElement()),r[this.name].setValue(i);var s=this.owner.getAttribute(this.name);s!=null&&!n&&s.dispatch(t),this.owner.dispatch("currentElementChange",{attributeName:new RegExp("^"+this.name+"\\.")})}},WAF.DataSourceEmRelatedAttributeValue.load=function(e,t){var n=this.owner._private.currentEntity;n!=null&&n[this.name].getValue(e,t)},WAF.DataSourceEmRelatedAttributeValue.getKey=function(){var e=null,t=this.owner._private.currentEntity;return t!=null&&(e=t[this.name].getRelatedKey()),e},WAF.DataSourceListener=function(e,t,n,r){WAF.DataSourceListener.prototype.currentID==null?WAF.DataSourceListener.prototype.currentID=1:++WAF.DataSourceListener.prototype.currentID,this.ID=WAF.DataSourceListener.prototype.currentID,this.eventKind=e,this.eventHandler=t,n==null&&(n={}),this.id=n.listenerID,this.listenerType=n.listenerType,this.userData=r,n.attributeName!=null&&(this.attributeName=n.attributeName,this.attribute=n.attribute),n.subID!=null&&(this.subID=n.subID)},WAF.DataSource=Class.create(),WAF.DataSource.inherit(WAF.require("waf-behavior/observable")),WAF.DataSource.prototype.initialize=function(e){this._initProperties(),this._private={id:e.id,atts:{},currentElemPos:0,isNewElem:!1,listeners:[],sourceType:"",owner:this,selCanBeModified:!0,oneElementOnly:!1,selIsRelatedonFirstLevel:!1,sel:new WAF.Selection("single"),_validateAttribute:WAF.DataSource._validateAttribute},this.length=0,this.getCurrentElement=WAF.DataSource.getCurrentElement,this.getKey=WAF.DataSource.getKey,this.getElement=WAF.DataSource.getElement,this.getPosition=WAF.DataSource.getPosition,this.isNewElement=WAF.DataSource.isNewElement,this.getAttribute=WAF.DataSource.getAttribute,this.select=WAF.DataSource.select,this.selectPrevious=WAF.DataSource.selectPrevious,this.selectNext=WAF.DataSource.selectNext,this.serverRefresh=WAF.DataSource.serverRefresh,this.collectionRefresh=WAF.DataSource.collectionRefresh,this.addListener=WAF.DataSource.addListener,this.removeListener=WAF.DataSource.removeListener,this.removeAllListeners=WAF.DataSource.removeAllListeners,this.dispatch=WAF.DataSource.dispatch,this.autoDispatch=WAF.DataSource.autoDispatch,this.getID=WAF.DataSource.getID,this.declareDependencies=WAF.DataSource.declareDependencies,this.setDisplayLimits=WAF.DataSource.setDisplayLimits,this.getSelection=WAF.DataSource.getSelection,this.setSelection=WAF.DataSource.setSelection,this.getScope=WAF.DataSource.getScope,this.getWebComponentID=WAF.DataSource.getWebComponentID,this.atLeastPageSize=WAF.DataSource.atLeastPageSize},WAF.DataSource.GLOBAL="global",WAF.DataSource.LOCAL="local",WAF.DataSource.makeFuncCaller=function(e,t){var n=e,r=t,i=function(){var e,t=!1,i=[];for(var s=0,o=arguments.length;s<o;s++){var u=arguments[s];!t&&WAF.tools.isOptionParam(u)?(e=u,t=!0):i.push(u)}var a=e||{};return a.onSuccess===undefined&&a.onError===undefined&&a.generateRESTRequestOnly===undefined&&(a.sync=!0),a.arguments==null&&(a.arguments=i),a.autoExpand==null&&(a.autoExpand=r._private._getAutoExpand()),a.filterAttributes==null&&(a.filterAttributes=r._private._getFilterAttributes()),a.method=n.name,r.callMethod(a)};return i},WAF.DataSource.addFuncHandler=function(e,t){e.funcCaller=function(){var r=!0,i=new WAF.core.restConnect.restRequest(!1);i.httpMethod=WAF.core.restConnect.httpMethods._post;var s=[];for(var o=0,u=arguments.length;o<u;o++)s.push(arguments[o]);var a=JSON.stringify(s);i.postdata=a;if(e.applyTo=="dataClass")i.attributesRequested=[],i.attributesRequested.push(e.name),i.resource=t._private.dataClassName;else if(e.applyTo=="entityCollection"){r=!1;var f=t._private.entityCollection;f!=null&&(f._private.dataURI!=null?(r=!0,i.dataURI=f._private.dataURI+"/"+e.name):(i.attributesRequested=[],i.attributesRequested.push(e.name),i.resource=t._private.dataClassName,i.filter=f.queryString,r=!0))}else if(e.applyTo=="entity"){r=!1;var l=t._private.currentEntity;if(l!=null){i.attributesRequested=[],i.attributesRequested.push(e.name),r=!0,i.resource=t._private.dataClassName+"(";var c=l.getKey();c!=null&&(i.resource+=c),i.resource+=")"}}var h=null;if(!r)throw{error:402};i.go();if(i.http_request.readyState!=4)throw{error:401};var p=JSON.parse(i.http_request.responseText);if(p==null)throw{error:400};if(p.__ERROR!=null)throw p.__ERROR;return h=p.result,h}},WAF.DataSource._validateAttribute=function(e,t){var n={valid:!0,messages:[]},r="",i=this.owner.getAttribute(e),s=null;i!=null&&(s=i.dataClassAtt);if(s!=null){s.maxValue!=null&&t>s.maxValue&&(n.valid=!1,r=e+" must not exceed "+s.maxValue,n.messages.push(r)),s.minValue!=null&&t<s.minValue&&(n.valid=!1,r=e+" must not be less than "+s.minValue,n.messages.push(r));if(s.pattern!=null)try{t.match(s.pattern)==null&&(n.valid=!1,r=e+" is not well formed",n.messages.push(r))}catch(o){}if(s.minLength!=null)try{t.length<s.minLength&&(n.valid=!1,r=e+" must be at least "+s.minLength+" characters long",n.messages.push(r))}catch(o){}if(s.maxLength!=null)try{t.length>s.maxLength&&(n.valid=!1,r=e+" must be less than "+s.maxLength+" characters long",n.messages.push(r))}catch(o){}}return n},WAF.DataSource.getScope=function(){return this._private.scope||WAF.DataSource.GLOBAL},WAF.DataSource.getWebComponentID=function(){return this._private.componentID||""},WAF.DataSource.getCurrentElement=function(){throw new Error("getCurrentElement not implemented here")},WAF.DataSource.getKey=function(){throw new Error("getKey not implemented here")},WAF.DataSource.getElement=function(e,t,n){throw new Error("getElement not implemented here")},WAF.DataSource.getPosition=function(){var e=-1,t=this.getCurrentElement();return t!=null&&(e=this._private.currentElemPos),e},WAF.DataSource.isNewElement=function(){return this._private.isNewElem},WAF.DataSource.getAttribute=function(e){var t=this._private.atts[e];return t},WAF.DataSource.select=function(e,t,n){e=Number(e);var r=WAF.tools.handleArgs(arguments,1);n=r.userData,t=r.options,this._private._setCurrentElementByPos(e,t,n)},WAF.DataSource.selectPrevious=function(e,t){if(this._private.currentElemPos>0){var n=WAF.tools.handleArgs(arguments,0);t=n.userData,e=n.options,this._private._setCurrentElementByPos(this._private.currentElemPos-1,e,t)}},WAF.DataSource.selectNext=function(e,t){if(!this._private.oneElementOnly&&this._private.currentElemPos<this.length-1){var n=WAF.tools.handleArgs(arguments,0);t=n.userData,e=n.options,this._private._setCurrentElementByPos(this._private.currentElemPos+1,e,t)}},WAF.DataSource.collectionRefresh=function(e,t){},WAF.DataSource.serverRefresh=function(e,t){var n=WAF.tools.handleArgs(arguments,0);t=n.userData,e=n.options;var r=this;if(e.forceReload){var i=this.getDataClass(),s=this.getCurrentElement();if(s!=null){var o=s.getKey();if(o==null){r.newEntity(e);var u={entity:r.getCurrentElement()};WAF.callHandler(!1,null,u,e,t)}else i.getEntity(o,{forceReload:!0,autoExpand:r._private._getAutoExpand(),filterAttributes:r._private._getFilterAttributes(),onSuccess:function(n){e.doNotAlterElemPos=!0,r.setCurrentEntity(n.entity,e),WAF.callHandler(!1,null,n,e,t)}})}}else e.refreshOnly=!0,this.save(e,t)},WAF.DataSource.addListener=function(e,t,n,r){var i,s,o,u,a,f,l;n=n||{},r=r||{},s=t,o=n,u=r,u.subID=o.subID,a=o.attributeName,this._private.listenerIndex||(this._private.listenerIndex=0);var c=function(e){var t,n,r=!0;t={};if(e&&e.data&&e.data.dispatchEvent){for(var i in e.data.dispatchEvent)t[i]=e.data.dispatchEvent[i];t.data=u,t.userData=u,t.listenerID=o.listenerID,t.listenerType=o.listenerType,t.subID=o.subID}if(t.dispatchSubID||o.subID)t.dispatchSubID&&(n=t.dispatchSubID.match(o.subID)),n&&n.length>=1&&n[0]?r=!0:r=!1;t.dispatchCompID&&(f=new RegExp("^"+t.dispatchCompID+"_.*?"),f.test(o.listenerID)||(r=!1)),t.dispatcherID!=null&&t.dispatcherID==o.id&&(r=!1),t.dispatcherTarget&&t.dispatcherTarget!=o.id&&(r=!1),r&&s(t)};return i=++this._private.listenerIndex,/^on[A-Z]/.test(e)&&(e=e[2].toLowerCase()+e.substr(3)),a?l=this.subscribe(e,a,c,null,u):l=this.subscribe(e,c,null,u),l.legacyData={clientCalback:t,realCallback:c,ID:i,id:n.id,userData:r,realEvent:e},i},WAF.DataSource.removeListener=function(e){e=e||{};var t=e.id||e.ID,n=e.widgetId;this.unsubscribe(function(){var e=this.legacyData;return t!==undefined&&e&&e.ID===t?!0:n!==undefined&&e&&(e.id===n||e.userData&&e.userData.widget&&e.userData.widget.id===n||e.userData&&e.userData.datagrid&&e.userData.datagrid.id===n)?!0:!1})},WAF.DataSource.removeAllListeners=function(){this.unsbscribe({})},WAF.DataSource.autoDispatch=function(e){throw new Error("autoDispatch not implemented")},WAF.DataSource.dispatch=function(e,t){t=t||{};var n=t.subID,r=t.dispatcherID,i=t.dispatcherTargetID||null,s=t.attributeName,o=!1,u,a=t.dispatchCompID||null;e=="onAttributeChange"&&(o=!0);if(!t.stopDispatch){var f={dataSource:this,eventKind:e,dispatcherID:r,dispatcherTarget:i,dispatcherType:t.dispatcherType,eventData:t.userData||null,dispatcherOptions:t,dispatchCompID:a,dispatchSubID:n};t.transformedSelection!=null&&(f.transformedSelection=t.transformedSelection),o&&s&&(f.attributeName=s,f.attribute=this.getAttribute(s)),e=="onElementSaved"&&(f.entity=t.entity,f.position=t.position,f.element=t.element),f.dispatchEvent=f,/^on[A-Z]/.test(e)&&(e=e[2].toLowerCase()+e.substr(3));if(e){switch(e){case"collectionChange":e=["collectionChange","currentElementChange","attributeChange"];break;case"currentElementChange":e=["currentElementChange","attributeChange"]}o?this.fire(e,s,f):this.fire(e,f)}}},WAF.DataSource.getID=function(){return this._private.id},WAF.DataSource.declareDependencies=function(e,t){},WAF.DataSource.setDisplayLimits=function(e,t,n){},WAF.DataSource.getSelection=function(){return this._private.sel},WAF.DataSource.setSelection=function(e,t){t=t,this._private.sel=e,e.getMode()=="single"?this.select(e.getFirst(),t):this.dispatch("onSelectionChange",t)},WAF.DataSource.atLeastPageSize=function(e,t){},WAF.delayRequest=function(e,t,n){return this.requestID=e,this.top=t,this.bottom=n,this.pendingFetch=[],this},WAF.delayRequest.prototype.matchRange=function(e,t){return e>=this.top&&e<=this.bottom||t>=this.top&&t<=this.bottom},WAF.delayRequest.prototype.match=function(e){return e>=this.top&&e<=this.bottom},WAF.delayRequest.prototype.addFetchRequest=function(e,t,n){this.pendingFetch.push({pos:e,options:t,userData:n})},WAF.delayRequest.prototype.setRequestID=function(e){this.requestID=e},WAF.DelayInfoForDataSource=function(e,t,n,r){return this.ID=e,this.top=t,this.bottom=n,this.pendingRequests=[],this},WAF.DelayInfoForDataSource.prototype.setLimits=function(e,t){this.top=e,this.bottom=t},WAF.DelayInfoForDataSource.prototype.addPendingRequest=function(e,t,n){var r=new WAF.delayRequest(e,t,n);return this.pendingRequests.push(r),r},WAF.DelayInfoForDataSource.prototype.removePendingRequest=function(e){var t=e.requestID,n=this.pendingRequests,r=-1;for(var i=0,s=n.length;i<s;i++)if(n[i].requestID==t){r=i;break}r!=-1&&n.splice(r,1)},WAF.DelayInfoForDataSource.prototype.findMatchingPendingRequest=function(e){var t=null;return this.pendingRequests.forEach(function(n){n.match(e)&&(t=n)}),t},WAF.DataSourceEm=Class.create(),WAF.DataSourceEm.inherit(WAF.DataSource),WAF.DataSourceEm.prototype.initialize=function(e){this.$super("initialize")(e);var t=this._private;t.dataClass=null,t.otherSource=null,t.otherAttribute=null,t.dataClassName="",t.currentEntity=null,t.entityCollection=null,t.autoExpand={},t.methods={},t.delayInfos={},t.filterAttributes=null,t.minPageSize=40,t.currentOrderBy=null,t._updateValues=WAF.DataSourceEm._updateValues,t._gotEntity=WAF.DataSourceEm._gotEntity,t._gotEntityCollection=WAF.DataSourceEm._gotEntityCollection,t._setCurrentElementByPos=WAF.DataSourceEm._setCurrentElementByPos,t._Init=WAF.DataSourceEm._Init,t._addAttributeDependency=WAF.DataSourceEm._addAttributeDependency,t._getAutoExpand=WAF.DataSourceEm._getAutoExpand,t._mixOptions=WAF.DataSourceEm._mixOptions,t._getFilterAttributes=WAF.DataSourceEm._getFilterAttributes,this.getCurrentElement=WAF.DataSourceEm.getCurrentElement,this.getDataClass=WAF.DataSourceEm.getDataClass,this.getClassAttributeByName=WAF.DataSourceEm.getClassAttributeByName,this.getAttribute=WAF.DataSourceEm.getAttribute,this.autoDispatch=WAF.DataSourceEm.autoDispatch,this.setEntityCollection=WAF.DataSourceEm.setEntityCollection,this.collectionRefresh=WAF.DataSourceEm.collectionRefresh,this.addNewElement=WAF.DataSourceEm.addNewElement,this.addEntity=WAF.DataSourceEm.addEntity,this.save=WAF.DataSourceEm.save,this.lock=WAF.DataSourceEm.lock,this.unlock=WAF.DataSourceEm.unlock,this.removeCurrent=WAF.DataSourceEm.removeCurrent,this.removeCurrentReference=WAF.DataSourceEm.removeCurrentReference,this.distinctValues=WAF.DataSourceEm.distinctValues,this.selectByKey=WAF.DataSourceEm.selectByKey,this.getElementByKey=WAF.DataSourceEm.getElementByKey,this.toArray=WAF.DataSourceEm.toArray,this.getEntityCollection=WAF.DataSourceEm.getEntityCollection,this.setCurrentEntity=WAF.DataSourceEm.setCurrentEntity,this.newEntity=WAF.DataSourceEm.newEntity,this.all=WAF.DataSourceEm.allEntities,this.allEntities=WAF.DataSourceEm.allEntities,this.noEntities=WAF.DataSourceEm.noEntities,this.query=WAF.DataSourceEm.query,this.filterQuery=WAF.DataSourceEm.filterQuery,this.orderBy=WAF.DataSourceEm.orderBy,this.resolveSource=WAF.DataSourceEm.resolveSource,this.mustResolveOnFirstLevel=WAF.DataSourceEm.mustResolveOnFirstLevel,this.getClassTitle=WAF.DataSourceEm.getClassTitle,this.getAttributeNames=WAF.DataSourceEm.getAttributeNames,this.getElement=WAF.DataSourceEm.getElement,this.getElements=WAF.DataSourceEm.getElements,this.getValues=WAF.DataSourceEm.getValues,this.getKey=WAF.DataSourceEm.getKey,this.sync=WAF.DataSourceEm.sync,this.getAttributeValue=WAF.DataSourceEm.getAttributeValue,this.get=WAF.DataSourceEm.getAttributeValue,this.setAttributeValue=WAF.DataSourceEm.setAttributeValue,this.set=WAF.DataSourceEm.setAttributeValue,this.getOldAttributeValue=WAF.DataSourceEm.getOldAttributeValue,this.declareDependencies=WAF.DataSourceEm.declareDependencies,this.callMethod=WAF.DataSourceEm.callMethod,this.buildFromSelection=WAF.DataSourceEm.buildFromSelection,this.setDisplayLimits=WAF.DataSourceEm.setDisplayLimits,this.atLeastPageSize=WAF.DataSourceEm.atLeastPageSize,this.clone=WAF.DataSourceEm.clone,this._private._Init(e)},WAF.DataSourceEm.clone=function(e){var t=this._private,n={"data-autoLoad":!1,"data-initialQueryString":t.initialQueryStr,"data-filter-attributes":t.filterAttributes,"data-initialOrderBy":t.initialOrderBy,binding:t.initialBinding,"data-scope":t.scope,id:e},r=WAF.dataSource.create(n);return r.setEntityCollection(this.getEntityCollection()),r},WAF.DataSourceEm._Init=function(e){var t=this.owner,n=!1;this.initialBinding=e.binding,this.dataClassName=e.binding,this.initialQuery=!0,this.initialQueryStr="",this.initialOrderBy="",e["data-autoLoad"]!=null&&(e["data-autoLoad"]==="false"||e["data-autoLoad"]==="0"||e["data-autoLoad"]===!1)&&(this.initialQuery=!1),e["data-scope"]&&(this.scope=e["data-scope"]),e["data-initialQueryString"]!=null&&(this.initialQueryStr=e["data-initialQueryString"]),e["data-filter-attributes"]!=null&&(this.filterAttributes=e["data-filter-attributes"]),e["data-initialOrderBy"]!=null&&(this.initialOrderBy=e["data-initialOrderBy"]),this.initialOrderBy!=null&&this.initialOrderBy!=""?this.currentOrderBy=this.initialOrderBy:this.currentOrderBy=null;var r=this.dataClassName.split(".");if(r.length==1)this.sourceType="dataClass",this.dataClass=WAF.ds.getDataClass(this.dataClassName);else{var i=r[0],s=r[1],o=WAF.source[i];if(o==null)this.sourceType="invalid";else{var u=o._private.dataClass;if(u!=null){var a=u.getAttributeByName(s);if(a!=null){this.dataClass=WAF.ds.getDataClass(a.type),this.dataClassName=a.type,this.otherSource=o,this.otherAttribute=a;if(a.kind=="relatedEntity")this.sourceType="relatedEntity",this.owner.subscribe("attributeChange",function(e){e.target&&o.fire("attributeChange",s+"."+e.target,e.data)});else if(a.kind=="relatedEntities"){this.sourceType="relatedEntities";if(a.reversePath){var f=a.path;f!=null&&(f=this.dataClass.getAttributeByName(f)),f!=null&&(this.selIsRelatedonFirstLevel=!0,this.foreignKeyAttribute=f)}}else this.sourceType="invalid";this.sourceType!="invalid"&&o.getAttribute(a.name).addListener(WAF.DataSourceEm._resolveEventHandler,{listnerID:e.id,listnerType:"datasource"},{source:t})}else this.sourceType="invalid"}else this.sourceType="invalid"}}n=this.sourceType!="invalid",n||(this.needForInit=e);var u=this.dataClass;if(u!=null){var l=u.getMethodList();if(l!=null)for(var c=0,h=l.length;c<h;c++){var p=l[c];WAF.DataSource.addFuncHandler(p,t),t[p.name]=WAF.DataSource.makeFuncCaller(p,t),this.methods[p.name]=p}var d=u.getAttributes();if(d!=null)for(var c=0,h=d.length;c<h;c++){var a=d[c];if(a.kind=="storage"||a.kind=="calculated"||a.kind=="alias"){var v=null;this.currentEntity!=null&&(v=this.currentEntity[a.name].getValue());var m=new WAF.DataSourceEmSimpleAttribute(a,t);t[a.name]=v,this.atts[a.name]=m,a.maxValue!=null&&(a.maxValue=m.normalize(a.maxValue)),a.minValue!=null&&(a.minValue=m.normalize(a.minValue)),a.minLength!=null&&typeof a.minLength=="string"&&(a.minLength=parseInt(a.minLength,10)),a.maxLength!=null&&typeof a.maxLength=="string"&&(a.maxLength=parseInt(a.maxLength,10)),a.fixedLength!=null&&typeof a.fixedLength=="string"&&(a.fixedLength=parseInt(a.fixedLength,10))}else{var m=new WAF.DataSourceEmRelatedAttribute(a,t);this.atts[a.name]=m,a.kind=="relatedEntity"&&(t[a.name]=new WAF.DataSourceEmRelatedAttributeValue(a,t))}}}return n&&(delete this.needForInit,this.selCanBeModified=this.sourceType=="dataClass",this.oneElementOnly=this.sourceType=="relatedEntity",this.selCanBeModified||(delete t.setEntityCollection,delete t.noEntities,delete t.query),this.oneElementOnly&&(delete t.setEntityCollection,delete t.noEntities,delete t.addNewElement,delete t.addEntity,delete t.newEntity,delete t.query,delete t.removeCurrent,delete t.distinctValues,delete t.getEntityCollection,delete t.selectNext,delete t.select,delete t.selectPrevious)),n},WAF.DataSourceEm._resolveEventHandler=function(e){e.data.source.resolveSource({dispatcherID:e.dispatcherID})},WAF.DataSourceEm._updateValues=function(){for(var e in this.atts){var t=this.atts[e];(t.simple||t.type==="image")&&t.isFirstLevel&&(this.currentEntity==null?this.owner[t.name]=null:this.owner[t.name]=this.currentEntity[t.name].getValue())}},WAF.DataSourceEm._gotEntity=function(e){var t=e.userData,n=t.options||{},r=t.dataSource;r._private.currentEntity!=null&&r.dispatch("onBeforeCurrentElementChange",n),r._private.currentElemPos=t.entityPos,r._private.isNewElem=!1,r._private.currentEntity=e.entity,r._private._updateValues(),t.mustPublish&&(t.mustPublishCollection?r.dispatch("onCollectionChange",n):r.dispatch("onCurrentElementChange",n));var i=n.onSuccess,s=n.onError,o={dataSource:r,data:t.userData,userData:t.userData,XHR:e.XHR||null};e.error!=null&&e.error.length>0?s!=null&&(o.error=e.error,s(o)):i!=null&&i(o)},WAF.DataSourceEm._gotEntityCollection=function(e){var t=e.userData,n=t.options||{},r=t.dataSource;if(e.error!=null&&n.keepOldCollectionOnError){var i=n.onError;if(i!=null){var s={dataSource:r,data:t.userData,userData:t.userData,XHR:e.XHR||null,error:e.error};i(s)}}else if(n.destinationDataSource!=null){var o=WAF.dataSource.findOrDuplicate(r,n.destinationDataSource,e.entityCollection);o!=null&&o.setEntityCollection(e.entityCollection,n)}else{r._private.currentEntity!=null&&r.dispatch("onBeforeCurrentElementChange",n),r._private.currentEntity=null,r._private.entityCollection=e.entityCollection,e.userData!=null&&e.userData.askedOrderBy!=null&&(r._private.currentOrderBy=e.userData.askedOrderBy);var u=0,a=null;e.transformedSelection!=null?(a=new WAF.Selection(e.transformedSelection),r._private.sel=a,u=a.getFirst(),n.transformedSelection=a):r._private.sel.reset(),r.length=r._private.entityCollection.length,t.curPos!=null&&t.curPos>=0?t.curPos>=r.length?r._private.currentElemPos=r.length-1:r._private.currentElemPos=t.curPos:r._private.currentElemPos=u,r._private.isNewElem=!1,n.progressBar!=null&&n.progressBar.stopListening();if(r._private.entityCollection.length==0){r._private.currentEntity=null,r._private._updateValues(),t.mustPublish&&r.dispatch("onCollectionChange",n);var f=n.onSuccess,i=n.onError,s={dataSource:r,data:t.userData,XHR:e.XHR||null,userData:t.userData};e.error!=null&&e.error.length>0?(s.error=e.error,i!=null&&i(s)):f!=null&&f(s)}else t.mustPublish&&(t.mustPublishCollection=!0),t.entityPos=r._private.currentElemPos,r._private.entityCollection.getEntity(r._private.currentElemPos,{onSuccess:r._private._gotEntity,onError:r._private._gotEntity},t)}},WAF.DataSourceEm.collectionRefresh=function(e,t){var n=WAF.tools.handleArgs(arguments,0);t=n.userData,e=n.options;var r=this;e=e||{},e.forceCollectionRefresh=!0;var i=this._private;e.pageSize=i.minPageSize;if(i.entityCollection!=null){var s=e.onSuccess,o=e.onError,u=this.getPosition();function a(n){e.onSuccess=s,e.onError=o,n.dataSource=r,u>=0&&(i.isNewElem=!1,i.currentEntity=n.entity,i._updateValues()),r.dispatch("onCollectionChange",e),WAF.callHandler(!1,null,n,e,t)}function f(n){e.onSuccess=s,e.onError=o,WAF.callHandler(!0,n.error,n,e,t)}e.onSuccess=a,e.onError=f,i.entityCollection.getEntity(u<0?0:u,e,t)}},WAF.DataSourceEm._setCurrentElementByPos=function(e,t,n){t=t||{},n=n;var r=t.onSuccess,i=t.onError,s={dataSource:this.owner,data:n,userData:n};if(this.owner.getPosition()==e||this.oneElementOnly)e===-1?i&&i(s):r&&r(s);else{var o=!1;if(this.entityCollection!=null&&e>=0&&e<this.entityCollection.length){o=!0;var u=null;t.delayID!=null&&(u=this.delayInfos[t.delayID]),this.entityCollection.getEntity(e,{onSuccess:this._gotEntity,onError:this._gotEntity,delay:t.delay||null,delayInfo:u},{dataSource:this.owner,mustPublish:!0,options:t,userData:n,entityPos:e})}o||(this.currentEntity!=null&&this.owner.dispatch("onBeforeCurrentElementChange",t),this.currentEntity=null,this.currentElemPos=0,this._updateValues(),this.owner.dispatch("onCurrentElementChange",t),(e===-1||e>=this.entityCollection.length)&&i&&i(s))}},WAF.DataSourceEm._addAttributeDependency=function(e,t){var n=this.autoExpand,r=this.dataClass;t=t||{};var i=e.split("."),s=i.length;for(var o=0;o<s;o++){var u=i[o],a=r.getAttributeByName(u);if(a!=null){if(a.kind!="relatedEntity"&&(a.kind!="relatedEntities"&&a.kind!="composition"||!t.allow1ToN))break;n[u]==null&&(n[u]={}),n=n[u];var f=WAF.ds.getDataClass(a.type);if(f==null)break;r=f}}},WAF.DataSourceEm._getFilterAttributes=function(){return this.filterAttributes||null},WAF.DataSourceEm._getAutoExpand=function(){function t(n,r,i){var s=i;for(e in n)s!=""&&(s+=","),s+=r+e,s=t(n[e],r+e+".",s);return s}var n=t(this.autoExpand,"","");return n},WAF.DataSourceEm._mixOptions=function(e,t){t=t||{};if(e){e.orderBy!=null&&(t.orderBy=e.orderBy),e.removeReferenceOnly!=null&&(t.removeReferenceOnly=e.removeReferenceOnly),e.queryPlan!=null&&(t.queryPlan=e.queryPlan),e.queryPath!=null&&(t.queryPath=e.queryPath),e.autoExpand!=null&&(t.autoExpand=e.autoExpand),e.filterAttributes!=null&&(t.filterAttributes=e.filterAttributes),e.params!=null&&(t.params=e.params),e.pageSize!=null&&(t.pageSize=e.pageSize),e.timeout!=null&&(t.timeout=e.timeout),e.keepSelection!=null&&(t.keepSelection=e.keepSelection),e.keepOldCollectionOnError!=null&&(t.keepOldCollectionOnError=e.keepOldCollectionOnError),e.retainPositions!=null&&(t.retainPositions=e.retainPositions),e.fromSelection!=null&&(t.fromSelection=e.fromSelection);if(e.progressInfo!=null)t.progressInfo=e.progressInfo;else{e.progressBar!=null&&(typeof e.progressBar=="string"?t.progressBar=WAF.widgets[e.progressBar]:t.progressBar=e.progressBar,e.progressBar=t.progressBar);if(t.progressBar!=null){var n=t.progressBar.id+"_"+Math.random()+"_"+(new Date).toString();t.progressBar.setProgressInfo(n),t.progressInfo=n,t.progressBar.startListening()}}}return t},WAF.DataSourceEm.getCurrentElement=function(){return this._private.currentEntity},WAF.DataSourceEm.getDataClass=function(){return this._private.dataClass},WAF.DataSourceEm.getKey=function(){var e=null,t=this._private,n=t.currentEntity;return n!=null&&(e=n.getKey()),e},WAF.DataSourceEm.getClassAttributeByName=function(e){var t=e.split("."),n;if(t.length==1)n=this._private.dataClass.getAttributeByName(e);else{n=null;var r=this._private.dataClass;for(var i=0;i<t.length;i++){var s=t[i];n=r.getAttributeByName(s);if(n==null)break;if(n.kind!="composition"&&n.kind!="relatedEntities"&&n.kind!="relatedEntity")break;r=WAF.ds.getDataClass(n.type);if(r==null){n=null;break}}}return n},WAF.DataSourceEm.getAttribute=function(e){var t,n=e.split(".");if(n.length==1)t=this._private.atts[e];else{t=this._private.atts[e];if(t==null){var r=this._private.dataClass;for(var i=0,s=n.length-1;i<s;i++){var o=n[i],u=null;r&&(u=r.getAttributeByName(o)),u!=null&&u.kind=="relatedEntity"?r=WAF.ds.getDataClass(u.type):r=null;if(r==null)break}if(r!=null){var o=n[s],u=r.getAttributeByName(o);if(u.kind=="storage"||u.kind=="calculated"||u.kind=="alias"){var a=new WAF.DataSourceEmDeepSimpleAttribute(u,this,e);this._private.atts[e]=a,t=a}else{var a=new WAF.DataSourceEmDeepRelatedAttribute(u,this,e);this._private.atts[e]=a,t=a}}t!=null&&this.declareDependencies(e)}}return t},WAF.DataSourceEm.autoDispatch=function(e){var t=this.getCurrentElement();if(t!=null)for(var n in this._private.atts){var r=this._private.atts[n];if(r.simple&&r.isFirstLevel){var i=this[r.name],s=t[r.name].value;s!==i&&(t[r.name].setValue(i),r.dispatch(e))}}},WAF.DataSourceEm.addNewElement=function(e,t){t=t;var n=this._private,r=this,i=null;n.selIsRelatedonFirstLevel&&(i=n.otherSource._private.currentEntity);if(n.selCanBeModified||n.selIsRelatedonFirstLevel&&i!=null){n.currentEntity!=null&&this.dispatch("onBeforeCurrentElementChange",t),n._updateValues(),n.currentEntity=new WAF.Entity(n.dataClass);if(n.selIsRelatedonFirstLevel){var s=n.foreignKeyAttribute.name;this[s].set(n.otherSource)}n.entityCollection.add(n.currentEntity),n.isNewElem=!0,this.length=n.entityCollection.length,n.currentElemPos=n.entityCollection.length-1;if(e!=null)for(var o in e){var u=this.getAttribute(o);if(u!=null&&!u.readOnly)if(u.simple||u.type=="image")u.setValue(e[o],{doNotDispatch:!0});else{var a=r[o];a!=null&&vallatt.set!=null&&a.set(e[o],{doNotDispatch:!0})}}n._updateValues(),this.dispatch("onCollectionChange",t)}},WAF.DataSourceEm.setEntityCollection=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1);n=r.userData,t=r.options;if(this._private.selCanBeModified){this._private.currentEntity!=null&&this.dispatch("onBeforeCurrentElementChange",t),this._private.entityCollection=e;if(this._private.entityCollection===undefined)var i=1;e!=null?this.length=e.length:this.length=0,this._private.currentEntity=null,this._private._updateValues(),this._private.currentElemPos=0,this.dispatch("onCollectionChange",t),this._private.entityCollection!=null&&this._private.entityCollection.length>0?this._private.entityCollection.getEntity(this._private.currentElemPos,{onSuccess:this._private._gotEntity,onError:this._private._gotEntity},{dataSource:this,mustPublish:!0,options:t,userData:n,entityPos:0}):this.dispatch("onCurrentElementChange",t)}},WAF.DataSourceEm.addEntity=function(e,t){var n=this._private;t=t;var r=null;n.selIsRelatedonFirstLevel&&(r=n.otherSource._private.currentEntity);if(n.selCanBeModified||n.selIsRelatedonFirstLevel&&r!=null){n.currentEntity!=null&&this.dispatch("onBeforeCurrentElementChange",t),n._updateValues(),n.currentEntity=e;if(n.selIsRelatedonFirstLevel){var i=n.foreignKeyAttribute.name;this[i].set(n.otherSource)}n.entityCollection.add(n.currentEntity),n.isNewElem=!0,this.length=n.entityCollection.length,n.currentElemPos=n.entityCollection.length-1,this.dispatch("onCollectionChange",t),n._updateValues()}},WAF.DataSourceEm.save=function(e,t){var n=WAF.tools.handleArgs(arguments,0);t=n.userData,e=n.options;var r=e.onSuccess,i=e.refreshOnly;i==null&&(i=!1);var s=this.getCurrentElement(),o=this.getPosition();this.autoDispatch({stopDispatch:!0});if(s!=null){var u={dataSource:this,data:t,userData:t},a=e.onError;if(i||s.isTouched()||s.isNew()){var f=this,l=function(e){u.XHR=e.XHR,!i&&(e.error==null||e.error.length==0)&&(f._private.isNewElem=!1),e.userData.options.entity=s,e.userData.options.position=o,e.userData.options.element=WAF.DataSourceEm.makeElement(f,s),e.userData.obj.dispatch("onElementSaved",e.userData.options),f._private.currentEntity!=null&&s.getKey()==f._private.currentEntity.getKey()&&(f._private._updateValues(),e.userData.obj.dispatch("onCurrentElementChange",e.userData.options)),e.error!=null&&e.error.length>0?(u.error=e.error,a!=null&&a(u)):r!=null&&r(u)};s.save({onSuccess:l,onError:l,refreshOnly:i,overrideStamp:e.overrideStamp||!1,autoExpand:this._private._getAutoExpand(),filterAttributes:this._private._getFilterAttributes()},{obj:this,options:e,userData:t,refreshOnly:i})}else r!=null&&r(u)}else r!=null&&r(u)},WAF.DataSourceEm.lock=function(e,t){var n=WAF.tools.handleArgs(arguments,0);t=n.userData,e=n.options;var r=this.getCurrentElement();r!=null&&r.lock(e,t)},WAF.DataSourceEm.unlock=function(e,t){var n=WAF.tools.handleArgs(arguments,0);t=n.userData,e=n.options;var r=this.getCurrentElement();r!=null&&r.unlock(e,t)},WAF.DataSourceEm.removeCurrent=function(e,t){var n=WAF.tools.handleArgs(arguments,0);t=n.userData,e=n.options,e.keepOldCollectionOnError==null&&(e.keepOldCollectionOnError=!0);var r=this.getEntityCollection(),i=this._private.currentElemPos;if(i>=0&&r!=null&&i<r.length){var s={onSuccess:this._private._gotEntityCollection,onError:this._private._gotEntityCollection,persistOnServer:!0,pageSize:this._private.minPageSize,filterAttributes:this._private._getFilterAttributes(),autoExpand:this._private._getAutoExpand()},o={type:"getEntityCollection",dataSource:this,mustPublish:!0,options:e,userData:t,curPos:i};s=this._private._mixOptions(e,s),r.removeEntity(i,s,o)}},WAF.DataSourceEm.removeCurrentReference=function(e,t){var n=WAF.tools.handleArgs(arguments,0);t=n.userData,e=n.options,e.removeReferenceOnly=!0,this.removeCurrent(e,t)},WAF.DataSourceEm.distinctValues=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1);n=r.userData,t=r.options,this.getEntityCollection().distinctValues(e,t,n)},WAF.DataSourceEm.selectByKey=function(e,t,n){function s(e){e.dataSource=r,e.error==null?r.select(e.result,t,n):WAF.callHandler(!0,e.error,e,t,n)}var r=this,i=WAF.tools.handleArgs(arguments,1);n=i.userData,t=i.options,this.getEntityCollection().findKey(e,s)},WAF.DataSourceEm.getElementByKey=function(e,t,n){function s(e){var i={dataSource:r},s=e.entity;if(e.error!=null&&e.error.length>0)i.error=e.error;else{var o=WAF.DataSourceEm.makeElement(r,s);i.element=o,i.result=o}WAF.callHandler(i.error!=null,i.error,i,t,n)}var r=this,i=WAF.tools.handleArgs(arguments,1);n=i.userData,t=i.options,this.getDataClass().getEntity(e,s)},WAF.DataSourceEm.toArray=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1);n=r.userData,t=r.options;var i=this.getEntityCollection();i!=null&&i.toArray(e,t,n)},WAF.DataSourceEm.getEntityCollection=function(){var e=null;return this._private.entityCollection!=null&&(e=this._private.entityCollection),e},WAF.DataSourceEm.setCurrentEntity=function(e,t){t=t||{},this._private.currentEntity!=null&&this.dispatch("onBeforeCurrentElementChange",t),t.doNotAlterElemPos||(this._private.currentElemPos=-1),this._private.currentEntity=e,this._private.isNewElem=!1,this._private._updateValues(),this.dispatch("onCurrentElementChange",t)},WAF.DataSourceEm.newEntity=function(e){e=e,this._private.currentEntity!=null&&this.dispatch("onBeforeCurrentElementChange",e),this._private.currentElemPos=-1,this._private.currentEntity=new WAF.Entity(this._private.dataClass),this._private.isNewElem=!0,this._private._updateValues(),this.dispatch("onCurrentElementChange",e)},WAF.DataSourceEm.query=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1,{queryParams:!0});n=r.userData,t=r.options;var i={onSuccess:this._private._gotEntityCollection,onError:this._private._gotEntityCollection,persistOnServer:!0,pageSize:this._private.minPageSize,filterAttributes:this._private._getFilterAttributes(),autoExpand:this._private._getAutoExpand()},s={type:"getEntityCollection",dataSource:this,mustPublish:!0,options:t,userData:n};t.orderBy!=null&&t.orderBy!=""&&(s.askedOrderBy=t.orderBy),i=this._private._mixOptions(t,i);if(t.keepOrderBy){var o=this._private.currentOrderBy;o!=null&&o!=""&&(i.orderby=o)}this._private.dataClass.query(e,i,s)},WAF.DataSourceEm.filterQuery=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1,{queryParams:!0});n=r.userData,t=r.options;var i={onSuccess:this._private._gotEntityCollection,onError:this._private._gotEntityCollection,persistOnServer:!0,pageSize:this._private.minPageSize,filterAttributes:this._private._getFilterAttributes(),autoExpand:this._private._getAutoExpand()};t.fromInitialQuery?this._private.initialQueryStr!=null&&this._private.initialQueryStr!=""&&(e=this._private.initialQueryStr+" and ("+e+")"):i.filterSet=this._private.entityCollection;var s={type:"getEntityCollection",dataSource:this,mustPublish:!0,options:t,userData:n};t.orderBy!=null&&t.orderBy!=""&&(s.askedOrderBy=t.orderBy),i=this._private._mixOptions(t,i);if(t.keepOrderBy){var o=this._private.currentOrderBy;o!=null&&o!=""&&(i.orderby=o)}this._private.dataClass.query(e,i,s)},WAF.DataSourceEm.allEntities=function(e,t){var n=WAF.tools.handleArgs(arguments,0);t=n.userData,e=n.options;if(e.keepOrderBy){var r=this._private.currentOrderBy;r!=null&&r!=""&&(e.orderby=r)}this.query("",e,t)},WAF.DataSourceEm.noEntities=function(){this._private.entityCollection.length>0&&this.setEntityCollection(this._private.dataClass.newCollection())},WAF.DataSourceEm.orderBy=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1);n=r.userData,t=r.options;var i=this.getSelection();i!=null&&t.keepSelection===undefined&&(t.keepSelection=i.prepareToSend());var s=this._private.entityCollection;if(s!=null){var o={onSuccess:this._private._gotEntityCollection,onError:this._private._gotEntityCollection,persistOnServer:!0,pageSize:this._private.minPageSize,filterAttributes:this._private._getFilterAttributes(),autoExpand:this._private._getAutoExpand()};o=this._private._mixOptions(t,o);var u={type:"getEntityCollection",dataSource:this,askedOrderBy:e,mustPublish:!0,options:t,userData:n};s.orderBy(e,o,u)}},WAF.DataSourceEm.buildFromSelection=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1);n=r.userData,t=r.options;var i=this._private.entityCollection;if(i!=null){var s={onSuccess:this._private._gotEntityCollection,onError:this._private._gotEntityCollection,persistOnServer:!0,pageSize:this._private.minPageSize,filterAttributes:this._private._getFilterAttributes(),autoExpand:this._private._getAutoExpand()};s=this._private._mixOptions(t,s);var o={type:"buildFromSelection",dataSource:this,mustPublish:!0,options:t,userData:n};return i.buildFromSelection(e,s,o)}},WAF.DataSourceEm.resolveSource=function(e,t){var n=WAF.tools.handleArgs(arguments,0);t=n.userData,e=n.options;var r=this._private;switch(r.sourceType){case"dataClass":r.currentElemPos=0;if(r.initialQuery){var i=r.initialQueryStr?r.initialQueryStr:"",s="",o={pageSize:r.dataClass.getDefaultTopSize()||r.minPageSize,onSuccess:r._gotEntityCollection,onError:r._gotEntityCollection,persistOnServer:!0,filterAttributes:r._getFilterAttributes(),autoExpand:r._getAutoExpand()},u,a={type:"getEntityCollection",mustPublish:!0,dataSource:this,options:e,userData:t};r.initialOrderBy!==""&&(s=r.initialOrderBy,i!==""&&(i+=" order by "+s));if(i!==""||s==="")r.entityCollection=r.dataClass.query(i,o,a);else{function f(e){e.entityCollection.orderBy(s,o,a)}u={pageSize:r.minPageSize,onSuccess:f,onError:f,persistOnServer:!0,filterAttributes:r._getFilterAttributes(),autoExpand:r._getAutoExpand()},r.entityCollection=r.dataClass.query("",u,a)}}else{r.entityCollection=r.dataClass.newCollection(),r.currentEntity=null,r._updateValues(),this.dispatch("onCollectionChange",e);var l=e.onSuccess,c={dataSource:this,data:t,userData:t};l!=null&&l(c)}break;case"relatedEntities":var h=r.otherSource._private.currentEntity;if(h==null){r.currentEntity!=null&&this.dispatch("onBeforeCurrentElementChange",e),r.entityCollection=null,r.currentEntity=null,r._updateValues(),r.currentElemPos=0,this.length=0,this.dispatch("onCollectionChange",e);var l=e.onSuccess,c={dataSource:this,data:t,userData:t};l!=null&&l(c)}else{var p=h[r.otherAttribute.name];if(p==null)r.currentEntity!=null&&this.dispatch("onBeforeCurrentElementChange",e),r.entityCollection=null,r.currentEntity=null,r._updateValues(),r.currentElemPos=0,this.length=0;else{var d=null;r.currentEntity!=null&&(d=r.currentEntity.getKey());function v(){r.entityCollection=m,r._gotEntityCollection.apply(this,arguments)}var m=p.getValue({onSuccess:v,onError:v,autoSubExpand:r._getAutoExpand(),subOrderby:r.initialOrderBy!=null&&r.initialOrderBy!=""?r.initialOrderBy:null,reselect:d},{type:"getEntityCollection",dataSource:this,mustPublish:!0,options:e,userData:t});if(r.entityCollection===undefined)var g=1}}break;case"relatedEntity":r.entityCollection=null,r.currentElemPos=0;var h=r.otherSource._private.currentEntity;if(h==null)r.currentEntity!=null&&this.dispatch("onBeforeCurrentElementChange",e),r.currentEntity=null,r._updateValues(),this.dispatch("onCurrentElementChange",e);else{var p=h[r.otherAttribute.name];p==null?(r.currentEntity!=null&&this.dispatch("onBeforeCurrentElementChange",e),this.length=0,r.currentEntity=null,r._updateValues(),this.dispatch("onCurrentElementChange",e)):(this.length=1,p.getValue({onSuccess:r._gotEntity,onError:r._gotEntity,autoSubExpand:r._getAutoExpand()},{type:"getEntity",dataSource:this,mustPublish:!0,options:e,userData:t,entityPos:0}))}}},WAF.DataSourceEm.mustResolveOnFirstLevel=function(){return this._private.sourceType=="dataClass"},WAF.DataSourceEm.getClassTitle=function(){return this._private.dataClass==null?"":this._private.dataClass.getName()},WAF.DataSourceEm.getAttributeNames=function(){var e=[],t=this._private.dataClass.getAttributes();if(t!=null)for(var n=0,r=t.length;n<r;n++)e.push(t[n].name);return e},WAF.DataSourceEm.makeElement=function(e,t){var n={_private:{}},r=e._private.atts;for(var i in r){var s=r[i],o=s.kind;s.isFirstLevel&&(o=="storage"||o=="calculated"||o=="alias")&&(n[i]=t==null?null:t[i].getValue())}return n._private.dataClass=e._private.dataClass,n._private.currentEntity=t,n.getAttributeValue=e.getAttributeValue,n.getKey=e.getKey,n},WAF.DataSourceEm.getElements=function(e,t,n,r){var i=WAF.tools.handleArgs(arguments,2);r=i.userData,n=i.options;var s=n.onSuccess,o=n.onError,u=this._private,a=this,f={elements:[],position:e,howMany:t,dataSource:this};f.result=f.elements,r!=null&&(f.data=r,f.userData=r),e<0&&(e=0);var l=u.entityCollection;l!=null?l.getEntities(e,t,{onSuccess:function(t){var n=t.entities;n.forEach(function(t,n){var r;a.getPosition()===e+n?r=WAF.DataSourceEm.makeElement(a,u.currentEntity):r=WAF.DataSourceEm.makeElement(a,t),f.elements.push(r)}),s!=null&&s(f)},onError:function(e){o!=null&&(f.error=e.error,o(f))}}):(f.error={error:602,errorMessage:"missing Collection"},o!=null&&o(f))},WAF.DataSourceEm.getValues=function(e,t,n){var r={};n!=null&&n.params==null&&(r.queryParams=!0);var i=WAF.tools.handleArgs(arguments,2,r);userData=i.userData,n=i.options;var s=null;n.withinCollection&&(s=this.getEntityCollection()),s==null&&(s=this.getDataClass(),n.top=n.top||40),n.filterQuery=t,n.orderby==null&&n.orderBy!=null&&(n.orderby=n.orderBy),s.toArray(e||null,n,userData)},WAF.DataSourceEm.getElement=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1);n=r.userData,t=r.options;var i=t.onSuccess,s={element:null,position:e,dataSource:this};n!=null&&(s.data=n,s.userData=n);if(this.getPosition()==e||this._private.oneElementOnly){if(i!=null){var o=WAF.DataSourceEm.makeElement(this,this._private.currentEntity);s.element=o,s.result=o,i(s)}}else{var u=!1,a=this._private.entityCollection;if(a!=null&&e>=0&&e<a.length){u=!0;var f=function(e){var n=e.userData.dataSource,r=e.entity;if(e.error!=null&&e.error.length>0)s.error=e.error,t.onError!=null&&t.onError(s);else{var o=WAF.DataSourceEm.makeElement(n,r);s.element=o,s.result=o,i(s)}},l=null;t.delayID!=null&&(l=this._private.delayInfos[t.delayID]),a.getEntity(e,{onSuccess:f,onError:f,delay:t.delay||null,delayInfo:l},{dataSource:this})}u||i!=null&&i(s)}},WAF.DataSourceEm.setAttributeValue=function(e,t,n){n=n;var r=this.getAttribute(e);r!=null&&r.setValue(t,n)},WAF.DataSourceEm.getAttributeValue=function(e,t){t=t||{};var n=null,r=null,i=null;if(this._private!=null)var r=this._private.dataClass,i=this._private.currentEntity;if(i!=null){var s=e.split("."),o=s.length;for(var u=0;u<o;u++){var a=s[u],f=r.getAttributeByName(a);if(f!=null){var l=i[a];if(l==null){n=null;break}if(f.kind=="relatedEntity"){var c=WAF.ds.getDataClass(f.type);if(c==null){n=null;break}r=c;if(u===o-1)n=l.getRelatedKey();else{n=l.getValue();if(n==null)break;i=n}}else{if(f.kind=="relatedEntities"||f.kind=="composition"){n=null;break}n=l.getValue()}}}}return n},WAF.DataSourceEm.getOldAttributeValue=function(e,t){t=t||{};var n=null,r=null,i=null;if(this._private!=null)var r=this._private.dataClass,i=this._private.currentEntity;if(i!=null){var s=e.split("."),o=s.length;for(var u=0;u<o;u++){var a=s[u],f=r.getAttributeByName(a);if(f!=null){var l=i[a];if(l==null){n=null;break}if(f.kind=="relatedEntity"){var c=WAF.ds.getDataClass(f.type);if(c==null){n=null;break}r=c,n=l.getOldValue();if(n==null)break;i=n}else{if(f.kind=="relatedEntities"||f.kind=="composition"){n=null;break}n=l.getOldValue()}}}}return n},WAF.DataSourceEm.declareDependencies=function(e,t){t=t;if(typeof e!="string")for(var n=0,r=e.length;n<r;n++)this._private._addAttributeDependency(e[n],t);else{var i=null,s=[];for(var n=0;n<arguments.length;++n){var o=arguments[n];typeof o=="string"?s.push(o):i=o}this.declareDependencies(s,i)}},WAF.DataSourceEm.callMethod=function(e){var t=this,n=null,r=e.sync||!1,i=!1,s=null;e.method!=null&&(s=this._private.methods[e.method]);if(e.arguments==null){var o=[];for(var u=1,a=arguments.length;u<a;u++)o.push(arguments[u]);e.arguments=o}if(s!=null)if(s.applyTo=="dataClass"){var f=t.getDataClass();f!=null&&(i=!0,n=f.callMethod(e))}else if(s.applyTo=="entityCollection"){var l=t.getEntityCollection();l!=null&&(i=!0,n=l.callMethod(e))}else if(s.applyTo=="entity"){var c=t.getCurrentElement();c!=null&&(i=!0,n=c.callMethod(e))}return n},WAF.DataSourceEm.setDisplayLimits=function(e,t,n){var r=this._private,i=r.delayInfos[e];i==null?(i=new WAF.DelayInfoForDataSource(e,t,n),r.delayInfos[e]=i):i.setLimits(t,n)},WAF.DataSourceEm.atLeastPageSize=function(e,t){var n=this._private;e>n.minPageSize&&(n.minPageSize=e)},WAF.DataSourceVar=Class.create(),WAF.DataSourceVar.inherit(WAF.DataSource),WAF.DataSourceVar.prototype.initialize=function(e){this.$super("initialize")(e);if(e.id==null||e.id=="")"binding"in e?e.id=e.binding+"Source":e.id="PrivateDatasource"+(Math.random()*4294967296).toString(16);this._private.initialBinding=e.binding,this._private.sourceType="array",this._private.varName="",this._private.dataClass=null,this._private.singleElem=!1,this._private.currentElem=null,this._private._updateValues=WAF.DataSourceVar._updateValues,this._private._getFullSet=WAF.DataSourceVar._getFullSet,this._private._setFullSet=WAF.DataSourceVar._setFullSet,this._private._setCurrentElementByPos=WAF.DataSourceVar._setCurrentElementByPos,this._private._Init=WAF.DataSourceVar._Init,this.getCurrentElement=WAF.DataSourceVar.getCurrentElement,this.getKey=WAF.DataSourceVar.getKey,this.getDataClass=WAF.DataSourceVar.getDataClass,this.getClassAttributeByName=WAF.DataSourceVar.getClassAttributeByName,this.autoDispatch=WAF.DataSourceVar.autoDispatch,this.addNewElement=WAF.DataSourceVar.addNewElement,this.save=WAF.DataSourceVar.save,this.removeCurrent=WAF.DataSourceVar.removeCurrent,this.removeCurrentReference=WAF.DataSourceVar.removeCurrentReference,this.selectByKey=WAF.DataSourceVar.selectByKey,this.getElementByKey=WAF.DataSourceVar.getElementByKey,this.query=WAF.DataSourceVar.query,this.filterQuery=WAF.DataSourceVar.filterQuery,this.orderBy=WAF.DataSourceVar.orderBy,this.resolveSource=WAF.DataSourceVar.resolveSource,this.mustResolveOnFirstLevel=WAF.DataSourceVar.mustResolveOnFirstLevel,this.getClassTitle=WAF.DataSourceVar.getClassTitle,this.getAttributeNames=WAF.DataSourceVar.getAttributeNames,this.getElement=WAF.DataSourceVar.getElement,this.getElements=WAF.DataSourceVar.getElements,this.getValues=WAF.DataSourceVar.getValues,this.getAttributeValue=WAF.DataSourceVar.getAttributeValue,this.get=WAF.DataSourceVar.getAttributeValue,this.getOldAttributeValue=WAF.DataSourceVar.getOldAttributeValue,this.setAttributeValue=WAF.DataSourceVar.setAttributeValue,this.set=WAF.DataSourceVar.setAttributeValue,this.sync=WAF.DataSourceVar.sync,this.clone=WAF.DataSourceVar.clone,this._private._Init(e)},WAF.DataSourceVar.clone=function(e){var t=this._private,n={binding:t.initialBinding,variableReference:t.varRef,"data-scope":t.scope,"data-source-type":t.sourceType,"data-dataType":t.dataClass.type,dataClass:t.dataClass,id:e},r=WAF.dataSource.create(n);return r},WAF.DataSourceVar._Init=function(e){var t=this.owner;"variableReference"in e&&(this.varRef=e.variableReference),"binding"in e&&(this.varName=e.binding),e["data-scope"]&&(this.scope=e["data-scope"]);var n=e["data-source-type"];n==null&&(n="array"),this.sourceType=n;var r,i=null;if(n=="scalar"){var s=e["data-dataType"];s==null&&(s="string"),r={},r[this.varName]={name:this.varName,type:s},this.dataClass=r,this.varName="window"}else if(e.dataClass!=null)this.dataClass=e.dataClass;else{var o=e["data-attributes"];if(o!=null){r={},i=[];var u=o.split(",");for(var a=0;a<u.length;a++){var f=u[a],l=!1,c=f.split(":");if(c[0]!=""){var h="string";c.length>1&&(h=c[1]),c.length>2&&c[2].toLowerCase()=="key"&&(l=!0);var p={name:c[0],type:h,kind:"storage",isKey:l};i.push(c[0]),r[p.name]=p,l&&(this.keyAtt=p)}}this.dataClass=r}}var d=i==null;r=this.dataClass;if(r!=null){d&&(i=[]);for(var a in r){var v=r[a];v.kind==null&&(v.kind="storage"),this.atts[v.name]=new WAF.DataSourceVarAttribute(v,t),d&&i.push(v.name)}}return this.attNameList=i,this.selCanBeModified=this.sourceType=="array",this.oneElementOnly=this.sourceType!="array",this.selCanBeModified||delete t.addNewElement,this.oneElementOnly&&(delete t.addNewElement,delete t.selectNext,delete t.select,delete t.selectPrevious,delete t.removeCurrent,delete t.removeCurrentReference,delete t.orderBy),"variableReference"in e&&t.sync(),!0},WAF.DataSourceVar._getFullSet=function(){var e=null;return"varRef"in this?e=this.varRef:e=window[this.varName],!this.oneElementOnly&&e==null&&this._setFullSet(e=[]),e},WAF.DataSourceVar._setFullSet=function(e){"varRef"in this?this.varRef=e:window[this.varName]=e},WAF.DataSourceVar._updateValues=function(){var e=this.owner.getCurrentElement();for(var t in this.atts){var n=this.atts[t];n.simple&&(e==null?(this.owner[n.name]=null,n.savedValue=null):(this.owner[n.name]=e[n.name],n.savedValue=e[n.name]))}},WAF.DataSourceVar._setCurrentElementByPos=function(e,t,n){t=t||{},n=n;var r=t.onSuccess,i=t.onError,s={dataSource:this.owner,data:n,userData:n};if(this.owner.getPosition()==e||this.oneElementOnly)e===-1?i&&i(s):r&&r(s);else{var o=!1,u=this._getFullSet();u!=null&&e>=0&&e<u.length&&(o=!0,this.currentElem!=null&&this.owner.dispatch("onBeforeCurrentElementChange",t),this.currentElemPos=e,this.currentElem=u[e],this.currentElem==null&&(this.currentElem={},u[e]=this.currentElem),this._updateValues(),this.owner.dispatch("onCurrentElementChange",t),r!=null&&r(s)),o||(this.currentElem!=null&&this.owner.dispatch("onBeforeCurrentElementChange",t),this.currentElem=null,this.currentElemPos=0,this._updateValues(),this.owner.dispatch("onCurrentElementChange",t),e===-1&&i&&i(s))}},WAF.DataSourceVar.getCurrentElement=function(){return this._private.currentElem},WAF.DataSourceVar.getKey=function(){var e=this._private,t=null,n=e.keyAtt,r=e.currentElem;return n!=null&&r!=null&&(t=r[n.name]),t},WAF.DataSourceVar.getDataClass=function(){return this._private.dataClass},WAF.DataSourceVar.getClassAttributeByName=function(e){var t=this._private.dataClass[e];return t},WAF.DataSourceVar.autoDispatch=function(e){e=e;var t=this.getCurrentElement();if(t!=null)for(varname in this._private.atts){var n=this._private.atts[varname],r=t==null?null:t[n.name];n.savedValue!==r&&(n.savedValue=r,n.dispatch(e))}},WAF.DataSourceVar.addNewElement=function(e,t){t=t;if(this._private.selCanBeModified){var n=this.getCurrentElement();n!=null&&this.dispatch("onBeforeCurrentElementChange",t),this._private._updateValues(),this._private.currentElem={};var r=this._private._getFullSet();r.push(this._private.currentElem),this.length=r.length,this._private.isNewElem=!0,this._private.currentElemPos=r.length-1;if(e!=null)for(var i in e){var s=this.getAttribute(i);s!=null&&!s.readOnly&&(s.simple||s.type=="image")&&s.setValue(e[i],{doNotDispatch:!0})}this._private._updateValues(),this.dispatch("onCollectionChange",t)}},WAF.DataSourceVar.save=function(e,t){var n=WAF.tools.handleArgs(arguments,0);t=n.userData,e=n.options,this.autoDispatch({stopDispatch:!0});var r={dataSource:this,data:t,userData:t},i=e.onSuccess;i!=null&&i(r)},WAF.DataSourceVar.removeCurrent=function(e,t){var n=WAF.tools.handleArgs(arguments,0);t=n.userData,e=n.options;var r=this.getCurrentElement();if(r!=null&&!this._private.oneElementOnly){var i=this.getPosition(),s=this._private._getFullSet();if(s!=null&&i>=0&&i<s.length){s.splice(i,1),this._private.currentElem=null,this._private.currentElemPos=-1;var o={dataSource:this,data:t,userData:t},u=!1;u||(i>=s.length&&(i=s.length-1),this.length=s.length,this.dispatch("onCollectionChange",e),this.select(i)),e.onSuccess!=null&&(u=e.onSuccess(o))}}},WAF.DataSourceVar.removeCurrentReference=function(e,t){var n=WAF.tools.handleArgs(arguments,0);t=n.userData,e=n.options,e.removeReferenceOnly=!0,this.removeCurrent(e,t)},WAF.TextParser=function(e){return this.input=e,this.curpos=0,this.wasInQuotes=!1,this},WAF.TextParser.prototype.isterminator=function(e){return e=="<"||e==">"||e=="="||e=="("||e==")"||e=="#"||e=="&"||e=="^"||e=="|"||e=="%"||e=="!"?!0:!1},WAF.TextParser.prototype.removeextraspace=function(e){var t=!0,n=e.length;while(n>0&&t)e[n-1]==" "?n--:t=!1;return e.substring(0,n)},WAF.TextParser.prototype.nextWord=function(){var e,t="",n=!0,r,i=!1,s=!1,o=!1,u=!1;do if(this.curpos<this.input.length){e=this.input[this.curpos];if(o&&e=="]")this.curpos++,t+=e,e="\0";else if(i&&e=="'")this.curpos++,e="\0";else if(s&&e=='"')this.curpos++,e="\0";else if(!n||e!=" "&&e!="	"&&e!="\n")if(!o&&!i&&!s&&this.isterminator(e))if(n){r=!1,t+=e,this.curpos++,n=!1;if(e=="("||e==")")e="\0"}else r?e="\0":(t+=e,this.curpos++);else n?(e=="["?(o=!0,t+=e):e=="'"?(u=!0,i=!0):e=='"'?(u=!0,s=!0):t+=e,r=!0,this.curpos++,n=!1):r?((e==" "||e=="	"||e=="\n")&&t.length!=0&&!i&&!s&&!o?e="\0":t+=e,this.curpos++):e="\0";else this.curpos++}else e="\0";while(e!=="\0");return this.wasInQuotes=u,u||(t=this.removeextraspace(t)),t},WAF.DataSourceQuery=function(e,t,n){var r=new WAF.TextParser(t),i=this;i.criterias=[];var s;do{s=r.nextWord();if(s.length>0){var o=e.getAttribute(s);if(o!=null){var u=0;s=r.nextWord();if(s.length>0){switch(s.toLowerCase()){case"==":case"=":case"===":case"like":u=this.Operator.equal;break;case"!=":case"!==":case"#":u=this.Operator.notequal;break;case"<":u=this.Operator.less;break;case"<=":u=this.Operator.lessorequal;break;case">":u=this.Operator.greater;break;case">=":u=this.Operator.greaterorequal;break;case"begin":u=this.Operator.begin}s=r.nextWord();if(s.length>0||r.wasInQuotes){i.criterias.push({att:o,oper:u,value:s}),s=r.nextWord();var a=s.toLowerCase();a==="or"||a==="and"||a==="|"||a==="||"||a==="&"||a==="&&"}}}}}while(s.length>0);return i.criterias.forEach(function(e){var t=e.value;if(t.length>1&&t[0]==":"){var r=null,s=Number(t.substring(1));n!=null&&s>0&&s<=n.length&&(r=n[s-1]),e.value=r}else e.value=e.att.normalize(t);if(e.att.type==="string"){var o=e.value;o.length>0&&o[o.length-1]=="*"&&e.oper==i.Operator.equal&&(e.value=o.substring(0,o.length-1),e.oper=i.Operator.begin)}}),i},WAF.DataSourceQuery.prototype.Operator={equal:1,notequal:2,less:3,lessorequal:4,greater:5,greaterorequal:6,begin:7},WAF.DataSourceQuery.prototype.performSingleLineOnOneElement=function(e,t,n){var r=n.att,i=!1,s=t[r.name],o=n.value,u=s;r.type==="string"&&(typeof u=="string"&&(u=u.toLowerCase()),typeof o=="string"&&(o=o.toLowerCase()));if(u!=null)switch(n.oper){case this.Operator.equal:i=u===o;break;case this.Operator.notequal:i=u!==o;break;case this.Operator.less:i=u<o;break;case this.Operator.lessorequal:i=u<=o;break;case this.Operator.greater:i=u>o;break;case this.Operator.greaterorequal:i=u>=o;break;case this.Operator.begin:u=""+u,o=""+o,u.length>=o.length&&(i=u.substring(0,o.length)==o)}else o==null&&n.oper==this.Operator.equal&&(i=!0);return i},WAF.DataSourceQuery.prototype.performOnOneElement=function(e,t){var n=!0,r=this;return r.criterias.forEach(function(i){var s=r.performSingleLineOnOneElement(e,t,i);n=n&&s}),n},WAF.DataSourceVar.selectByKey=function(e,t,n){var r=this,i=this._private,s=WAF.tools.handleArgs(arguments,1);n=s.userData,t=s.options;if(i.keyAtt!=null){var o=i.keyAtt.name,u=-1,a=i._getFullSet();if(a!=null&&e!=null){var f=a.length;for(var l=0;l<f&&u==-1;++l){var c=a[l],h=c[o];h==e&&(u=l)}}i._setCurrentElementByPos(u,t,n)}},WAF.DataSourceVar.getElementByKey=function(e,t,n){var r=this,i=this._private,s=WAF.tools.handleArgs(arguments,1);n=s.userData,t=s.options;if(i.keyAtt!=null){var o=i.keyAtt.name,u=-1,a=i._getFullSet();if(a!=null&&e!=null){var f=a.length;for(var l=0;l<f&&u==-1;++l){var c=a[l],h=c[o];h==e&&(u=l)}}r.getElement(u,t,n)}},WAF.DataSourceVar.getValues=function(t,n,r){var i={};r!=null&&r.params==null&&(i.queryParams=!0);var s=WAF.tools.handleArgs(arguments,2,i);userData=s.userData,r=s.options;var o=r.onSuccess,u=r.onError,a=this,f=a._private,l=new WAF.DataSourceQuery(a,n,r.params),c=[],h=!1;t==null||t==""?h=!0:c=t.split(",");var p=[],d={dataSource:a,result:p},v=f._getFullSet();if(v!=null){var m=r.top==null?v.length:r.top,g=r.skip||0,y=0;v.forEach(function(t,n){if(l.performOnOneElement(a,t)){++y;if(y>g&&p.length<m){var r={};if(h)for(e in t)r[e]=t[e];else c.forEach(function(e){r[e]=t[e]});p.push(r)}}});var b=r.orderby;b==null&&(b=r.orderBy);if(b!=null&&b!==""){var c=b.split(","),t=[];c.forEach(function(e){var n=!0,r=e.split(" ");r.length>1&&(n=r[1].toLowerCase()!="desc"),t.push({name:r[0],ascending:n})}),p.sort(function(e,n){var r=0;for(var i=0;i<t.length&&r==0;++i){att=t[i];var s=e[att.name],o=n[att.name];s!=o&&(att.ascending?s<o?r=-1:r=1:s<o?r=1:r=-1)}return r})}o!=null&&o(d)}else u!=null&&(d.error={error:602,errorMessage:"missing Collection"},u(d))},WAF.DataSourceVar.query=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1,{queryParams:!0});n=r.userData,t=r.options;var i=this,s=this._private,o=t.onSuccess,u={dataSource:this},a=new WAF.DataSourceQuery(this,e,t.params),f=[],l=s._getFullSet();l!=null&&l.forEach(function(e){a.performOnOneElement(i,e)&&f.push(e)});if(t.destinationDataSource!=null){var c=WAF.dataSource.findOrDuplicate(i,t.destinationDataSource,f);u.dataSource=c,c!=null&&(c._private._setFullSet(f),c.sync())}else s._setFullSet(f),i.sync();o!=null&&o(u)},WAF.DataSourceVar.filterQuery=WAF.DataSourceVar.query,WAF.DataSourceVar.orderBy=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1);n=r.userData,t=r.options;var i=this,s=this._private,o=s._getFullSet();if(o!=null){var u=e.split(","),a=[];u.forEach(function(e){var t=!0,n=e.split(" ");n.length>1&&(t=n[1].toLowerCase()!="desc"),a.push({name:n[0],ascending:t})}),o.sort(function(e,t){var n=0;for(var r=0;r<a.length&&n==0;++r){att=a[r];var i=e[att.name],s=t[att.name];i!=s&&(att.ascending?i<s?n=-1:n=1:i<s?n=1:n=-1)}return n}),s.currentElem=null,s.currentElemPos=-1,i.length=o.length,i.dispatch("onCollectionChange",t),o.length>0&&i.select(0);var f={dataSource:this,data:n,userData:n};t.onSuccess!=null&&t.onSuccess(f)}var l=this.getSelection();l!=null&&t.keepSelection===undefined&&(t.keepSelection=l.prepareToSend());var c=this._private.entityCollection;if(c!=null){var h={onSuccess:this._private._gotEntityCollection,onError:this._private._gotEntityCollection,persistOnServer:!0,pageSize:40,filterAttributes:this._private._getFilterAttributes(),autoExpand:this._private._getAutoExpand()};h=this._private._mixOptions(t,h);var p={type:"getEntityCollection",dataSource:this,mustPublish:!0,options:t,userData:n};c.orderBy(e,h,p)}},WAF.DataSourceVar.resolveSource=function(e,t){var n=WAF.tools.handleArgs(arguments,0);t=n.userData,e=n.options;switch(this._private.sourceType){case"scalar":case"object":this.length=1,this._private.currentElem=this._private._getFullSet(),this._private.currentElemPos=0,this.dispatch("onCurrentElementChange",e),this._private._updateValues();break;case"array":var r=this._private._getFullSet();this._private.currentElem=null,this._private.currentElemPos=-1,r!=null&&(this.length=r.length,this.dispatch("onCollectionChange",e),r.length>0&&this.select(0))}},WAF.DataSourceVar.mustResolveOnFirstLevel=function(){return!0},WAF.DataSourceVar.getClassTitle=function(){return this._private.varName},WAF.DataSourceVar.getAttributeNames=function(){return this._private.attNameList},WAF.DataSourceVar.getElements=function(e,t,n,r){var i=WAF.tools.handleArgs(arguments,2);r=i.userData,n=i.options;var s=n.onSuccess,o=n.onError,u=this._private,a=this,f={elements:[],position:e,howMany:t,dataSource:this};f.result=f.elements,r!=null&&(f.data=r,f.userData=r);var l=this._private._getFullSet();if(l!=null){e<0&&(e=0),e+t>l.length&&(t=l.length-e,t<0&&(t=0));if(t>0){var c=a._private.atts;for(var h=e;h<e+t;++h){var p=l[h],d={};for(var v in c)d[v]=p[v];d._private={},d._private.currentElem=d,d._private.keyAtt=a._private.keyAtt,d.getAttributeValue=a.getAttributeValue,d.getKey=a.getKey,f.elements.push(d)}}s!=null&&s(f)}else f.error={error:602,errorMessage:"missing Collection"},o!=null&&o(f)},WAF.DataSourceVar.getElement=function(e,t,n){var r=WAF.tools.handleArgs(arguments,1);n=r.userData,t=r.options;var i=t.onSuccess,s={element:null,result:null,position:e,dataSource:this};n!=null&&(s.data=n,s.userData=n);if(this.getPosition()==e||this._private.oneElementOnly){if(i!=null){var o={},u=this._private.atts;for(var a in u)o[a]=this[a];o._private={},o._private.currentElem=o,o._private.keyAtt=this._private.keyAtt,o.getAttributeValue=this.getAttributeValue,o.getKey=this.getKey,s.element=o,s.result=o,i(s)}}else{var f=!1,l=this._private._getFullSet();if(l!=null&&e>=0&&e<l.length){f=!0;var c=l[e];if(c!=null){var o={},u=this._private.atts;for(var a in u)o[a]=c[a];o.getAttributeValue=this.getAttributeValue,o._private={},o._private.currentElem=o,s.element=o,s.result=o}i(s)}f||i!=null&&i(s)}},WAF.DataSourceVar.getOldAttributeValue=function(e,t){return this.getAttributeValue(e,t||null)},WAF.DataSourceVar.getAttributeValue=function(e,t){t=t||{};var n=null,r=null;if(this._private!=null)var r=this._private.currentElem;if(r!=null){var i=e.split("."),s=i.length;for(var o=0;o<s;o++){var u=i[o],a=r[u];if(a==null)break;n=a,r=a}}return n},WAF.DataSourceVar.setAttributeValue=function(e,t,n){n=n;var r=this.getAttribute(e);r!=null&&r.setValue(t,n)},WAF.DataSourceVar.sync=function(e){e=e;if(this._private.oneElementOnly){var t=this.getCurrentElement();t!=null&&this.dispatch("onBeforeCurrentElementChange",e),this.length=1,this._private.currentElem=this._private._getFullSet(),this._private.currentElemPos=0,this.dispatch("onCurrentElementChange",e),this._private._updateValues()}else{var n=this._private.currentElemPos,r=this._private._getFullSet();r!=null&&(this.length=r.length,n<0&&(n=0),n>=r.length&&(n=r.length-1),this._private.currentElemPos=n,n>=0?(this._private.currentElem=r[n],this._private.currentElem==null&&(this._private.currentElem={},r[n]=this._private.currentElem)):this._private.currentElem=null,this._private._updateValues(),this.dispatch("onCollectionChange",e))}},WAF.dataSource={list:{},create:function(e){var t=e["data-source-type"],n=e.binding;return n!=null&&n.indexOf("#")==0&&(t="scalar",e["data-source-type"]=t,n=n.substring(1),e.binding=n),t=="scalar"||t=="object"||t=="array"?WAF.source[e.id]=new WAF.DataSourceVar(e):WAF.source[e.id]=new WAF.DataSourceEm(e),WAF.dataSource.list[e.id]=WAF.source[e.id],WAF.source[e.id]},findOrDuplicate:function(e,t,n){var r=e._private,i=null;if(typeof t=="string"){var s=t;i=WAF.source[s];if(i==null){var o={id:s,"data-source-type":r.sourceType,"data-autoLoad":!1};if(n instanceof WAF.EntityCollection)o.binding=n.getDataClass().getName();else{o.binding=s+"_dataArray";var u=r.dataClass,a=[];for(var f in u){var l=u[f];a.push(l.name+":"+l.type)}o["data-attributes"]=a.join(",")}i=WAF.dataSource.create(o)}}else i=t;return i},destroy:function(e){var t=e._private.id;delete WAF.source[t],delete WAF.dataSource.list[t]},solveBinding:function(e){var t,n="",r=null,i=null,s=null,o=e.split(".");o.length==2?(t=o[0],n=o[1],r=WAF.source[t]):o.length>2?(t=o[0],n=o.slice(1).join("."),r=WAF.source[t]):(t=e,r=WAF.source[t]);if(r!=null){if(n=="")for(var u in r._private.atts){i=r._private.atts[u],n=i.name;break}else i=r.getAttribute(n);i!=null&&(s=r.getClassAttributeByName(n))}return{dataSource:r,sourceName:t,sourceAtt:i,attName:n,dataClassAtt:s}},fullyInitAllSources:function(){var e=!0;while(e){e=!1;var t=this.list;for(var n in t){var r=t[n];r._private.needForInit!=null&&r._private._Init(r._private.needForInit)&&(e=!0)}}}},WAF.DataSourceEm.prototype.remove=function(){this.removeCurrent()},WAF.DataSourceEm.prototype.next=function(){this.selectNext()},WAF.DataSourceEm.prototype.previous=function(){this.selectPrevious()},WAF.DataSourceEm.prototype.first=function(){this.select(0)},WAF.DataSourceEm.prototype.last=function(){var e=this._private.entityCollection.length;this.select(parseInt(e-1))},WAF.DataSourceEm.prototype.create=function(e){this.addNewElement(e)};

/** minified js  - from ../walib/WAF/DataSource/Selection.js */

WAF.Selection=function(t,n){function l(e){var t;if(arguments.length>0)for(var n=0,r=s.length;n<r;++n){t=s[n];if(e>=t.start&&e<=t.end)return o.indexOf(e)<0}return!1}function c(e,t){return typeof e=="undefined"||e===null?t:e}function h(e){var t=-1;if(e.length>0)do t=e.indexOf(null),t>-1&&e.splice(t,1);while(t>-1)}function p(){var e=-1,t,n,r,u,a,f,l,c;h(o),h(i),l=s.length;if(l>1){s.sort(function(e,t){return e.start-t.start}),t=[],e=0;do{e<l&&(n=s[e]),u=n.start,a=n.end,f=!0;do++e,e<l?r=s[e]:r=null,r!==null&&r.start<=a?a=a>r.end?a:r.end:(f=!1,--e);while(f&&e<l&&r!==null);t.push({start:u,end:a}),++e}while(e<l);s=t}if(s.length>0){for(var p=0,l=i.length;p<l;++p){c=i[p];for(var d=0,v=s.length;d<v;++d)n=s[d],c>=n.start&&c<=n.end&&(i[p]=null)}h(i)}}function d(){i=[],s=[],o=[]}var r="multiple",i=[],s=[],o=[],u=!0,a=!1,f=!1;this.prepareToSend=function(){p();var e={_mode:a?"single":"multiple",_rows:i,_ranges:s,_butRows:o};return e},this.getMode=function(){return r},this.isModeMultiple=function(){return u},this.isModeSingle=function(){return a},this.isModeNone=function(){return f},this.reset=function(e){typeof e!="string"&&(e=r),u=!1,a=!1,f=!1;switch(e){case"single":a=!0,r=e;break;case"none":f=!1,r=e;break;default:u=!0,r="multiple"}return d(),this},this.isSelected=function(e){if(!f&&arguments.length>0){if(!a)return i.indexOf(e)>-1?o.indexOf(e)<0:l(e);if(i.length>0)return i[0]===e}return!1},this.select=function(e,t){var n;return!f&&arguments.length>0&&e>=0&&(a?i[0]=e:t?(n=o.indexOf(e),n>-1&&(o[n]=null),!l(e)&&i.indexOf(e)<0&&i.push(e)):(d(),i[0]=e)),this},this.selectRange=function(e,t,n){var r,u,l,c;if(!f){n||d();if(e>=0&&t>=0){e>t&&(c=e,t=e,t=c);if(a)i[0]=e;else{r=t-e+1,u=o.length,s.push({start:e,end:t});if(r<u)for(var h=e;h<=t;++h)l=o.indexOf(h),l>-1&&(o[h]=null);else for(var h=0;h<u;++h)c=o[h],c>=e&&c<=t&&(o[h]=null)}}}return this},this.toggle=function(e){var t=-1,n=-1,r;return!f&&arguments.length>0&&e>=0&&(a?i.length>0?i=[]:i[0]=e:(n=i.indexOf(e),t=o.indexOf(e),t>-1?(o[t]=null,n<0&&i.push(e)):(r=!0,n>-1&&(i[n]=null,r=!1),l(e)&&(o.push(e),r=!1),r&&i.push(e)))),this},this.countSelected=function(){var e=0,t;if(!f)if(a)i.length>0&&(e=1);else{p(),e=i.length;for(var n=0,r=s.length;n<r;++n)t=s[n],e+=t.end-t.start+1;e-=o.length}return e},this.getSelectedRows=function(){var e=[],t,n,r;if(!f)if(a)i.length>0&&(e[0]=i[0]);else{p(),n=0;for(var u=0,l=i.length;u<l;++u)e[n++]=i[u];for(var u=0,c=s.length;u<c;++u){t=s[u];for(var d=t.start,l=t.end;d<=l;++d)e[n++]=d}for(var u=0,l=o.length;u<l;++u)r=e.indexOf(o[u]),r>-1&&(e[r]=null);h(e)}return e},this.setSelectedRows=function(e){d();var t=-1,n,r,o;if(!f)if(a)e.length>0&&(t=e[0],i.push(t));else{e.sort(function(e,t){return e==t?0:e<t?-1:1});var u=null,l=null;function c(e){if(u==null)u=e;else if(l+1!==e){var t=l;t===u?i.push(u):s.push({start:u,end:t}),u=e}l=e}e.length>0&&(t=e[0]),e.forEach(c),c(null)}return t},this.getFirst=function(){var e=-1,t=-1;return i.length>0&&(e=i[0]),s.length>0&&(t=s[0].start),e==-1?t==-1?0:t:t==-1?e:e>t?t:e},this.getNext=function(){},this.buildFromObject=function(e){this.reset(e.mode),e.rows!=null&&(i=e.rows),e.butRows!=null&&(o=e.butRows),e.ranges!=null&&(s=e.ranges)},this.toString=function(){return this.getSelectedRows().join()},typeof t=="object"&&t.mode!=null?this.buildFromObject(t):this.reset(t),n!=null&&i.push(n)};

/** minified js  - from ../walib/WAF/DataSource/ErrorHandling.js */

WAF.ErrorManager={defaultErrorDiv:null,dialogAlreadyOpened:!1},WAF.ErrorManager.displayError=function(e,t,n){function r(e){e.message!=null&&(s+='<tr class="waf-error-div-table-row">',s+='<td class="waf-error-div-table-message">',s+=e.message,s+="</td>",s+='<td class="waf-error-div-table-errnum">',e.errCode!=null&&(s+=e.errCode),s+="</td>",s+='<td class="waf-error-div-table-component">',e.componentSignature!=null&&(s+=e.componentSignature),s+="</td>",s+="</tr>")}var i=!1,s="";t==null&&(t=this.getDefaultErrorDiv(),i=!0);var o=e.error;if(o==null)t.html(""),i&&t.dialog("close");else{t.addClass("waf-error-div"),t.addClass("waf-widget"),s+='<div class="waf-error-div-body waf-widget-body">',e.message!=null&&(s+='<div class="waf-error-div-message-outside">',s+='<div class="waf-error-div-message-inside">',s+=e.message,s+="</div>",s+="</div>"),s+='<table class="waf-error-div-table">',s+='<tbody class="waf-error-div-table-body">',o.length==null&&(o=[o]),o.forEach(r),s+="</tbody>",s+="</table>",s+="</div>",t.html(s);if(i)if(!this.dialogAlreadyOpened){this.dialogAlreadyOpened=!0,t.dialog(n);var u=$("body").data("theme");u!=null&&(t.dialog("widget").addClass(u),t.addClass(u))}else t.dialog("open")}},WAF.ErrorManager.getDefaultErrorDiv=function(){return this.defaultErrorDiv==null&&(this.defaultErrorDiv=$('<div class="waf-error-div waf-widget"></div>').appendTo($("body"))),this.defaultErrorDiv};

/** minified js  - from ../walib/WAF/widget/calendar/js/datepicker.js */

(function(e){var t=function(){var t={},n={years:"datepickerViewYears",moths:"datepickerViewMonths",days:"datepickerViewDays"},r={wrapper:'<div class="datepicker"><div class="datepickerBorderT" /><div class="datepickerBorderB" /><div class="datepickerBorderL" /><div class="datepickerBorderR" /><div class="datepickerBorderTL" /><div class="datepickerBorderTR" /><div class="datepickerBorderBL" /><div class="datepickerBorderBR" /><div class="datepickerContainer"><table cellspacing="0" cellpadding="0"><tbody><tr></tr></tbody></table></div></div>',head:["<td>",'<table cellspacing="0" cellpadding="0">',"<thead>",'<tr class="datepickerHeader">','<th class="datepickerGoPrev"><a href="#"><span><%=prev%></span></a></th>','<th colspan="6" class="datepickerMonth"><a href="#"><span></span></a></th>','<th class="datepickerGoNext"><a href="#"><span><%=next%></span></a></th>',"</tr>",'<tr class="datepickerDoW">',"<th><span><%=week%></span></th>","<th><span><%=day1%></span></th>","<th><span><%=day2%></span></th>","<th><span><%=day3%></span></th>","<th><span><%=day4%></span></th>","<th><span><%=day5%></span></th>","<th><span><%=day6%></span></th>","<th><span><%=day7%></span></th>","</tr>","</thead>","</table></td>"],space:'<td class="datepickerSpace"><div></div></td>',days:['<tbody class="datepickerDays">',"<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[0].week%></span></a></th>','<td class="<%=weeks[0].days[0].classname%>"><a href="#"><span><%=weeks[0].days[0].text%></span></a></td>','<td class="<%=weeks[0].days[1].classname%>"><a href="#"><span><%=weeks[0].days[1].text%></span></a></td>','<td class="<%=weeks[0].days[2].classname%>"><a href="#"><span><%=weeks[0].days[2].text%></span></a></td>','<td class="<%=weeks[0].days[3].classname%>"><a href="#"><span><%=weeks[0].days[3].text%></span></a></td>','<td class="<%=weeks[0].days[4].classname%>"><a href="#"><span><%=weeks[0].days[4].text%></span></a></td>','<td class="<%=weeks[0].days[5].classname%>"><a href="#"><span><%=weeks[0].days[5].text%></span></a></td>','<td class="<%=weeks[0].days[6].classname%>"><a href="#"><span><%=weeks[0].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[1].week%></span></a></th>','<td class="<%=weeks[1].days[0].classname%>"><a href="#"><span><%=weeks[1].days[0].text%></span></a></td>','<td class="<%=weeks[1].days[1].classname%>"><a href="#"><span><%=weeks[1].days[1].text%></span></a></td>','<td class="<%=weeks[1].days[2].classname%>"><a href="#"><span><%=weeks[1].days[2].text%></span></a></td>','<td class="<%=weeks[1].days[3].classname%>"><a href="#"><span><%=weeks[1].days[3].text%></span></a></td>','<td class="<%=weeks[1].days[4].classname%>"><a href="#"><span><%=weeks[1].days[4].text%></span></a></td>','<td class="<%=weeks[1].days[5].classname%>"><a href="#"><span><%=weeks[1].days[5].text%></span></a></td>','<td class="<%=weeks[1].days[6].classname%>"><a href="#"><span><%=weeks[1].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[2].week%></span></a></th>','<td class="<%=weeks[2].days[0].classname%>"><a href="#"><span><%=weeks[2].days[0].text%></span></a></td>','<td class="<%=weeks[2].days[1].classname%>"><a href="#"><span><%=weeks[2].days[1].text%></span></a></td>','<td class="<%=weeks[2].days[2].classname%>"><a href="#"><span><%=weeks[2].days[2].text%></span></a></td>','<td class="<%=weeks[2].days[3].classname%>"><a href="#"><span><%=weeks[2].days[3].text%></span></a></td>','<td class="<%=weeks[2].days[4].classname%>"><a href="#"><span><%=weeks[2].days[4].text%></span></a></td>','<td class="<%=weeks[2].days[5].classname%>"><a href="#"><span><%=weeks[2].days[5].text%></span></a></td>','<td class="<%=weeks[2].days[6].classname%>"><a href="#"><span><%=weeks[2].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[3].week%></span></a></th>','<td class="<%=weeks[3].days[0].classname%>"><a href="#"><span><%=weeks[3].days[0].text%></span></a></td>','<td class="<%=weeks[3].days[1].classname%>"><a href="#"><span><%=weeks[3].days[1].text%></span></a></td>','<td class="<%=weeks[3].days[2].classname%>"><a href="#"><span><%=weeks[3].days[2].text%></span></a></td>','<td class="<%=weeks[3].days[3].classname%>"><a href="#"><span><%=weeks[3].days[3].text%></span></a></td>','<td class="<%=weeks[3].days[4].classname%>"><a href="#"><span><%=weeks[3].days[4].text%></span></a></td>','<td class="<%=weeks[3].days[5].classname%>"><a href="#"><span><%=weeks[3].days[5].text%></span></a></td>','<td class="<%=weeks[3].days[6].classname%>"><a href="#"><span><%=weeks[3].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[4].week%></span></a></th>','<td class="<%=weeks[4].days[0].classname%>"><a href="#"><span><%=weeks[4].days[0].text%></span></a></td>','<td class="<%=weeks[4].days[1].classname%>"><a href="#"><span><%=weeks[4].days[1].text%></span></a></td>','<td class="<%=weeks[4].days[2].classname%>"><a href="#"><span><%=weeks[4].days[2].text%></span></a></td>','<td class="<%=weeks[4].days[3].classname%>"><a href="#"><span><%=weeks[4].days[3].text%></span></a></td>','<td class="<%=weeks[4].days[4].classname%>"><a href="#"><span><%=weeks[4].days[4].text%></span></a></td>','<td class="<%=weeks[4].days[5].classname%>"><a href="#"><span><%=weeks[4].days[5].text%></span></a></td>','<td class="<%=weeks[4].days[6].classname%>"><a href="#"><span><%=weeks[4].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[5].week%></span></a></th>','<td class="<%=weeks[5].days[0].classname%>"><a href="#"><span><%=weeks[5].days[0].text%></span></a></td>','<td class="<%=weeks[5].days[1].classname%>"><a href="#"><span><%=weeks[5].days[1].text%></span></a></td>','<td class="<%=weeks[5].days[2].classname%>"><a href="#"><span><%=weeks[5].days[2].text%></span></a></td>','<td class="<%=weeks[5].days[3].classname%>"><a href="#"><span><%=weeks[5].days[3].text%></span></a></td>','<td class="<%=weeks[5].days[4].classname%>"><a href="#"><span><%=weeks[5].days[4].text%></span></a></td>','<td class="<%=weeks[5].days[5].classname%>"><a href="#"><span><%=weeks[5].days[5].text%></span></a></td>','<td class="<%=weeks[5].days[6].classname%>"><a href="#"><span><%=weeks[5].days[6].text%></span></a></td>',"</tr>","</tbody>"],months:['<tbody class="<%=className%>">',"<tr>",'<td colspan="2"><a href="#"><span><%=data[0]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[1]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[2]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[3]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[4]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[5]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[6]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[7]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[8]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[9]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[10]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[11]%></span></a></td>',"</tr>","</tbody>"]},i={flat:!1,starts:1,prev:"&#9664;",next:"&#9654;",lastSel:!1,mode:"single",view:"days",calendars:1,format:"Y-m-d",position:"bottom",eventName:"click",onRender:function(){return{}},onChange:function(){return!0},onShow:function(){return!0},onBeforeShow:function(){return!0},onHide:function(){return!0},locale:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekMin:"wk"}},s=function(t){var n=e(t).data("datepicker"),i=e(t),s=Math.floor(n.calendars/2),o,a,f,l,c=0,h,p,d,v,m,g;i.find("td>table tbody").remove();for(var y=0;y<n.calendars;y++){o=new Date(n.current),o.addMonths(-s+y),g=i.find("table").eq(y+1);switch(g[0].className){case"datepickerViewDays":f=u(o,"MM yy");break;case"datepickerViewMonths":f=o.getFullYear();break;case"datepickerViewYears":f=o.getFullYear()-6+" - "+(o.getFullYear()+5)}g.find("thead tr:first th:eq(1) span").text(f),f=o.getFullYear()-6,a={data:[],className:"datepickerYears"};for(var b=0;b<12;b++)a.data.push(f+b);m=tmpl(r.months.join(""),a),o.setDate(1),a={weeks:[],test:10},l=o.getMonth();var f=(o.getDay()-n.starts)%7;o.addDays(-(f+(f<0?7:0))),h=-1,c=0;while(c<42){d=parseInt(c/7,10),v=c%7,a.weeks[d]||(h=o.getWeekNumber(),a.weeks[d]={week:h,days:[]}),a.weeks[d].days[v]={text:o.getDate(),classname:[]},l!=o.getMonth()?a.weeks[d].days[v].classname.push("datepickerNotInMonth"):a.weeks[d].days[v].classname.push("datepickerInMonth"),o.getDay()==0&&a.weeks[d].days[v].classname.push("datepickerSunday"),o.getDay()==6&&a.weeks[d].days[v].classname.push("datepickerSaturday");var w=n.onRender(o),E=o.valueOf();(w.selected||n.date==E||e.inArray(E,n.date)>-1||n.mode=="range"&&E>=n.date[0]&&E<=n.date[1])&&a.weeks[d].days[v].classname.push("datepickerSelected"),w.disabled&&a.weeks[d].days[v].classname.push("datepickerDisabled"),w.className&&a.weeks[d].days[v].classname.push(w.className),a.weeks[d].days[v].classname=a.weeks[d].days[v].classname.join(" "),c++,o.addDays(1)}m=tmpl(r.days.join(""),a)+m,a={data:n.locale.monthsShort,className:"datepickerMonths"},m=tmpl(r.months.join(""),a)+m,g.append(m)}},o=function(e,t){if(e.constructor==Date)return new Date(e);var n=e.split(/\W+/),r=t.split(/\W+/),i,s,o,u,a,f=new Date;for(var l=0;l<n.length;l++)switch(r[l].toLowerCase()){case"d":case"dd":case"e":i=parseInt(n[l],10);break;case"m":case"mm":s=parseInt(n[l],10)-1;break;case"yy":case"y":o=parseInt(n[l],10),o+=o>100?0:o<29?2e3:1900;break;case"h":case"i":case"k":case"l":u=parseInt(n[l],10);break;case"p":/pm/i.test(n[l])&&u<12?u+=12:/am/i.test(n[l])&&u>=12&&(u-=12);break;case"min":a=parseInt(n[l],10)}return new Date(o===undefined?f.getFullYear():o,s===undefined?f.getMonth():s,i===undefined?f.getDate():i,u===undefined?f.getHours():u,a===undefined?f.getMinutes():a,0)},u=function(t,n){return n=n?n:"",e.datepicker.formatDate(n,t)},a=function(e){if(Date.prototype.tempDate)return;Date.prototype.tempDate=null,Date.prototype.months=e.months,Date.prototype.monthsShort=e.monthsShort,Date.prototype.days=e.days,Date.prototype.daysShort=e.daysShort,Date.prototype.getMonthName=function(e){return this[e?"months":"monthsShort"][this.getMonth()]},Date.prototype.getDayName=function(e){return this[e?"days":"daysShort"][this.getDay()]},Date.prototype.addDays=function(e){this.setDate(this.getDate()+e),this.tempDate=this.getDate()},Date.prototype.addMonths=function(e){this.tempDate==null&&(this.tempDate=this.getDate()),this.setDate(1),this.setMonth(this.getMonth()+e),this.setDate(Math.min(this.tempDate,this.getMaxDays()))},Date.prototype.addYears=function(e){this.tempDate==null&&(this.tempDate=this.getDate()),this.setDate(1),this.setFullYear(this.getFullYear()+e),this.setDate(Math.min(this.tempDate,this.getMaxDays()))},Date.prototype.getMaxDays=function(){var e=new Date(Date.parse(this)),t=28,n;n=e.getMonth(),t=28;while(e.getMonth()==n)t++,e.setDate(t);return t-1},Date.prototype.getFirstDay=function(){var e=new Date(Date.parse(this));return e.setDate(1),e.getDay()},Date.prototype.getWeekNumber=function(){var e=new Date(this);e.setDate(e.getDate()-(e.getDay()+6)%7+3);var t=e.valueOf();return e.setMonth(0),e.setDate(4),Math.round((t-e.valueOf())/6048e5)+1},Date.prototype.getDayOfYear=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0),t=new Date(this.getFullYear(),0,0,0,0,0),n=e-t;return Math.floor(n/24*60*60*1e3)}},f=function(t){var n=e(t).data("datepicker"),r=e("#"+n.id);if(!n.extraHeight){var i=e(t).find("div");n.extraHeight=i.get(0).offsetHeight+i.get(1).offsetHeight,n.extraWidth=i.get(2).offsetWidth+i.get(3).offsetWidth}var s=r.find("table:first").get(0),o=s.offsetWidth,u=s.offsetHeight;r.css({width:o+n.extraWidth+"px",height:u+n.extraHeight+"px"}).find("div.datepickerContainer").css({width:o+"px",height:u+"px"})},l=function(t){e(t.target).is("span")&&(t.target=t.target.parentNode);var n=e(t.target);if(n.is("a")){if(n.hasClass("datepickerDisabled"))return!1;var r=e(this).data("datepicker"),i=n.parent(),o=i.parent().parent().parent(),a=e("table",this).index(o.get(0))-1,f=new Date(r.current),l=!1,h=!1;if(i.is("th")){if(i.hasClass("datepickerWeek")&&r.mode=="range"&&!i.next().hasClass("datepickerDisabled")){var p=parseInt(i.next().text(),10);f.addMonths(a-Math.floor(r.calendars/2)),i.next().hasClass("datepickerNotInMonth")&&f.addMonths(p>15?-1:1),f.setDate(p),r.date[0]=f.setHours(0,0,0,0).valueOf(),f.setHours(23,59,59,0),f.addDays(6),r.date[1]=f.valueOf(),h=!0,l=!0,r.lastSel=!1}else if(i.hasClass("datepickerMonth")){f.addMonths(a-Math.floor(r.calendars/2));switch(o.get(0).className){case"datepickerViewDays":o.get(0).className="datepickerViewMonths",n.find("span").text(f.getFullYear());break;case"datepickerViewMonths":o.get(0).className="datepickerViewYears",n.find("span").text(f.getFullYear()-6+" - "+(f.getFullYear()+5));break;case"datepickerViewYears":o.get(0).className="datepickerViewDays",n.find("span").text(u(f,"MM yy"))}r.onViewChange&&(t.currentView=o.get(0).className,r.onViewChange(t))}else if(i.parent().parent().is("thead")){switch(o.get(0).className){case"datepickerViewDays":r.current.addMonths(i.hasClass("datepickerGoPrev")?-1:1);break;case"datepickerViewMonths":r.current.addYears(i.hasClass("datepickerGoPrev")?-1:1);break;case"datepickerViewYears":r.current.addYears(i.hasClass("datepickerGoPrev")?-12:12)}h=!0}}else if(i.is("td")&&!i.hasClass("datepickerDisabled")){switch(o.get(0).className){case"datepickerViewMonths":r.current.setMonth(o.find("tbody.datepickerMonths td").index(i)),r.current.setFullYear(parseInt(o.find("thead th.datepickerMonth span").text(),10)),r.current.addMonths(Math.floor(r.calendars/2)-a),o.get(0).className="datepickerViewDays";break;case"datepickerViewYears":r.current.setFullYear(parseInt(n.text(),10)),o.get(0).className="datepickerViewMonths";break;default:var p=parseInt(n.text(),10);f.addMonths(a-Math.floor(r.calendars/2)),i.hasClass("datepickerNotInMonth")&&f.addMonths(p>15?-1:1),f.setDate(p);switch(r.mode){case"multiple":p=f.setHours(0,0,0,0).valueOf(),e.inArray(p,r.date)>-1?e.each(r.date,function(e,t){if(t==p)return r.date.splice(e,1),!1}):r.date.push(p);break;case"range":r.lastSel||(r.date[0]=f.setHours(0,0,0,0).valueOf()),p=f.setHours(23,59,59,0).valueOf(),p<r.date[0]?(r.date[1]=r.date[0]+86399e3,r.date[0]=p-86399e3):r.date[1]=p,r.lastSel=!r.lastSel;break;default:r.date=f.valueOf()}}h=!0,l=!0}h&&s(this),l&&r.onChange.apply(this,c(r))}},c=function(t){var n;return t.date==null?[null,null,t.el]:t.mode=="single"?(n=new Date(t.date),[u(n,t.format),n,t.el]):(n=[[],[],t.el],e.each(t.date,function(e,r){var i=new Date(r);n[0].push(u(i,t.format)),n[1].push(i)}),n)},h=function(){var e=document.compatMode=="CSS1Compat";return{l:window.pageXOffset||(e?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(e?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(e?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(e?document.documentElement.clientHeight:document.body.clientHeight)}},p=function(e,t,n){if(e==t)return!0;if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return!!(e.compareDocumentPosition(t)&16);var r=t.parentNode;while(r&&r!=n){if(r==e)return!0;r=r.parentNode}return!1},d=function(t){var n=e("#"+e(this).data("datepickerId"));if(!n.is(":visible")){var r=n.get(0);s(r);var i=n.data("datepicker");i.onBeforeShow.apply(this,[n.get(0)]);var o=e(this).offset(),u=h(),a=o.top,l=o.left,c=e.curCSS(r,"display");n.css({visibility:"hidden",display:"block"}),f(r);switch(i.position){case"top":a-=r.offsetHeight;break;case"left":l-=r.offsetWidth;break;case"right":l+=this.offsetWidth;break;case"bottom":a+=this.offsetHeight}a+r.offsetHeight>u.t+u.h&&(a=o.top-r.offsetHeight),a<u.t&&(a=o.top+this.offsetHeight+r.offsetHeight),l+r.offsetWidth>u.l+u.w&&(l=o.left-r.offsetWidth),l<u.l&&(l=o.left+this.offsetWidth),n.css({visibility:"visible",display:"block",top:a+"px",left:l+"px"}),i.onShow.apply(this,[n.get(0)])!=0&&n.show(),e(document).bind("mousedown",{cal:n,trigger:this},v)}return!1},v=function(t){t.target!=t.data.trigger&&!p(t.data.cal.get(0),t.target,t.data.cal.get(0))&&(t.data.cal.data("datepicker").onHide.apply(this,[t.data.cal.get(0)])!=0&&t.data.cal.hide(),e(document).unbind("mousedown",v))};return{parseDate:function(e,t){return o(e,t)},init:function(t){return t=e.extend({},i,t||{}),a(t.locale),t.calendars=Math.max(1,parseInt(t.calendars,10)||1),t.mode=/single|multiple|range/.test(t.mode)?t.mode:"single",this.each(function(){if(!e(this).data("datepicker")){t.el=this,t.date.constructor==String&&(t.date=o(t.date,t.format),t.date.setHours(0,0,0,0));if(t.mode!="single")if(t.date.constructor!=Array)t.date=[t.date.valueOf()],t.mode=="range"&&t.date.push((new Date(t.date[0])).setHours(23,59,59,0).valueOf());else{for(var i=0;i<t.date.length;i++)t.date[i]=o(t.date[i],t.format).setHours(0,0,0,0).valueOf();t.mode=="range"&&(t.date[1]=(new Date(t.date[1])).setHours(23,59,59,0).valueOf())}else t.date=t.date.valueOf();t.current?t.current=o(t.current,t.format):t.current=new Date,t.current.setDate(1),t.current.setHours(0,0,0,0);var u="datepicker_"+parseInt(Math.random()*1e3),a;t.id=u,e(this).data("datepickerId",t.id);var c=e(r.wrapper).attr("id",u).bind("click",l).data("datepicker",t);t.className&&c.addClass(t.className);var h="";for(var i=0;i<t.calendars;i++)a=t.starts,i>0&&(h+=r.space),h+=tmpl(r.head.join(""),{week:t.locale.weekMin,prev:t.prev,next:t.next,day1:t.locale.daysMin[a++%7],day2:t.locale.daysMin[a++%7],day3:t.locale.daysMin[a++%7],day4:t.locale.daysMin[a++%7],day5:t.locale.daysMin[a++%7],day6:t.locale.daysMin[a++%7],day7:t.locale.daysMin[a++%7]});c.find("tr:first").append(h).find("table").addClass(n[t.view]),s(c.get(0)),t.flat?(c.appendTo(this).show().css("position","relative"),f(c.get(0))):(c.appendTo(document.body),e(this).bind(t.eventName,d)),t.onViewChange&&(this.currentView="datepickerView"+t.view.charAt(0).toUpperCase()+t.view.substr(1),t.onViewChange(this))}})},showPicker:function(){return this.each(function(){e(this).data("datepickerId")&&d.apply(this)})},hidePicker:function(){return this.each(function(){e(this).data("datepickerId")&&e("#"+e(this).data("datepickerId")).hide()})},setDate:function(t,n){return this.each(function(){if(e(this).data("datepickerId")){var r=e("#"+e(this).data("datepickerId")),i=r.data("datepicker");i.date=t,i.date.constructor==String&&(i.date=o(i.date,i.format),i.date.setHours(0,0,0,0));if(i.mode!="single")if(i.date.constructor!=Array)i.date=[i.date.valueOf()],i.mode=="range"&&i.date.push((new Date(i.date[0])).setHours(23,59,59,0).valueOf());else{for(var u=0;u<i.date.length;u++)i.date[u]=o(i.date[u],i.format).setHours(0,0,0,0).valueOf();i.mode=="range"&&(i.date[1]=(new Date(i.date[1])).setHours(23,59,59,0).valueOf())}else i.date=i.date.valueOf();n&&(i.current=new Date(i.mode!="single"?i.date[0]:i.date)),s(r.get(0))}})},getDate:function(t){if(this.size()>0)return c(e("#"+e(this).data("datepickerId")).data("datepicker"))[t?0:1]},clear:function(){return this.each(function(){if(e(this).data("datepickerId")){var t=e("#"+e(this).data("datepickerId")),n=t.data("datepicker");n.mode!="single"&&(n.date=[],s(t.get(0)))}})},fixLayout:function(){return this.each(function(){if(e(this).data("datepickerId")){var t=e("#"+e(this).data("datepickerId")),n=t.data("datepicker");n.flat&&f(t.get(0))}})}}}();e.fn.extend({DatePicker:t.init,DatePickerHide:t.hidePicker,DatePickerShow:t.showPicker,DatePickerSetDate:t.setDate,DatePickerGetDate:t.getDate,DatePickerClear:t.clear,DatePickerLayout:t.fixLayout,DatePickerParse:t.parseDate})})(jQuery),function(){var e={};this.tmpl=function t(n,r){var i=/\W/.test(n)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):e[n]=e[n]||t(document.getElementById(n).innerHTML);return r?i(r):i}}();

/** minified js  - from ../walib/WAF/rpc/Rpc.js */

if(typeof WAF=="undefined")var WAF={};typeof WAF.classes=="undefined"&&(WAF.classes={}),typeof WAF.config=="undefined"&&(WAF.config={}),WAF._private=WAF._private||{},WAF._private.globals=WAF._private.globals||{},WAF._private.globals.root=this,WAF.classes.Rpc=function(e){return e=e||{},typeof e!="object"&&(e={}),e.urlservice=e.urlservice||"/rpc/",e.messagetype=e.messagetype||"json",e.catalog=e.catalog||null,e.iscrossdomains===undefined&&(e.iscrossdomains=!0),e.methods=e.methods||[],e.namespace=e.namespace||"",typeof e.messageValidation=="undefined"&&(e.messageValidation=!1),this.messageValidation=e.messageValidation,this.serviceName=["getCatalog"],this.serviceDescription={getCatalog:{description:"Get the list of the methods",type:"method",returns:"string",params:[{type:"object",name:"*",description:"Parameter"}]}},this.getCatalog=function(e){var t={},n=[],r="",i=0,s=!1,o=0;e=e||{},typeof e=="string"&&(n.push(e),e=n),t=this.call({name:"getCatalog",arguments:[e]});try{t=JSON.parse(t)}catch(u){throw WAF.rpc.ErrorFactory.createError({code:"-32603",message:u.description||u.message})}if(typeof t=="object"){for(r in t)if(typeof t[r]!="string"){s=!1,o=this.serviceName.length;for(i=0;i<o;i+=1)if(this.serviceName[i]===r){s=!0;break}s||(this.serviceName.push(r),this.serviceDescription[r]=t[r])}}else t={};return t},this.setCatalog=function(e){var t="",n=0,r=!1,i=0;if(typeof e=="object"){for(t in e)if(typeof e[t]!="string"){r=!1,i=this.serviceName.length;for(n=0;n<i;n+=1)if(this.serviceName[n]===t){r=!0;break}r||(this.serviceName.push(t),this.serviceDescription[t]=e[t])}}else e={}},this.getInterfaces=function(t){var n={},r={},i=[],s=0,o="";t=t||{},t.conf=t.conf||null,t.methods=t.methods||e.methods,t.namespace=t.namespace||e.namespace;for(s=0;s<i.length;s++)i[s]=i[s].replace(/^\s+|\s+$/g,"");r.urlservice=e.urlservice,r.messagetype=e.messagetype,r.messagevalidation=this.messageValidation;if(t.conf)for(o in t.conf)t.conf.hasOwnProperty(o)&&(r.namespace=o,r.methods=t.conf[o],r.description=this.getCatalog(t.conf[o]),n=WAF.rpc.ProxyFactory.createProxy(r));else r.namespace=t.namespace,r.methods=t.methods,r.description=this.getCatalog(r.methods),n=WAF.rpc.ProxyFactory.createProxy(r);return n},this.call=function(t){var n={},r={},i=0,s=null,o={},u=arguments.length,a=WAF.rpc;t=t||{};if(typeof t=="string"&&u>0){t.name=arguments[0],t.arguments=[];for(i=1;i<u;i+=1)t.arguments.push(arguments[i])}t.name=t.name||"",t.parameters=t.parameters||[],t.arguments=t.arguments||[];if(this.messageValidation){if(!this.serviceDescription[t.name]&&t.name!=="getCatalog"){this.getCatalog(t.name);if(!this.serviceDescription[t.name])throw a.ErrorFactory.createError({code:"-32601",message:"method "+t.name+" not found"})}o=this.serviceDescription[t.name];if(t.arguments.length!==o.params.length)throw a.ErrorFactory.createError({code:"-32603",message:"wrong number of parameters ("+t.arguments.length+" instead of "+o.params.length+")"});for(i=0;i<u;i+=1)if(o.params[i].type!==undefined&&typeof t.arguments[i]!==o.params[i].type)throw a.ErrorFactory.createError({code:"-32603",message:"wrong type for parameter "+t.arguments[i]+" ("+typeof t.arguments[i]+" instead of "+o.params[i].type+")"})}n=a.RequestFactory.createRequest({url:e.urlservice,isasync:!1,messagetype:e.messagetype}),n.init(),r=a.MessageFactory.createMessage({name:t.name,arguments:t.arguments,messagetype:e.messagetype}),r=JSON.stringify(r),s=n.send({message:r});if(s!==undefined){if(s!==null&&s.error!==undefined)throw s.error.data?a.ErrorFactory.createError({code:s.error.code,message:s.error.message,data:s.error.data}):a.ErrorFactory.createError({code:s.error.code,message:s.error.message});if(this.messageValidation){if(typeof s!==o.returns&&typeof o.returns!="undefined"&&o.length!==0)throw a.ErrorFactory.createError({code:"-32602",message:"invalid return type ("+typeof s+" instead of "+o.returns+")"});return s}return s}return!0},this.callAsync=function(t){var n={},r="",i={},s=0,o=null,u=arguments.length,a=WAF.rpc;t=t||{};if(typeof t=="function"&&u>1){t.onsuccess=arguments[0],t.name="",typeof arguments[1]=="string"&&(t.name=arguments[1]),t.arguments=[];for(s=2;s<u;s+=1)t.arguments.push(arguments[s])}t.name=t.name||"",t.arguments=t.arguments||[],t.onsuccess=t.onsuccess||null,t.onerror=t.onerror||null,typeof t.onSuccess!="undefined"&&(t.onsuccess=t.onSuccess),typeof t.onError!="undefined"&&(t.onerror=t.onError);if(this.messageValidation){if(!this.serviceDescription[t.name]&&t.name!=="getCatalog"){this.getCatalog(t.name);if(!this.serviceDescription[t.name])throw a.ErrorFactory.createError({code:"-32601",message:"method "+t.name+" not found"})}i=this.serviceDescription[t.name];if(t.arguments.length!==i.params.length)throw a.ErrorFactory.createError({code:"-32603",message:"wrong number of parameters ("+t.arguments.length+" instead of "+i.params.length+")"});u=t.arguments.length;for(s=0;s<u;s+=1)if(i.params[s].type!==undefined&&typeof t.arguments[s]!==i.params[s].type)throw a.ErrorFactory.createError({code:"-32603",message:"wrong type for parameter "+t.arguments[s]+" ("+typeof t.arguments[s]+" instead of "+i.params[s].type+")"})}return n=a.RequestFactory.createRequest({url:e.urlservice,messagetype:e.messagetype}),n.init(),r=a.MessageFactory.createMessage({name:t.name,arguments:t.arguments,messagetype:e.messagetype}),r=JSON.stringify(r),this.messageValidation?o=n.send({message:r,onsuccess:t.onsuccess,onerror:t.onerror,returntype:i.returns}):o=n.send({message:r,onsuccess:t.onsuccess,onerror:t.onerror}),o},e.catalog&&(this.setCatalog(e.catalog),this.messageValidation=!1),(e.namespace||e.methods.length>0)&&this.getInterfaces(),this},WAF.classes.Rpc.request={Request:function(){this.init=function(){},this.send=function(){},this.abort=function(){}},HttpRequest:function(e){var t={},n="",r="";e=e||{},typeof e!="object"&&(e={}),e.url=e.url||"",e.isasync===undefined&&(e.isasync=!0),e.ispost===undefined&&(e.ispost=!0),e.messagetype=e.messagetype||"text",this.init=function(){var i={};if(WAF._private.globals.root.XMLHttpRequest)i=new XMLHttpRequest,i.overrideMimeType&&i.overrideMimeType("text/javascript");else if(WAF._private.globals.root.ActiveXObject)try{i=new ActiveXObject("Msxml2.XMLHTTP")}catch(s){try{i=new ActiveXObject("Microsoft.XMLHTTP")}catch(o){}}t=i;switch(e.messagetype){case"json":r="application/json-rpc; charset=utf-8",n="application/json-rpc";break;case"xml":r="application/xml; charset=utf-8",n="application/xml";break;default:r="text/plain; charset=utf-8",n="text/plain"}},this.send=function(i){var s={},o="POST",u=t;i=i||{},typeof i!="object"&&(i={}),i.message=i.message||" ",i.onsuccess=i.onsuccess||function(){},i.onerror=i.onerror||function(){},i.returntype=i.returntype||"",e.ispost||(o="GET"),u.open(o,e.url,e.isasync),u.setRequestHeader("Content-Type",r),u.setRequestHeader("Accept",n);try{u.send(i.message)}catch(a){if(!e.isasync)throw WAF.rpc.ErrorFactory.createError({code:"-32100",message:a.description||a.message});i.onerror({code:"-32100",message:"Server not responding"})}if(!e.isasync){if(u.readyState===4)if(u.status===200||u.status===500){s=u.responseText.replace(/^\s+|\s+$/g,"");if(s!==null){try{s=JSON.parse(s)}catch(a){throw WAF.rpc.ErrorFactory.createError({code:"-32603",message:a.description||a.message})}if(s.result!==undefined)return s.result;if(s.error!==undefined)throw s.error?s.error.data?WAF.rpc.ErrorFactory.createError({code:s.error.code,message:s.error.message,data:s.error.data}):WAF.rpc.ErrorFactory.createError({code:s.error.code,message:s.error.message}):WAF.rpc.ErrorFactory.createError({code:"-32603",message:"Message contains invalid response"});return null}return null}}else u.onreadystatechange=function(){if(u.readyState===4)if(u.status===200||u.status===500){s=u.responseText.replace(/^\s+|\s+$/g,"");if(s!==null){try{s=JSON.parse(s)}catch(e){throw WAF.rpc.ErrorFactory.createError({code:"-32603",message:e.description||e.message})}s.result!==undefined?(s=s.result,i.returntype?typeof s!==i.returntype&&typeof i.returntype!="undefined"&&i.returntype.length!==0?i.onerror({code:"-32602",message:"invalid return type ("+typeof s+" instead of "+i.returntype+")"}):i.onsuccess(s):i.onsuccess(s)):i.onerror(s.error)}}};return undefined},this.abort=function(){xhr.abort()}},ScriptTagRequest:function(e){e=e||{},this.init=function(){},this.send=function(){},this.abort=function(){}}},WAF.classes.Rpc.message={XmlMessage:function(e){},JsonMessage:function(e){function a(){var e=new Date;return e=parseInt(Math.random()*e.getTime(),10),e}var t=[],n=0,r=0,i="",s={},o={},u=0;e=e||{},typeof e!="object"&&(e={}),e.name=e.name||"",e.arguments=e.arguments||{},e.parameters=e.parameters||[],e.body=e.body||"";if(e.arguments.length!==undefined){u=e.arguments.length;for(n=0;n<u;n+=1)i=e.arguments[n],t.push(i);s=t}else s=e.arguments;return e.body.length===0?o={jsonrpc:"2.0",id:a(),method:e.name,params:s}:o={jsonrpc:"2.0-wakanda",id:a(),method:{keys:e.parameters,source:e.body},params:s},o}},WAF.classes.Rpc.error={MethodNotFoundError:function(e){var t={};return e=e||{},typeof e!="object"&&(e={}),e.message=e.message||"",e.data=e.data||"",e.code=e.code||"-1",e.data?t={name:"MethodNotFoundError",message:e.message,description:e.data,code:e.code}:t={name:"MethodNotFoundError",message:e.message,code:e.code},t},ServerError:function(e){var t={};return e=e||{},typeof e!="object"&&(e={}),e.message=e.message||"",e.data=e.data||"",e.code=e.code||"-1",e.data?t={name:"ServerError",message:e.message,description:e.data,code:e.code}:t={name:"ServerError",message:e.message,code:e.code},t},InvalidParamsError:function(e){var t={};return e=e||{},typeof e!="object"&&(e={}),e.message=e.message||"",e.data=e.data||"",e.code=e.code||"-1",e.data?t={name:"InvalidParamsError",message:e.message,description:e.data,code:e.code}:t={name:"InvalidParamsError",message:e.message,code:e.code},t},InternalError:function(e){var t;return e=e||{},typeof e!="object"&&(e={}),e.message=e.message||"",e.data=e.data||"",e.code=e.code||"-1",e.data?t={name:"InternalError",message:e.message,description:e.data,code:e.code}:t={name:"InternalError",message:e.message,code:e.code},t}},WAF.rpc={transactions:{},call:function(e){var t=null,n=WAF.rpc,r=0,i=arguments.length,s={};e.urlservice=e.urlservice||"/rpc/";if(typeof e=="string"){if(i>0){s.name=arguments[0],s.arguments=[];for(r=1;r<i;r+=1)s.arguments.push(arguments[r])}s.urlservice=s.urlservice||"/rpc/",e=s}return n.transactions[e.urlservice]?t=n.transactions[e.urlservice]:(t=new WAF.classes.Rpc(e),n.transactions[e.urlservice]=t),t.call(e)},callAsync:function(e){var t=null,n=WAF.rpc,r=arguments.length,i={},s=0;e.urlservice=e.urlservice||"/rpc/";if(typeof e=="function"){if(r>1){i.onsuccess=arguments[0],i.name="",typeof arguments[1]=="string"&&(i.name=arguments[1]),i.arguments=[];for(s=2;s<r;s+=1)i.arguments.push(arguments[s])}i.urlservice=i.urlservice||"/rpc/",e=i}return n.transactions[e.urlservice]?t=n.transactions[e.urlservice]:(t=new WAF.classes.Rpc(e),n.transactions[e.urlservice]=t),t.callAsync(e)},ProxyFactory:{createProxy:function(e){function u(t,n){return n=n||{},typeof n!="object"&&(n={}),t=t||"",n.description=n.description||"",n.type=n.type||"",n.returns=n.returns||[],n.params=n.params||[],function(){var r="",i={},s={},o=0,u=0,a=WAF.rpc;if(e.messagevalidation){if(arguments.length!==n.params.length)throw a.ErrorFactory.createError({code:"-32603",message:"wrong number of parameters ("+arguments.length+" instead of "+n.params.length+")"});u=arguments.length;for(o=0;o<u;o+=1)if(n.params[o].type!==undefined&&typeof arguments[o]!==n.params[o].type)throw a.ErrorFactory.createError({code:"-32603",message:"wrong type for parameter "+arguments[o]+" ("+typeof arguments[o]+" instead of "+n.params[o].type+")"})}s=a.RequestFactory.createRequest({url:e.urlservice,isasync:!1,messagetype:e.messagetype}),s.init(),i=a.MessageFactory.createMessage({name:t,arguments:arguments,messagetype:e.messagetype}),i=JSON.stringify(i),r=s.send({message:i});if(r!==undefined){if(r!==null&&r.error!==undefined)throw r.error.data?a.ErrorFactory.createError({code:r.error.code,message:r.error.message,data:r.error.data}):a.ErrorFactory.createError({code:r.error.code,message:r.error.message});if(e.messagevalidation){if(typeof r!==n.returns&&typeof n.returns!="undefined"&&n.returns.length!==0)throw a.ErrorFactory.createError({code:"-32602",message:"invalid return type ("+typeof r+" instead of "+n.returns+")"});return r}return r}return!0}}function a(t,n){return n=n||{},typeof n!="object"&&(n={}),t=t||"",n.description=n.description||"",n.type=n.type||"",n.returns=n.returns||"",n.params=n.params||[],function(){var r={},i={},s=0,o=0,u=[],a=0,f=WAF.rpc,l=[],c={},h=!1;arguments[0].params&&(arguments[0].params.constructor!==Array&&(l.push(arguments[0].params),arguments[0].params=l),a=arguments[0].params.length),typeof arguments[0].onSuccess!="undefined"&&(arguments[0].onsuccess=arguments[0].onSuccess),typeof arguments[0].onError!="undefined"&&(arguments[0].onerror=arguments[0].onError);if(e.messagevalidation){if(arguments[0].onsuccess||arguments[0].onerror||typeof arguments[0]=="function")o+=1;if(arguments[0].params){if(a!==n.params.length){c=f.ErrorFactory.createError({code:"-32603",message:"wrong number of parameters ("+a+" instead of "+n.params.length+")"});if(!arguments[0].onerror)throw c;arguments[0].onerror(c),h=!0}if(!h)for(s=0;s<a;s+=1)if(n.params[s].type!==undefined&&typeof arguments[0].params[s]!==n.params[s].type){c=f.ErrorFactory.createError({code:"-32603",message:"wrong type for parameter "+arguments[0].params[s]+" ("+typeof arguments[0].params[s]+" instead of "+n.params[s].type+")"});if(arguments[0].onerror){arguments[0].onerror(c),h=!0;break}throw c}}else{if(arguments.length-o!==n.params.length){c=f.ErrorFactory.createError({code:"-32603",message:"wrong number of parameters ("+arguments.length+" instead of "+n.params.length+")"});if(!arguments[0].onerror)throw c;arguments[0].onerror(c),h=!0}if(!h){a=arguments.length-o;for(s=0;s<a;s+=1)if(n.params[s].type!==undefined&&typeof arguments[s+o]!==n.params[s].type){c=f.ErrorFactory.createError({code:"-32603",message:"wrong type for parameter "+arguments[s+o]+" ("+typeof arguments[s+o]+" instead of "+n.params[s].type+")"});if(!arguments[0].onerror)throw c;arguments[0].onerror(c),h=!0}}}}if(!h){i=f.RequestFactory.createRequest({url:e.urlservice,messagetype:e.messagetype}),i.init(),typeof arguments[0]=="function"&&(arguments[0].onsuccess=arguments[0]);if(arguments[0].onsuccess||arguments[0].onerror||arguments[0].params){if(arguments[0].params&&arguments.length===1)r=f.MessageFactory.createMessage({name:t,arguments:arguments[0].params,messagetype:e.messagetype});else{a=arguments.length;for(s=0;s<a;s+=1)u[s-1]=arguments[s];r=f.MessageFactory.createMessage({name:t,arguments:u,messagetype:e.messagetype})}r=JSON.stringify(r),e.messagevalidation?i.send({message:r,onsuccess:arguments[0].onsuccess,onerror:arguments[0].onerror,returntype:n.returns}):i.send({message:r,onsuccess:arguments[0].onsuccess,onerror:arguments[0].onerror})}else r=f.MessageFactory.createMessage({name:t,arguments:arguments,messagetype:e.messagetype}),r=JSON.stringify(r),e.messagevalidation?i.send({message:r,returntype:n.returns}):i.send({message:r,returntype:n.returns});return i}}}var t="",n=0,r={},i="",s=0,o=WAF._private.globals.root;e=e||{},typeof e!="object"&&(e={}),e.description=e.description||{},e.urlservice=e.urlservice||{},e.requesttype=e.requesttype||"ajax",e.messagetype=e.messagetype||"json",e.namespace=e.namespace||"",e.methods=e.methods||[],typeof e.messagevalidation=="undefined"&&(e.messagevalidation=!0),e.namespace?(typeof o[e.namespace]=="undefined"&&(o[e.namespace]={}),r=o[e.namespace]):r=o;if(e.messagevalidation)for(i in e.description)typeof e.description[i]!="string"&&(r[i]=u(i,e.description[i]),r[i+"Async"]=a(i,e.description[i]));else if(e.methods.length>0){s=e.methods.length;for(n=0;n<s;n+=1)i=e.methods[n],r[i]=u(i),r[i+"Async"]=a(i)}else for(i in e.description)typeof e.description[i]!="string"&&(r[i]=u(i,e.description[i]),r[i+"Async"]=a(i,e.description[i]));return r}},ErrorFactory:{createError:function(e){var t=WAF.classes.Rpc.error;e=e||{},typeof e!="object"&&(e={}),e.code=e.code||"-1";switch(e.code){case"-32601":return new t.MethodNotFoundError(e);case"-32602":return new t.InvalidParamsError(e);case"-32603":return new t.InternalError(e);default:return new t.ServerError(e)}}},MessageFactory:{createMessage:function(e){var t=WAF.classes.Rpc.message;e=e||{},typeof e!="object"&&(e={}),e.messagetype=e.messagetype||"json";switch(e.messateType){case"json":return new t.JsonMessage(e);case"xml":return new t.XmlMessage(e);default:return new t.JsonMessage(e)}}},RequestFactory:{createRequest:function(e){var t=WAF.classes.Rpc.request;e=e||{},typeof e!="object"&&(e={}),e.type=e.type||"http";switch(e.type){case"http":return new t.HttpRequest(e);case"jsonp":return new t.ScriptTagRequest(e);default:return new t.HttpRequest(e)}}}},function(e){var t=null,n=[],r="",i=!1;if(e.config&&e.config.rpc){i=e.config.rpc.validation,typeof i=="undefined"&&(i=!1),t=new e.classes.Rpc({messageValidation:i});if(typeof e.config.rpc=="string")try{t.getInterfaces({conf:JSON.parse(e.config.rpc.replace(/'/g,'"'))})}catch(s){}else n=e.config.rpc.methods||e.config.rpc.module,r=e.config.rpc.namespace,n&&n.length>0?t.getInterfaces({methods:n.split(","),namespace:r}):r&&r.length>0&&t.getInterfaces({namespace:r})}}(WAF);

/** minified js  - from ../walib/WAF/Tags/taglib.js */

function manageViewportMetaTag(e,t){var n=Designer.env.document.getElementsByAttribute("meta","name","viewport"),r={},i=null,s=null,o={},u=D.getCurrent(),a="";o.width=u.getAttribute("data-viewport-width").getValue(),o.height=u.getAttribute("data-viewport-height").getValue(),o["initial-scale"]=u.getAttribute("data-viewport-initial-scale").getValue(),o["minimum-scale"]=u.getAttribute("data-viewport-minimum-scale").getValue(),o["maximum-scale"]=u.getAttribute("data-viewport-maximum-scale").getValue(),o["user-scalable"]=u.getAttribute("data-viewport-user-scalable").getValue(),e==="user-scalable"&&(t?t="yes":t="no"),o[e]=t,$.each(o,function(e,t){t!=null&&t+0!="0"&&(a!=""&&t!="yes"&&(a+=","),t!="yes"&&(a=a+" "+e+" = "+t))}),n.length===0?(i=Designer.env.document.createTextNode("		"),Designer.env.document.head.appendChild(i),r=Designer.env.document.createElement("meta"),r.setAttribute("name","viewport"),r.setAttribute("content",a),Designer.env.document.head.appendChild(r),s=Designer.env.document.createTextNode("\n"),Designer.env.document.head.appendChild(s)):(r=n[0],r.setAttribute("content",a)),Designer.studio.setDirty()}WAF.addWidget({type:"dataSource",lib:"WAF",description:"Source",category:"Data Source",img:"../icons/dataSource.png",tag:"meta",attributes:[{name:"data-source",description:"Source",category:"General"},{name:"data-source-type",description:"Kind of source",tooltip:"array, object, scalar, dataClass",defaultValue:"dataClass",visibility:"hidden",type:"dropdown",options:["array","object","scalar","dataClass"],category:"General"},{name:"data-dataType",description:"Variable Type",defaultValue:"string",type:"dropdown",options:[{key:"string",value:"String"},{key:"number",value:"Number"},{key:"boolean",value:"Boolean"},{key:"date",value:"Date"}],tooltip:"if source kind is scalar, then is used :  number, string, date, ...",category:"General"},{name:"data-attributes",description:"Attributes",visibility:"hidden",tooltip:"property1:type1, property2:type2, ....  par ex  name:string,salary:number",category:"General"},{name:"data-autoLoad",defaultValue:"true",type:"checkbox",description:"Initial Query"},{name:"data-initialQueryString",defaultValue:"",description:"Initial Query String"},{name:"data-initialOrderBy",defaultValue:"",description:"Initial Order By"},{name:"name",defaultValue:"WAF.config.datasources",visibility:"hidden"},{name:"content",defaultValue:"",visibility:"hidden"}],style:[{name:"width",defaultValue:"1px"},{name:"height",defaultValue:"1px"}],events:[{name:"onAttributeChange",description:"On Change",category:"Datasource Events"},{name:"onBeforeCurrentElementChange",description:"On Before Current Element Change",category:"Datasource Events"},{name:"onCurrentElementChange",description:"On Current Element Change",category:"Datasource Events"},{name:"onElementSaved",description:"On Element Saved",category:"Datasource Events"},{name:"onCollectionChange",description:"On Collection Change",category:"Datasource Events"}],onInit:function(e){return e.binding=e["data-source"],e["data-autoLoad"]===null&&(e["data-autoLoad"]="true"),WAF.dataSource.create(e)},onDesign:function(e,t,n,r,i){}}),WAF.addWidget({type:"document",lib:"WAF",description:"Document",category:"Hidden",img:"../icons/document.png",tag:"div",attributes:[{name:"id",visibility:"hidden"},{name:"data-title",description:"Title"},{name:"data-entire-model",defaultValue:"false",type:"checkbox",description:"Load entire model",onclick:function(e){var t=Designer.env.document.getElementsByAttribute("meta","name","WAF.catalog"),n={},r=null,i=null,s="",o="",u=[],a={},f=[],l="",c="",h=0,p=0;if(t.length===0){for(s in Designer.env.ds.dataClassesUsed)u.push(s);c=u.join(","),r=Designer.env.document.createTextNode("		"),Designer.env.document.head.appendChild(r),n=Designer.env.document.createElement("meta"),n.setAttribute("name","WAF.catalog"),n.setAttribute("content",c),Designer.env.document.head.appendChild(n),i=Designer.env.document.createTextNode("\n"),Designer.env.document.head.appendChild(i)}else{n=t[0],l=n.getAttribute("content");if(!this.htmlObject[0].checked){for(s in Designer.env.ds.dataClassesUsed)u.push(s);c=u.join(","),c&&(l?l=l+","+c:l=c),f=l.split(","),p=f.length;for(h=0;h<p;h++)a[f[h].trim()]="ok";f=[];for(o in a)o!=="*"&&f.push(o);l=f.join(","),n.setAttribute("content",l)}else n.setAttribute("content","*")}Designer.studio.setDirty()}},{name:"data-platform",description:"Target",category:"Platform",type:"dropdown",options:[{key:"desktop",value:"Desktop"},{key:"auto",value:"Automatic"},{key:"smartphone",value:"Smartphone"},{key:"tablet",value:"Tablet"}],defaultValue:"desktop",ready:function(){this.formPanel.hide()}},{name:"data-viewport-width",description:"Width",category:"Viewport",type:"textefield",defaultValue:"device-width",autocomplete:["device-width","320","768"],onchange:function(){manageViewportMetaTag("width",this.htmlObject[0].value)},ready:function(){$(this.formPanel._htmlObject).find(".actions").click(function(){D.prop_section_Viewport_isOpen?D.prop_section_Viewport_isOpen=!1:D.prop_section_Viewport_isOpen=!0});if(D.prop_section_Viewport_isOpen===undefined||!D.prop_section_Viewport_isOpen)$(this.formPanel._htmlObject).removeClass("selected"),D.prop_section_Viewport_isOpen=!1;(!D.env.platform||D.env.platform==="desktop")&&this.formPanel.hide()}},{name:"data-viewport-height",description:"Height",category:"Viewport",type:"textefield",defaultValue:"",autocomplete:["device-height","480","1024"],onchange:function(){manageViewportMetaTag("height",this.htmlObject[0].value)}},{name:"data-viewport-initial-scale",description:"Initial Scale",category:"Viewport",type:"textefield",defaultValue:"1.0",style:{width:"50px"},onchange:function(){manageViewportMetaTag("initial-scale",this.htmlObject[0].value)}},{name:"data-viewport-maximum-scale",description:"Maximum Scale",category:"Viewport",type:"textefield",defaultValue:"1.0",style:{width:"50px"},onchange:function(){manageViewportMetaTag("maximum-scale",this.htmlObject[0].value)}},{name:"data-viewport-minimum-scale",description:"Minimum Scale",category:"Viewport",type:"textefield",defaultValue:"1.0",style:{width:"50px"},onchange:function(){manageViewportMetaTag("minimum-scale",this.htmlObject[0].value)}},{name:"data-viewport-user-scalable",description:"User Scalable",category:"Viewport",type:"checkbox",defaultValue:!0,onclick:function(){manageViewportMetaTag("user-scalable",this.htmlObject[0].checked)}},{name:"data-apple-meta-tags-web-app",description:"Web App Capable",category:"iOs Meta Tags",type:"checkbox",defaultValue:!1,onclick:function(){var e=["apple-mobile-web-app-capable","mobile-web-app-capable"],t=this;e.forEach(function(e){var n=Designer.env.document.getElementsByAttribute("meta","name",e),r={},i=null,s=null;n.length===0?(i=Designer.env.document.createTextNode("		"),Designer.env.document.head.appendChild(i),r=Designer.env.document.createElement("meta"),r.setAttribute("name",e),r.setAttribute("content","yes"),Designer.env.document.head.appendChild(r),s=Designer.env.document.createTextNode("\n"),Designer.env.document.head.appendChild(s)):(r=n[0],t.htmlObject[0].checked?r.setAttribute("content","yes"):r.setAttribute("content","no"))}),Designer.studio.setDirty()},ready:function(){if(!D.env.platform||D.env.platform==="desktop")this.formPanel.hide();else{$(this.formPanel._htmlObject).find(".actions").click(function(){D.prop_section_iosTag_isOpen?D.prop_section_iosTag_isOpen=!1:D.prop_section_iosTag_isOpen=!0});if(D.prop_section_iosTag_isOpen===undefined||!D.prop_section_iosTag_isOpen)$(this.formPanel._htmlObject).removeClass("selected"),D.prop_section_iosTag_isOpen=!1}}},{name:"data-apple-meta-tags-tel",description:"Format Detection",category:"iOs Meta Tags",type:"checkbox",defaultValue:!0,onclick:function(){var e=Designer.env.document.getElementsByAttribute("meta","name","format-detection"),t={},n=null,r=null;e.length===0?(n=Designer.env.document.createTextNode("		"),Designer.env.document.head.appendChild(n),t=Designer.env.document.createElement("meta"),t.setAttribute("name","format-detection"),t.setAttribute("content","telephone=no"),Designer.env.document.head.appendChild(t),r=Designer.env.document.createTextNode("\n"),Designer.env.document.head.appendChild(r)):(t=e[0],this.htmlObject[0].checked?t.setAttribute("content","telephone=yes"):t.setAttribute("content","telephone=no")),Designer.studio.setDirty()}},{name:"data-apple-meta-tags-status-bar",description:"Status Bar Style",category:"iOs Meta Tags",type:"dropdown",options:[{key:"default",value:"Default"},{key:"black",value:"Black"},{key:"black-translucent",value:"Black Translucent"}],onchange:function(){var e=Designer.env.document.getElementsByAttribute("meta","name","apple-mobile-web-app-status-bar-style"),t={},n=null,r=null,i=this.htmlObject[0].value;e.length===0?(n=Designer.env.document.createTextNode("		"),Designer.env.document.head.appendChild(n),t=Designer.env.document.createElement("meta"),t.setAttribute("name","apple-mobile-web-app-status-bar-style"),t.setAttribute("content",i),Designer.env.document.head.appendChild(t),r=Designer.env.document.createTextNode("\n"),Designer.env.document.head.appendChild(r)):(t=e[0],t.setAttribute("content",i)),Designer.studio.setDirty()},defaultValue:"default"},{name:"data-workspace-device",description:"Device",type:"combo",reloadTag:!0,ready:function(){var e,t,n,r;t=this.data.tag,n=Designer.resources.device,r=t.getAttribute("data-workspace-device").getValue(),Designer.isNewPage()?(this._input.attr("disabled","disabled"),this._input.autocomplete("disable")):this.addOption("custom","Custom");for(e in n)this.addOption(e,e);this.select(r?r:"custom"),D.isMobile&&$("#waf-body").css("overflow","hidden")},onchange:function(){var e,t,n,r,i,s,o;t=this.getData(),r=this.getValue(),e=t.tag,n=D.util.getWorkspaceInfo(r,e.getAttribute("data-workspace-orientation").getValue()),e.getAttribute("data-workspace-height").setValue(String(n.height)),e.getAttribute("data-workspace-width").setValue(String(n.width)),$("#textInput-data-workspace-width").val(n.width),$("#textInput-data-workspace-height").val(n.height),$("#select-data-workspace-orientation").val(n.orientation),r==="custom"?($("#textInput-data-workspace-width").get()[0].disabled=!1,$("#textInput-data-workspace-height").get()[0].disabled=!1,$("#select-data-workspace-orientation").closest("tr").hide()):($("#textInput-data-workspace-width").get()[0].disabled=!0,$("#textInput-data-workspace-height").get()[0].disabled=!0,$("#select-data-workspace-orientation").closest("tr").show()),D.isMobile?$("#waf-body").css("overflow","hidden"):$("#waf-body").css("overflow","auto"),e.domUpdate()},category:"Workspace"},{name:"data-workspace-orientation",description:"Orientation",type:"select",reloadTag:!0,options:[{key:"portrait",value:"Portrait"},{key:"landscape",value:"Landscape"}],category:"Workspace",ready:function(){var e,t,n,r,i;n=this.data,e=n.tag,t=e.getAttribute("data-workspace-orientation"),i=e.getAttribute("data-workspace-device").getValue(),i&&(r=Designer.resources.device[i]),!t.getValue()&&r&&t.setValue(r.defaultOrientation),i==="custom"&&this.getHtmlObject().closest("tr").hide()},beforechange:function(){var e,t,n,r,i,s,o;n=this.data,e=n.tag,t=D.util.getWorkspaceInfo(e.getAttribute("data-workspace-device").getValue(),this.getValue()),e.getAttribute("data-workspace-height").setValue(String(t.height)),e.getAttribute("data-workspace-width").setValue(String(t.width)),$("#textInput-data-workspace-width").val(t.width),$("#textInput-data-workspace-height").val(t.height),D.env.workspace.orientation=t.orientation,D.env.workspace.height=t.height,D.env.workspace.width=t.width,e.domUpdate()}},{name:"data-workspace-width",description:"Width",reloadTag:!0,style:{width:"50px"},category:"Workspace",onblur:function(){var e,t,n,r,i,s,o,u;t=this.data,e=t.tag,r=this.getValue(),i=e.getAttribute("data-workspace-height").getValue(),s=e.getAttribute("data-workspace-device").getValue(),u=e.getAttribute("data-workspace-orientation").getValue(),n=D.util.getWorkspaceInfo(s,u),(r!=n.width||i!=n.height)&&waForm.components.get("combo-data-workspace-device").select("custom")},ready:function(){var e=this.data,t=e.tag,n=t.getAttribute("data-workspace-device").getValue();n!="custom"&&(this.getHtmlObject()[0].disabled=!0)}},{name:"data-workspace-height",description:"Height",reloadTag:!0,style:{width:"50px"},category:"Workspace",ready:function(){var e=this.data,t=e.tag,n=t.getAttribute("data-workspace-device").getValue();n!="custom"&&(this.getHtmlObject()[0].disabled=!0)}},{name:"data-texture-header",defaultValue:"",visibility:"hidden",description:"Header Texture"},{name:"data-texture-footer",defaultValue:"",visibility:"hidden",description:"Footer Texture"},{name:"class",description:"Css class"},{name:"data-group",defaultValue:"",visibility:"hidden",description:"Group"}],events:[{name:"onLoad",description:"On Load",category:"UI Events"}],style:[{name:"z-index",defaultValue:"0"},{name:"width",defaultValue:"0px"},{name:"height",defaultValue:"0px"}],properties:{style:{theme:{},fClass:!0,text:!1,background:!0,border:!1,sizePosition:!1,label:!1}},onInit:function(e){var t;WAF.PLATFORM.isTouch?$(document).bind("touchstart",function(){event.target.nodeName=="HTML"&&$(".waf-menuItem .waf-menuBar").fadeOut(200,function(){$(".waf-menuItem").not(".waf-tabView-tab").removeClass("waf-state-selected").removeClass("waf-state-active").removeClass("waf-state-hover")})}):$(document).bind("click",function(){$(".waf-menuItem .waf-menuBar").fadeOut(200),$(".waf-menuItem").not(".waf-tabView-tab").removeClass("waf-state-selected")}),$("body").css("display","block").addClass("waf-theme")},onDesign:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m,g,y=Designer.env.workspace;o=$("#waf-body"),c=$("#yui-gen7"),l=n.getAttribute("data-workspace-device").getValue(),Designer.isNewPage()?(v=n.getAttribute("data-workspace-orientation").getValue(),d=n.getAttribute("data-workspace-width").getValue(),m=n.getAttribute("data-workspace-height").getValue()):l?(v=n.getAttribute("data-workspace-orientation").getValue(),d=n.getAttribute("data-workspace-width").getValue(),m=n.getAttribute("data-workspace-height").getValue()):(Designer.env.platform=="smartphone"?(l="Apple iPhone",v=Designer.resources.device[l].defaultOrientation,d=Designer.resources.device[l].width,m=Designer.resources.device[l].height):Designer.env.platform=="tablet"&&(l="Apple iPad",v=Designer.resources.device[l].defaultOrientation,d=Designer.resources.device[l].height,m=Designer.resources.device[l].width),n.getAttribute("data-workspace-device").setValue(l),n.getAttribute("data-workspace-orientation").setValue(v),n.getAttribute("data-workspace-width").setValue(d),n.getAttribute("data-workspace-height").setValue(m)),u=D.util.getWorkspaceInfo(l,v),a=!d||d=="auto"?null:parseInt(d),f=!m||m=="auto"?null:parseInt(m),a?p=$("#yui-gen6").width()/2-a/2:(a="100%",p="auto"),f?h=$("#yui-gen6").height()/2-f/2:(f="100%",h="auto"),p<0&&(p=0),h<0&&(h=0),o.css({height:f,width:a,"margin-top":h,"margin-left":p,"z-index":0}),(a!=n._tmpWidth||f!=n._tmpHeight)&&Designer.resizeConstraintsWidgets(),n._tmpWidth=a,n._tmpHeight=f,g=c.children(".yui-layout-bd");switch(l.toLowerCase()){case"ipad":case"tablet":u.orientation=="landscape"?g.css("background-position",p-301+"px "+(h-260)+"px"):g.css("background-position",p-180+"px "+(h-240)+"px");break;case"iphone":case"smartphone":u.orientation=="landscape"?g.css("background-position",p-209+"px "+(h-108)+"px"):g.css("background-position",p-108+"px "+(h-208)+"px");break;default:}u.orientation=="landscape"?y.backgroundImageLandscape&&g.css("background-image",'url("/Resources/Web Components/GUIDesigner/images/'+y.backgroundImageLandscape+'")'):y.backgroundImagePortrait&&g.css("background-image",'url("/Resources/Web Components/GUIDesigner/images/'+y.backgroundImagePortrait+'")')},onCreate:function(e,t){$(e).bind("onFileDrop",function(e,t){var n,r,i,s,o,u,a,f,l,c;n=this,o=t.path.cropedPath,a=t.mouse.mouseX,f=t.mouse.mouseY,r=t.file.extension.toLowerCase();switch(r){case"bmp":case"png":case"jpg":case"jpeg":case"gif":case"ico":i=document.createElement("img"),i.setAttribute("src",t.path.fullPath),document.body.appendChild(i),i.onload=function(){var e,t,r;e=a-this.width/2,t=f-this.width/2,Designer.env.tag.catalog._hash&&Designer.env.tag.catalog._hash.hasOwnProperty("Image.Image")?(r=D.createTag({type:"Image.Image",left:e,top:t,parent:n,silentMode:!0,width:this.width,height:this.height}),r.getWidget().image(o)):(r=D.createTag({type:"image",left:e,top:t,parent:n,silentMode:!0,width:this.width,height:this.height}),r.getAttribute("data-src").setValue(o)),r.setCurrent(),r.onDesign(!0),r.domUpdate(),D.tag.refreshPanels(),$(this).remove()};break;default:if(o.indexOf("."+Designer.constants.extension.webcomponent)>-1){l=o.split("WebFolder")[o.split("WebFolder").length-1],s=new RegExp("\\\\","g"),l=l.replace(s,"/");var h=Designer.dependency.manager._getComponentPath(l);if(Designer.dependency.manager.checkCyclingDependencies(h))return Designer.util.notify("Wrong action","Unable to drop "+l+" due to cycling references."),!1;c=Designer.createTag({type:"component",left:a,top:f,width:200,height:200,parent:n,silentMode:!0}),l.substring(l.length-1,l.length)=="/"&&(l=l.substring(0,l.length-1)),l.substring(0,1)=="/"&&(l=l.replace("/","")),c.getAttribute("data-path").setValue("/"+l),Designer.getPackageManager().addComponentPackage("/"+l)}else c=D.createTag({type:"richText",left:a,top:f,parent:n,silentMode:!0}),c.getAttribute("data-link").setValue(o),c.getAttribute("data-text").setValue(o);c.setCurrent(),c.onDesign(!0),c.domUpdate(),D.tag.refreshPanels()}})}}),WAF.addWidget({type:"htmlTag",lib:"html",description:"tag html",category:"Hidden",img:"../icons/htmlTag.png",tag:"",attributes:[],style:[{name:"z-index",defaultValue:"0"},{name:"width",defaultValue:"0px"},{name:"height",defaultValue:"0px"}],events:[{name:"click",description:"On Click",category:"Mouse Events"},{name:"dblclick",description:"On Double Click",category:"Mouse Events"},{name:"mousedown",description:"On Mouse Down",category:"Mouse Events"},{name:"mouseout",description:"On Mouse Out",category:"Mouse Events"},{name:"mouseover",description:"On Mouse Over",category:"Mouse Events"},{name:"mouseup",description:"On Mouse Up",category:"Mouse Events"},{name:"touchstart",description:"On Touch Start",category:"Touch Events"},{name:"touchend",description:"On Touch End",category:"Touch Events"},{name:"touchcancel",description:"On Touch Cancel",category:"Touch Events"}],properties:{style:{theme:!1,fClass:!0,text:!0,background:!0,border:!0,sizePosition:!1,label:!1}},onInit:function(e){},onCreate:function(e,t){var n=e.getAttributes(),r=null,i=n.count(),s=0,o=e.getAttribute("id").getValue(),u=$("#"+o),a=document.getElementById(o),f=[],l="",c=null;if(a)for(s=0;s<i;s++)r=n.get(s),a.setAttribute(r.getName(),r.getValue());f=Designer.getDocument().getElementsByAttribute(e.getTag(),"id",o),f.length>0&&(l=f[0].textContent()),l&&(c=document.createElement("div"),c.innerHTML=l,u.append(c))},onDesign:function(e,t,n,r,i){}});

/** minified js  - from ../walib/WAF/Tags/tags.js */

WAF.tags={createView:function(){var t=[],n=[],r=0,i={},s="",o=-1,u=-1,a=[],f={},l=[];typeof $.datepicker!="undefined"&&$.datepicker.setDefaults($.datepicker.regional[""]),t=$("[data-type=dataSource]");for(r=0,u=t.length;r<u;r++)l=t[r],this.createComponent(l,!0);WAF.dataSource&&(a=WAF.dataSource.list,WAF.dataSource.fullyInitAllSources());var c=WAF.require("waf-widget/body");WAF.require("waf-core/widget").body=new c,n=$("[data-type]");for(r=0,o=n.length;r<o;r++){l=n[r];try{this.createComponent(l,!1)}catch(h){console.error("WAF: There is an error with the widget of id "+l.id,h)}}for(s in a){i=a[s],f=i._private;if(i.mustResolveOnFirstLevel())try{i.resolveSource()}catch(h){console.error("WAF: There is an error with the datasource of id "+f.id,h)}}},createComponent:function(t,n,r){var i="",s="",o={},u="",a=0,f=null,l={},c={},h={},p="",d=null,v=WAF.config.widget,m="";if(n===undefined||n===null)n=!1;i=t.getAttribute("data-lib"),i=i||"WAF",s=t.getAttribute("data-type"),s=s||"";if(!n&&s!=="dataSource"){t.getAttribute("data-column-name")&&(l["data-column-name"]=t.getAttribute("data-column-name")),t.getAttribute("data-column-attribute")&&(l["data-column-attribute"]=t.getAttribute("data-column-attribute")),t.getAttribute("data-column-width")&&(l["data-column-width"]=t.getAttribute("data-column-width"));if(v[i]&&v[i][s]){f=v[i][s];for(a=0,o=f.attributes.length;a<o;a++)u=f.attributes[a].name,p=t.getAttribute(u),p&&p.replace&&(p=p.replace(/&quot;/g,'"')),l[u]=p;return u="id",l[u]=t.getAttribute(u),u="data-type",l[u]=t.getAttribute(u),u="data-lib",l[u]=t.getAttribute(u),u="data-hideonload",l[u]=t.getAttribute(u),d=f.onInit(l),r&&d&&(d.insideComponent=!0),c=document.getElementById(l.id),c&&(h=c.style,h.borderWidth&&l["data-type"].match(new RegExp("(^button$)|(^textField$)"))&&(h.width=parseInt(h.width,10)+parseInt(h.borderWidth,10)*2+"px",h.height=parseInt(h.height,10)+parseInt(h.borderWidth,10)*2+"px")),d}}else if(n&&s==="dataSource"){f=v.WAF.dataSource,o=f.attributes.length;for(a=0;a<o;a++)u=f.attributes[a].name,l[u]=t.getAttribute(u);m=t.getAttribute("data-id"),m===null||m===""?(u="id",l[u]=t.getAttribute(u)):l.id=m,u="data-type",l[u]=t.getAttribute(u),u="data-lib",l[u]=t.getAttribute(u),u="data-scope",l[u]=t.getAttribute(u)||WAF.DataSource.GLOBAL,d=f.onInit(l);if(l["data-source-type"]==="scalar"){switch(l["data-dataType"]){case"number":typeof window[l.id]=="undefined"&&(window[l.id]=0);break;case"boolean":typeof window[l.id]=="undefined"&&(window[l.id]=!1);break;case"object":typeof window[l.id]=="undefined"&&(window[l.id]={});break;case"date":typeof window[l.id]=="undefined"&&(window[l.id]=new Date);break;default:typeof window[l.id]=="undefined"&&(window[l.id]="")}return d}return l["data-source-type"]==="object"?(typeof window[l.id]=="undefined"&&(window[l.id]={}),d):l["data-source-type"]==="array"?(typeof window[l.id]=="undefined"&&(window[l.id]=[]),d):l["data-source-type"]==="date"?(typeof window[l.id]=="undefined"&&(window[l.id]=new Date),d):d}return null},generate:function(t,n){var r=[],i=null,s="",o="",u="",a=0,f=0,l=$$(t),c=null,h="",p={},d=0,v="",m=0,g=[],y={},b={},w={},E={},S=[],x=WAF.loader.componentsManager,T=0,N=null,C=null;typeof n=="undefined"&&(n=!0);var k=$("#"+t+"[data-type]");r=$("#"+t+" [data-type]"),k.length!==0&&n&&r.push(k[0]),d=r.length;for(a=0;a<d;a++)i=r[a],s=i.getAttribute("data-id"),o=i.getAttribute("data-type"),u=i.getAttribute("data-scope"),sources&&typeof sources[s]=="undefined"&&o==="dataSource"?(u==="global"&&(E[s]=s),c=this.createComponent(i,!0),c._private.componentID=t,p[s]=c):sources&&typeof sources[s]!="undefined"&&o==="dataSource"&&(u==="global"?(E[s]=s,p[s]=sources[s]):p[s]=sources[s]);WAF.dataSource&&WAF.dataSource.fullyInitAllSources(),S=$("#"+t+" [data-type=component]"),T=S.length;if(T>0)for(a=0;a<T;a++)N=S[a],(N.getAttribute("data-start-load")===null||N.getAttribute("data-start-load")==="true")&&N.getAttribute("data-path")!==null&&N.getAttribute("data-path")!==""&&x.add();for(a=0,d;a<d;a++)i=r[a],this.createComponent(i,!1,!0);g=$("#"+t+" [data-binding]"),f=g.length;for(a=0;a<f;a++)w=g[a].getAttribute("data-binding"),w&&(w=w.split(".")[0],y[w]=w);var L=WAF.require("waf-core/widget");b=L.bindingList={};try{var A=L.get(t);if(A)A.node=document.getElementById(t)||A.node,A._initChildrenFromDom();else{var O=WAF.require("waf-widget/oldwidget"),M=document.getElementById(t);A=new O(M),L.get(M.parentNode).attachWidget(A)}}catch(_){console.warn(_)}for(h in p){c=p[h],v=c._private,m=c.getPosition();if(y[c.getID()]||b[c.getID()])try{m>=0?c.select&&c.dispatch&&c.dispatch("onCollectionChange",{dispatchCompID:t}):typeof E[c.getID()]=="undefined"&&c.resolveSource()}catch(D){console.error("WAF: There is an error with the datasource of id "+v.id,D)}}l&&l.resizable&&$("#"+t).data("resizable")===!0&&l.resizable(!0),l&&l.resizable&&$("#"+t).data("draggable")===!0&&l.draggable(!0),$("#"+t).data("modal")===!0&&($("#"+t).css("z-index","99999"),$("#"+t).parent().append('<div id="waf-component-fade"></div>'),$("#waf-component-fade").css({filter:"alpha(opacity=50)"}).fadeIn().css("z-index","99998"))}};

/** original minified js  - from ../walib/WAF/lib/jquery.svg/jquery.svg.min.js */

/* http://keith-wood.name/svg.html

   SVG for jQuery v1.4.3.

   Written by Keith Wood (kbwood{at}iinet.com.au) August 2007.

   Dual licensed under the GPL (http://dev.jquery.com/browser/trunk/jquery/GPL-LICENSE.txt) and 

   MIT (http://dev.jquery.com/browser/trunk/jquery/MIT-LICENSE.txt) licenses. 

   Please attribute the author if you use it. */

(function($){function SVGManager(){this._settings=[];this._extensions=[];this.regional=[];this.regional['']={errorLoadingText:'Error loading',notSupportedText:'This browser does not support SVG'};this.local=this.regional[''];this._uuid=new Date().getTime();this._renesis=detectActiveX('RenesisX.RenesisCtrl')}function detectActiveX(a){try{return!!(window.ActiveXObject&&new ActiveXObject(a))}catch(e){return false}}var p='svgwrapper';$.extend(SVGManager.prototype,{markerClassName:'hasSVG',svgNS:'http://www.w3.org/2000/svg',xlinkNS:'http://www.w3.org/1999/xlink',_wrapperClass:SVGWrapper,_attrNames:{class_:'class',in_:'in',alignmentBaseline:'alignment-baseline',baselineShift:'baseline-shift',clipPath:'clip-path',clipRule:'clip-rule',colorInterpolation:'color-interpolation',colorInterpolationFilters:'color-interpolation-filters',colorRendering:'color-rendering',dominantBaseline:'dominant-baseline',enableBackground:'enable-background',fillOpacity:'fill-opacity',fillRule:'fill-rule',floodColor:'flood-color',floodOpacity:'flood-opacity',fontFamily:'font-family',fontSize:'font-size',fontSizeAdjust:'font-size-adjust',fontStretch:'font-stretch',fontStyle:'font-style',fontVariant:'font-variant',fontWeight:'font-weight',glyphOrientationHorizontal:'glyph-orientation-horizontal',glyphOrientationVertical:'glyph-orientation-vertical',horizAdvX:'horiz-adv-x',horizOriginX:'horiz-origin-x',imageRendering:'image-rendering',letterSpacing:'letter-spacing',lightingColor:'lighting-color',markerEnd:'marker-end',markerMid:'marker-mid',markerStart:'marker-start',stopColor:'stop-color',stopOpacity:'stop-opacity',strikethroughPosition:'strikethrough-position',strikethroughThickness:'strikethrough-thickness',strokeDashArray:'stroke-dasharray',strokeDashOffset:'stroke-dashoffset',strokeLineCap:'stroke-linecap',strokeLineJoin:'stroke-linejoin',strokeMiterLimit:'stroke-miterlimit',strokeOpacity:'stroke-opacity',strokeWidth:'stroke-width',textAnchor:'text-anchor',textDecoration:'text-decoration',textRendering:'text-rendering',underlinePosition:'underline-position',underlineThickness:'underline-thickness',vertAdvY:'vert-adv-y',vertOriginY:'vert-origin-y',wordSpacing:'word-spacing',writingMode:'writing-mode'},_attachSVG:function(a,b){var c=(a.namespaceURI==this.svgNS?a:null);var a=(c?null:a);if($(a||c).hasClass(this.markerClassName)){return}if(typeof b=='string'){b={loadURL:b}}else if(typeof b=='function'){b={onLoad:b}}$(a||c).addClass(this.markerClassName);try{if(!c){c=document.createElementNS(this.svgNS,'svg');c.setAttribute('version','1.1');c.setAttribute('width',a.clientWidth);c.setAttribute('height',a.clientHeight);a.appendChild(c)}this._afterLoad(a,c,b||{})}catch(e){if($.browser.msie){if(!a.id){a.id='svg'+(this._uuid++)}this._settings[a.id]=b;a.innerHTML='<embed type="image/svg+xml" width="100%" '+'height="100%" src="'+(b.initPath||'')+'blank.svg"/>'}else{a.innerHTML='<p class="svg_error">'+this.local.notSupportedText+'</p>'}}},_registerSVG:function(){for(var i=0;i<document.embeds.length;i++){var a=document.embeds[i].parentNode;if(!$(a).hasClass($.svg.markerClassName)||$.data(a,p)){continue}var b=null;try{b=document.embeds[i].getSVGDocument()}catch(e){setTimeout($.svg._registerSVG,250);return}b=(b?b.documentElement:null);if(b){$.svg._afterLoad(a,b)}}},_afterLoad:function(a,b,c){var c=c||this._settings[a.id];this._settings[a?a.id:'']=null;var d=new this._wrapperClass(b,a);$.data(a||b,p,d);try{if(c.loadURL){d.load(c.loadURL,c)}if(c.settings){d.configure(c.settings)}if(c.onLoad&&!c.loadURL){c.onLoad.apply(a||b,[d])}}catch(e){alert(e)}},_getSVG:function(a){a=(typeof a=='string'?$(a)[0]:(a.jquery?a[0]:a));return $.data(a,p)},_destroySVG:function(a){var b=$(a);if(!b.hasClass(this.markerClassName)){return}b.removeClass(this.markerClassName);if(a.namespaceURI!=this.svgNS){b.empty()}$.removeData(a,p)},addExtension:function(a,b){this._extensions.push([a,b])}});function SVGWrapper(a,b){this._svg=a;this._container=b;for(var i=0;i<$.svg._extensions.length;i++){var c=$.svg._extensions[i];this[c[0]]=new c[1](this)}}$.extend(SVGWrapper.prototype,{_width:function(){return(this._container?this._container.clientWidth:this._svg.width)},_height:function(){return(this._container?this._container.clientHeight:this._svg.height)},root:function(){return this._svg},configure:function(a,b){if(b){for(var i=this._svg.attributes.length-1;i>=0;i--){var c=this._svg.attributes.item(i);if(!(c.nodeName=='onload'||c.nodeName=='version'||c.nodeName.substring(0,5)=='xmlns')){this._svg.attributes.removeNamedItem(c.nodeName)}}}for(var d in a){this._svg.setAttribute(d,a[d])}return this},getElementById:function(a){return this._svg.ownerDocument.getElementById(a)},change:function(a,b){if(a){for(var c in b){if(b[c]==null){a.removeAttribute(c)}else{a.setAttribute(c,b[c])}}}return this},_args:function(b,c,d){c.splice(0,0,'parent');c.splice(c.length,0,'settings');var e={};var f=0;if(b[0]!=null&&b[0].jquery){b[0]=b[0][0]}if(b[0]!=null&&!(typeof b[0]=='object'&&b[0].nodeName)){e['parent']=null;f=1}for(var i=0;i<b.length;i++){e[c[i+f]]=b[i]}if(d){$.each(d,function(i,a){if(typeof e[a]=='object'){e.settings=e[a];e[a]=null}})}return e},title:function(a,b,c){var d=this._args(arguments,['text']);var e=this._makeNode(d.parent,'title',d.settings||{});e.appendChild(this._svg.ownerDocument.createTextNode(d.text));return e},describe:function(a,b,c){var d=this._args(arguments,['text']);var e=this._makeNode(d.parent,'desc',d.settings||{});e.appendChild(this._svg.ownerDocument.createTextNode(d.text));return e},defs:function(a,b,c){var d=this._args(arguments,['id'],['id']);return this._makeNode(d.parent,'defs',$.extend((d.id?{id:d.id}:{}),d.settings||{}))},symbol:function(a,b,c,d,e,f,g){var h=this._args(arguments,['id','x1','y1','width','height']);return this._makeNode(h.parent,'symbol',$.extend({id:h.id,viewBox:h.x1+' '+h.y1+' '+h.width+' '+h.height},h.settings||{}))},marker:function(a,b,c,d,e,f,g,h){var i=this._args(arguments,['id','refX','refY','mWidth','mHeight','orient'],['orient']);return this._makeNode(i.parent,'marker',$.extend({id:i.id,refX:i.refX,refY:i.refY,markerWidth:i.mWidth,markerHeight:i.mHeight,orient:i.orient||'auto'},i.settings||{}))},style:function(a,b,c){var d=this._args(arguments,['styles']);var e=this._makeNode(d.parent,'style',$.extend({type:'text/css'},d.settings||{}));e.appendChild(this._svg.ownerDocument.createTextNode(d.styles));if($.browser.opera){$('head').append('<style type="text/css">'+d.styles+'</style>')}return e},script:function(a,b,c,d){var e=this._args(arguments,['script','type'],['type']);var f=this._makeNode(e.parent,'script',$.extend({type:e.type||'text/javascript'},e.settings||{}));f.appendChild(this._svg.ownerDocument.createTextNode(this._escapeXML(e.script)));if(!$.browser.mozilla){$.globalEval(e.script)}return f},linearGradient:function(a,b,c,d,e,f,g,h){var i=this._args(arguments,['id','stops','x1','y1','x2','y2'],['x1']);var j=$.extend({id:i.id},(i.x1!=null?{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}:{}));return this._gradient(i.parent,'linearGradient',$.extend(j,i.settings||{}),i.stops)},radialGradient:function(a,b,c,d,e,r,f,g,h){var i=this._args(arguments,['id','stops','cx','cy','r','fx','fy'],['cx']);var j=$.extend({id:i.id},(i.cx!=null?{cx:i.cx,cy:i.cy,r:i.r,fx:i.fx,fy:i.fy}:{}));return this._gradient(i.parent,'radialGradient',$.extend(j,i.settings||{}),i.stops)},_gradient:function(a,b,c,d){var e=this._makeNode(a,b,c);for(var i=0;i<d.length;i++){var f=d[i];this._makeNode(e,'stop',$.extend({offset:f[0],stopColor:f[1]},(f[2]!=null?{stopOpacity:f[2]}:{})))}return e},pattern:function(a,b,x,y,c,d,e,f,g,h,i){var j=this._args(arguments,['id','x','y','width','height','vx','vy','vwidth','vheight'],['vx']);var k=$.extend({id:j.id,x:j.x,y:j.y,width:j.width,height:j.height},(j.vx!=null?{viewBox:j.vx+' '+j.vy+' '+j.vwidth+' '+j.vheight}:{}));return this._makeNode(j.parent,'pattern',$.extend(k,j.settings||{}))},mask:function(a,b,x,y,c,d,e){var f=this._args(arguments,['id','x','y','width','height']);return this._makeNode(f.parent,'mask',$.extend({id:f.id,x:f.x,y:f.y,width:f.width,height:f.height},f.settings||{}))},createPath:function(){return new SVGPath()},createText:function(){return new SVGText()},svg:function(a,x,y,b,c,d,e,f,g,h){var i=this._args(arguments,['x','y','width','height','vx','vy','vwidth','vheight'],['vx']);var j=$.extend({x:i.x,y:i.y,width:i.width,height:i.height},(i.vx!=null?{viewBox:i.vx+' '+i.vy+' '+i.vwidth+' '+i.vheight}:{}));return this._makeNode(i.parent,'svg',$.extend(j,i.settings||{}))},group:function(a,b,c){var d=this._args(arguments,['id'],['id']);return this._makeNode(d.parent,'g',$.extend({id:d.id},d.settings||{}))},use:function(a,x,y,b,c,d,e){var f=this._args(arguments,['x','y','width','height','ref']);if(typeof f.x=='string'){f.ref=f.x;f.settings=f.y;f.x=f.y=f.width=f.height=null}var g=this._makeNode(f.parent,'use',$.extend({x:f.x,y:f.y,width:f.width,height:f.height},f.settings||{}));g.setAttributeNS($.svg.xlinkNS,'href',f.ref);return g},link:function(a,b,c){var d=this._args(arguments,['ref']);var e=this._makeNode(d.parent,'a',d.settings);e.setAttributeNS($.svg.xlinkNS,'href',d.ref);return e},image:function(a,x,y,b,c,d,e){var f=this._args(arguments,['x','y','width','height','ref']);var g=this._makeNode(f.parent,'image',$.extend({x:f.x,y:f.y,width:f.width,height:f.height},f.settings||{}));g.setAttributeNS($.svg.xlinkNS,'href',f.ref);return g},path:function(a,b,c){var d=this._args(arguments,['path']);return this._makeNode(d.parent,'path',$.extend({d:(d.path.path?d.path.path():d.path)},d.settings||{}))},rect:function(a,x,y,b,c,d,e,f){var g=this._args(arguments,['x','y','width','height','rx','ry'],['rx']);return this._makeNode(g.parent,'rect',$.extend({x:g.x,y:g.y,width:g.width,height:g.height},(g.rx?{rx:g.rx,ry:g.ry}:{}),g.settings||{}))},circle:function(a,b,c,r,d){var e=this._args(arguments,['cx','cy','r']);return this._makeNode(e.parent,'circle',$.extend({cx:e.cx,cy:e.cy,r:e.r},e.settings||{}))},ellipse:function(a,b,c,d,e,f){var g=this._args(arguments,['cx','cy','rx','ry']);return this._makeNode(g.parent,'ellipse',$.extend({cx:g.cx,cy:g.cy,rx:g.rx,ry:g.ry},g.settings||{}))},line:function(a,b,c,d,e,f){var g=this._args(arguments,['x1','y1','x2','y2']);return this._makeNode(g.parent,'line',$.extend({x1:g.x1,y1:g.y1,x2:g.x2,y2:g.y2},g.settings||{}))},polyline:function(a,b,c){var d=this._args(arguments,['points']);return this._poly(d.parent,'polyline',d.points,d.settings)},polygon:function(a,b,c){var d=this._args(arguments,['points']);return this._poly(d.parent,'polygon',d.points,d.settings)},_poly:function(a,b,c,d){var e='';for(var i=0;i<c.length;i++){e+=c[i].join()+' '}return this._makeNode(a,b,$.extend({points:$.trim(e)},d||{}))},text:function(a,x,y,b,c){var d=this._args(arguments,['x','y','value']);if(typeof d.x=='string'&&arguments.length<4){d.value=d.x;d.settings=d.y;d.x=d.y=null}return this._text(d.parent,'text',d.value,$.extend({x:(d.x&&isArray(d.x)?d.x.join(' '):d.x),y:(d.y&&isArray(d.y)?d.y.join(' '):d.y)},d.settings||{}))},textpath:function(a,b,c,d){var e=this._args(arguments,['path','value']);var f=this._text(e.parent,'textPath',e.value,e.settings||{});f.setAttributeNS($.svg.xlinkNS,'href',e.path);return f},_text:function(a,b,c,d){var e=this._makeNode(a,b,d);if(typeof c=='string'){e.appendChild(e.ownerDocument.createTextNode(c))}else{for(var i=0;i<c._parts.length;i++){var f=c._parts[i];if(f[0]=='tspan'){var g=this._makeNode(e,f[0],f[2]);g.appendChild(e.ownerDocument.createTextNode(f[1]));e.appendChild(g)}else if(f[0]=='tref'){var g=this._makeNode(e,f[0],f[2]);g.setAttributeNS($.svg.xlinkNS,'href',f[1]);e.appendChild(g)}else if(f[0]=='textpath'){var h=$.extend({},f[2]);h.href=null;var g=this._makeNode(e,f[0],h);g.setAttributeNS($.svg.xlinkNS,'href',f[2].href);g.appendChild(e.ownerDocument.createTextNode(f[1]));e.appendChild(g)}else{e.appendChild(e.ownerDocument.createTextNode(f[1]))}}}return e},other:function(a,b,c){var d=this._args(arguments,['name']);return this._makeNode(d.parent,d.name,d.settings||{})},_makeNode:function(a,b,c){a=a||this._svg;var d=this._svg.ownerDocument.createElementNS($.svg.svgNS,b);for(var b in c){var e=c[b];if(e!=null&&e!=null&&(typeof e!='string'||e!='')){d.setAttribute($.svg._attrNames[b]||b,e)}}a.appendChild(d);return d},add:function(b,c){var d=this._args((arguments.length==1?[null,b]:arguments),['node']);var f=this;d.parent=d.parent||this._svg;try{if($.svg._renesis){throw'Force traversal';}d.parent.appendChild(d.node.cloneNode(true))}catch(e){d.node=(d.node.jquery?d.node:$(d.node));d.node.each(function(){var a=f._cloneAsSVG(this);if(a){d.parent.appendChild(a)}})}return this},_cloneAsSVG:function(a){var b=null;if(a.nodeType==1){b=this._svg.ownerDocument.createElementNS($.svg.svgNS,this._checkName(a.nodeName));for(var i=0;i<a.attributes.length;i++){var c=a.attributes.item(i);if(c.nodeName!='xmlns'&&c.nodeValue){if(c.prefix=='xlink'){b.setAttributeNS($.svg.xlinkNS,c.localName,c.nodeValue)}else{b.setAttribute(this._checkName(c.nodeName),c.nodeValue)}}}for(var i=0;i<a.childNodes.length;i++){var d=this._cloneAsSVG(a.childNodes[i]);if(d){b.appendChild(d)}}}else if(a.nodeType==3){if($.trim(a.nodeValue)){b=this._svg.ownerDocument.createTextNode(a.nodeValue)}}else if(a.nodeType==4){if($.trim(a.nodeValue)){try{b=this._svg.ownerDocument.createCDATASection(a.nodeValue)}catch(e){b=this._svg.ownerDocument.createTextNode(a.nodeValue.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'))}}}return b},_checkName:function(a){a=(a.substring(0,1)>='A'&&a.substring(0,1)<='Z'?a.toLowerCase():a);return(a.substring(0,4)=='svg:'?a.substring(4):a)},load:function(h,j){j=(typeof j=='boolean'?{addTo:j}:(typeof j=='function'?{onLoad:j}:j||{}));if(!j.addTo){this.clear(false)}var k=[this._svg.getAttribute('width'),this._svg.getAttribute('height')];var l=this;var m=function(a){a=$.svg.local.errorLoadingText+': '+a;if(j.onLoad){j.onLoad.apply(l._container||l._svg,[l,a])}else{l.text(null,10,20,a)}};var n=function(a){var b=new ActiveXObject('Microsoft.XMLDOM');b.validateOnParse=false;b.resolveExternals=false;b.async=false;b.loadXML(a);if(b.parseError.errorCode!=0){m(b.parseError.reason);return null}return b};var o=function(a){if(!a){return}if(a.documentElement.nodeName!='svg'){var b=a.getElementsByTagName('parsererror');var c=(b.length?b[0].getElementsByTagName('div'):[]);m(!b.length?'???':(c.length?c[0]:b[0]).firstChild.nodeValue);return}var d={};for(var i=0;i<a.documentElement.attributes.length;i++){var f=a.documentElement.attributes.item(i);if(!(f.nodeName=='version'||f.nodeName.substring(0,5)=='xmlns')){d[f.nodeName]=f.nodeValue}}l.configure(d,true);var g=a.documentElement.childNodes;for(var i=0;i<g.length;i++){try{if($.svg._renesis){throw'Force traversal';}l._svg.appendChild(g[i].cloneNode(true));if(g[i].nodeName=='script'){$.globalEval(g[i].textContent)}}catch(e){l.add(null,g[i])}}if(!j.changeSize){l.configure({width:k[0],height:k[1]})}if(j.onLoad){j.onLoad.apply(l._container||l._svg,[l])}};if(h.match('<svg')){o($.browser.msie?n(h):new DOMParser().parseFromString(h,'text/xml'))}else{$.ajax({url:h,dataType:($.browser.msie?'text':'xml'),success:function(a){o($.browser.msie?n(a):a)},error:function(a,b,c){m(b+(c?' '+c.message:''))}})}return this},remove:function(a){a=(a.jquery?a[0]:a);a.parentNode.removeChild(a);return this},clear:function(a){if(a){this.configure({},true)}while(this._svg.firstChild){this._svg.removeChild(this._svg.firstChild)}return this},toSVG:function(a){a=a||this._svg;return(typeof XMLSerializer=='undefined'?this._toSVG(a):new XMLSerializer().serializeToString(a))},_toSVG:function(a){var b='';if(!a){return b}if(a.nodeType==3){b=a.nodeValue}else if(a.nodeType==4){b='<![CDATA['+a.nodeValue+']]>'}else{b='<'+a.nodeName;if(a.attributes){for(var i=0;i<a.attributes.length;i++){var c=a.attributes.item(i);if(!($.trim(c.nodeValue)==''||c.nodeValue.match(/^\[object/)||c.nodeValue.match(/^function/))){b+=' '+(c.namespaceURI==$.svg.xlinkNS?'xlink:':'')+c.nodeName+'="'+c.nodeValue+'"'}}}if(a.firstChild){b+='>';var d=a.firstChild;while(d){b+=this._toSVG(d);d=d.nextSibling}b+='</'+a.nodeName+'>'}else{b+='/>'}}return b},_escapeXML:function(a){a=a.replace(/&/g,'&amp;');a=a.replace(/</g,'&lt;');a=a.replace(/>/g,'&gt;');return a}});function SVGPath(){this._path=''}$.extend(SVGPath.prototype,{reset:function(){this._path='';return this},move:function(x,y,a){a=(isArray(x)?y:a);return this._coords((a?'m':'M'),x,y)},line:function(x,y,a){a=(isArray(x)?y:a);return this._coords((a?'l':'L'),x,y)},horiz:function(x,a){this._path+=(a?'h':'H')+(isArray(x)?x.join(' '):x);return this},vert:function(y,a){this._path+=(a?'v':'V')+(isArray(y)?y.join(' '):y);return this},curveC:function(a,b,c,d,x,y,e){e=(isArray(a)?b:e);return this._coords((e?'c':'C'),a,b,c,d,x,y)},smoothC:function(a,b,x,y,c){c=(isArray(a)?b:c);return this._coords((c?'s':'S'),a,b,x,y)},curveQ:function(a,b,x,y,c){c=(isArray(a)?b:c);return this._coords((c?'q':'Q'),a,b,x,y)},smoothQ:function(x,y,a){a=(isArray(x)?y:a);return this._coords((a?'t':'T'),x,y)},_coords:function(a,b,c,d,e,f,g){if(isArray(b)){for(var i=0;i<b.length;i++){var h=b[i];this._path+=(i==0?a:' ')+h[0]+','+h[1]+(h.length<4?'':' '+h[2]+','+h[3]+(h.length<6?'':' '+h[4]+','+h[5]))}}else{this._path+=a+b+','+c+(d==null?'':' '+d+','+e+(f==null?'':' '+f+','+g))}return this},arc:function(a,b,c,d,e,x,y,f){f=(isArray(a)?b:f);this._path+=(f?'a':'A');if(isArray(a)){for(var i=0;i<a.length;i++){var g=a[i];this._path+=(i==0?'':' ')+g[0]+','+g[1]+' '+g[2]+' '+(g[3]?'1':'0')+','+(g[4]?'1':'0')+' '+g[5]+','+g[6]}}else{this._path+=a+','+b+' '+c+' '+(d?'1':'0')+','+(e?'1':'0')+' '+x+','+y}return this},close:function(){this._path+='z';return this},path:function(){return this._path}});SVGPath.prototype.moveTo=SVGPath.prototype.move;SVGPath.prototype.lineTo=SVGPath.prototype.line;SVGPath.prototype.horizTo=SVGPath.prototype.horiz;SVGPath.prototype.vertTo=SVGPath.prototype.vert;SVGPath.prototype.curveCTo=SVGPath.prototype.curveC;SVGPath.prototype.smoothCTo=SVGPath.prototype.smoothC;SVGPath.prototype.curveQTo=SVGPath.prototype.curveQ;SVGPath.prototype.smoothQTo=SVGPath.prototype.smoothQ;SVGPath.prototype.arcTo=SVGPath.prototype.arc;function SVGText(){this._parts=[]}$.extend(SVGText.prototype,{reset:function(){this._parts=[];return this},string:function(a){this._parts[this._parts.length]=['text',a];return this},span:function(a,b){this._parts[this._parts.length]=['tspan',a,b];return this},ref:function(a,b){this._parts[this._parts.length]=['tref',a,b];return this},path:function(a,b,c){this._parts[this._parts.length]=['textpath',b,$.extend({href:a},c||{})];return this}});$.fn.svg=function(a){var b=Array.prototype.slice.call(arguments,1);if(typeof a=='string'&&a=='get'){return $.svg['_'+a+'SVG'].apply($.svg,[this[0]].concat(b))}return this.each(function(){if(typeof a=='string'){$.svg['_'+a+'SVG'].apply($.svg,[this].concat(b))}else{$.svg._attachSVG(this,a||{})}})};function isArray(a){return(a&&a.constructor==Array)}$.svg=new SVGManager()})(jQuery);;

/** minified js  - from ../walib/WAF/lib/selectbox/jquery-selectbox.js */

jQuery.fn.extend({selectbox:function(e){return this.each(function(){new jQuery.SelectBox(this,e)})}}),jQuery.SelectBox=function(e,t){function l(){o=0,a.hide()}function c(){a.append(y(f.prop("id"))).hide();var e=f.css("width");a.width(e)}function h(e){var t=document.createElement("div");return a=$(t),a.prop("id",r+"_container"),a.addClass(e.containerClass),a}function p(e){var t=document.createElement("input"),n=$(t);return n.prop("id",r+"_input"),n.prop("type","text"),n.addClass(e.inputClass),n.prop("autocomplete","off"),n.prop("readonly","readonly"),n.prop("tabIndex",u.prop("tabindex")),n}function d(e){var t=$("li",a);if(!t)return;i+=e,i<0?i=0:i>=t.size()&&(i=t.size()-1),t.removeClass(n.hoverClass),$(t[i]).addClass(n.hoverClass)}function v(){var e=$("li."+n.hoverClass,a).get(0),t=(""+e.id).split("_"),r=t[t.length-1];return u.val(r),f.val($(e).html()),!0}function m(){return u.val()}function g(){return f.val()}function y(e){var t=new Array,r=document.createElement("ul");return u.children("option").each(function(){var t=document.createElement("li");t.setAttribute("id",e+"_"+$(this).val()),t.innerHTML=$(this).html(),$(this).is(":selected")&&(f.val($(this).html()),$(t).addClass(n.hoverClass)),r.appendChild(t),$(t).mouseover(function(e){o=1,n.debug&&console.log("out on : "+this.id),jQuery(e.target,a).addClass(n.hoverClass)}).mouseout(function(e){o=-1,n.debug&&console.log("out on : "+this.id),jQuery(e.target,a).removeClass(n.hoverClass)}).click(function(e){n.debug&&console.log("click on :"+this.id),$(this).addClass(n.hoverClass),v(),l()})}),r}var n=t||{};n.inputClass=n.inputClass||"selectbox",n.containerClass=n.containerClass||"selectbox-wrapper",n.hoverClass=n.hoverClass||"selected",n.debug=n.debug||!1;var r=e.id,i=-1,s=!1,o=0,u=$(e),a=h(n),f=p(n);u.hide().before(f).before(a),c(),f.click(function(){s||a.toggle()}).focus(function(){a.not(":visible")&&(s=!0,a.show())}).keydown(function(e){switch(e.keyCode){case 38:e.preventDefault(),d(-1);break;case 40:e.preventDefault(),d(1);break;case 13:e.preventDefault(),v(),l()}}).blur(function(){a.is(":visible")&&o>0?n.debug&&console.log("container visible and has focus"):l()})},function(e){e.fn.csb=function(t){e(this).hide();var n=t.style,r=t.mode,i=e(this).prop("id"),s=this.find("option[selected]");if(r=="link")var o=this.find("option:not([selected])");else var o=this.find("option");e(this).parent().append('<dl id="'+i+'" class="csb '+n+'"></dl>'),e("dl#"+i).append('<dt><a name="'+s.val()+'">'+s.text()+"</a></dt>"),e("dl#"+i).append("<dd><ul></ul></dd>"),o.each(function(){e("dl#"+i+" dd ul").append('<li><a name="'+e(this).val()+'">'+e(this).text()+"</a></li>")}),e("."+n+" dt a").click(function(){return e("."+n+" dd ul").toggle(),!1}),e(document).bind("click",function(t){var r=e(t.target);r.parents().hasClass(n)||e("."+n+" dd ul").hide()}),r=="link"?e(document).on("click","."+n+" dd ul li a",function(){e("."+n+" dd ul").hide();var r=e(this).prop("name");return typeof t.callback=="function"&&t.callback(r),!1}):e(document).on("click","."+n+" dd ul li a",function(){var r=e(this).html();e("."+n+" dt a").html(r),e("."+n+" dd ul").hide();var s=e("select#"+i),o=e(this).prop("name");return s.val(o),typeof t.callback=="function"&&t.callback(o,t.data),!1})}}(jQuery);

/** minified js  - from ../walib/WAF/lib/combobox/jquery-combobox.js */

$.widget("ui.combobox",{_create:function(){var e=this,t=this.element.hide(),n=t.children(":selected"),r=n.val()?n.text():"",i=this.input=$("<input>").insertAfter(t).val(r).autocomplete({delay:0,minLength:0,source:function(e,n){var r=new RegExp($.ui.autocomplete.escapeRegex(e.term),"i");n(t.children("option").map(function(){var t=$(this).text();if(!e.term||r.test(t))return{label:t.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+$.ui.autocomplete.escapeRegex(e.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>"),value:t,option:this}}))},select:function(t,n){n.item.option.selected=!0,e._trigger("selected",t,{item:n.item.option})},change:function(e,n){if(!n.item){var r=new RegExp("^"+$.ui.autocomplete.escapeRegex($(this).val())+"$","i"),s=!1;t.children("option").each(function(){if($(this).text().match(r))return this.selected=s=!0,!1});if(!s)return $(this).val(""),t.val(""),i.data("autocomplete").term="",!1}}}).addClass("ui-widget ui-widget-content ui-corner-left");i.data("autocomplete")._renderItem=function(e,t){return $("<li></li>").data("item.autocomplete",t).append("<a>"+t.label+"</a>").appendTo(e)},this.button=$("<button type='button'>&nbsp;</button>").prop("tabIndex",-1).prop("title","Show All Items").insertAfter(i).button({icons:{primary:"ui-icon-triangle-1-s"},text:!1}).removeClass("ui-corner-all").addClass("ui-corner-right ui-button-icon").click(function(){if(i.autocomplete("widget").is(":visible")){i.autocomplete("close");return}$(this).blur(),i.autocomplete("search","")})},destroy:function(){this.input.remove(),this.button.remove(),this.element.show(),$.Widget.prototype.destroy.call(this)},setValue:function(e){var t=this.input;$("option",this.element).each(function(){if($(this).val()==e)return this.selected=!0,t.val(this.text),!1})}});

/** minified js  - from ../walib/WAF/lib/beautytips/beautytips.js */

jQuery.bt={version:"0.9.5-rc1"},function($){jQuery.fn.bt=function(content,options){function drawIt(e,t){this.moveTo(e[0].x,e[0].y);for(i=1;i<e.length;i++)e[i-1].type=="arcStart"?(this.quadraticCurveTo(round5(e[i].x,t),round5(e[i].y,t),round5(e[(i+1)%e.length].x,t),round5(e[(i+1)%e.length].y,t)),i++):this.lineTo(round5(e[i].x,t),round5(e[i].y,t))}function round5(e,t){var n;return t=numb(t),t%2?n=e:n=Math.round(e-.5)+.5,n}function numb(e){return parseInt(e)||0}function arrayRemove(e,t){var n,r=new Array;for(n in e)e[n]!=t&&r.push(e[n]);return r}function canvasSupport(){var e=!1;try{e=!!document.createElement("canvas").getContext("2d")}catch(t){e=!!document.createElement("canvas").getContext}return e}function shadowSupport(){try{var e=navigator.userAgent.toLowerCase();if(/webkit/.test(e))return!0;if(/gecko|mozilla/.test(e)&&parseFloat(e.match(/firefox\/(\d+(?:\.\d+)+)/)[1])>=3.1)return!0}catch(t){}return!1}function betweenPoint(e,t,n){var r,i;if(e.x==t.x)return r=e.y<t.y?e.y+n:e.y-n,{x:e.x,y:r};if(e.y==t.y)return i=e.x<t.x?e.x+n:e.x-n,{x:i,y:e.y}}function centerPoint(e,t,n){var r=t.x==e.x?n.x:e.x,i=t.y==e.y?n.y:e.y,s,o;return e.x<n.x?e.y>n.y?(s=Math.PI/180*180,o=Math.PI/180*90):(s=Math.PI/180*90,o=0):e.y>n.y?(s=Math.PI/180*270,o=Math.PI/180*180):(s=0,o=Math.PI/180*270),{x:r,y:i,type:"center",startAngle:s,endAngle:o}}function findIntersect(e,t,n,r,i,s,o,u){if(i==o)return findIntersectY(e,t,n,r,i);if(s==u)return findIntersectX(e,t,n,r,s);var a=(t-r)/(e-n),f=t-a*e,l=(s-u)/(i-o),c=s-l*i,h=(c-f)/(a-l),p=a*h+f;return{x:h,y:p}}function findIntersectY(e,t,n,r,i){if(t==r)return{x:i,y:t};var s=(t-r)/(e-n),o=t-s*e,u=s*i+o;return{x:i,y:u}}function findIntersectX(e,t,n,r,i){if(e==n)return{x:e,y:i};var s=(t-r)/(e-n),o=t-s*e,u=(i-o)/s;return{x:u,y:i}}if(typeof content!="string"){var contentSelect=!0;options=content,content=!1}else var contentSelect=!1;return jQuery.fn.hoverIntent&&jQuery.bt.defaults.trigger=="hover"&&(jQuery.bt.defaults.trigger="hoverIntent"),this.each(function(index){var opts=jQuery.extend(!1,jQuery.bt.defaults,jQuery.bt.options,options);opts.spikeLength=numb(opts.spikeLength),opts.spikeGirth=numb(opts.spikeGirth),opts.overlap=numb(opts.overlap);var ajaxTimeout=!1;opts.killTitle&&$(this).find("[title]").andSelf().each(function(){$(this).prop("bt-xTitle")||$(this).prop("bt-xTitle",$(this).prop("title")).prop("title","")}),typeof opts.trigger=="string"&&(opts.trigger=[opts.trigger]);if(opts.trigger[0]=="hoverIntent"){var hoverOpts=jQuery.extend(opts.hoverIntentOpts,{over:function(){this.btOn()},out:function(){this.btOff()}});$(this).hoverIntent(hoverOpts)}else opts.trigger[0]=="hover"?$(this).hover(function(){this.btOn()},function(){this.btOff()}):opts.trigger[0]=="now"?$(this).hasClass("bt-active")?this.btOff():this.btOn():opts.trigger[0]!="none"&&(opts.trigger.length>1&&opts.trigger[0]!=opts.trigger[1]?$(this).bind(opts.trigger[0],function(){this.btOn()}).bind(opts.trigger[1],function(){this.btOff()}):$(this).bind(opts.trigger[0],function(){$(this).hasClass("bt-active")?this.btOff():this.btOn()}));this.btOn=function(){typeof $(this).data("bt-box")=="object"&&this.btOff(),opts.preBuild.apply(this),$(jQuery.bt.vars.closeWhenOpenStack).btOff(),$(this).addClass("bt-active "+opts.activeClass),contentSelect&&opts.ajaxPath==null&&(opts.killTitle&&$(this).prop("title",$(this).prop("bt-xTitle")),content=$.isFunction(opts.contentSelector)?opts.contentSelector.apply(this):eval(opts.contentSelector),opts.killTitle&&$(this).prop("title",""));if(opts.ajaxPath!=null&&content==0){if(typeof opts.ajaxPath=="object"){var url=eval(opts.ajaxPath[0]);url+=opts.ajaxPath[1]?" "+opts.ajaxPath[1]:""}else var url=opts.ajaxPath;var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}var cacheData=opts.ajaxCache?$(document.body).data("btCache-"+url.replace(/\./g,"")):null;if(typeof cacheData=="string")content=selector?$("<div/>").append(cacheData.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):cacheData;else{var target=this,ajaxOpts=jQuery.extend(!1,{type:opts.ajaxType,data:opts.ajaxData,cache:opts.ajaxCache,url:url,complete:function(e,t){t=="success"||t=="notmodified"?(opts.ajaxCache&&$(document.body).data("btCache-"+url.replace(/\./g,""),e.responseText),ajaxTimeout=!1,content=selector?$("<div/>").append(e.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):e.responseText):(t=="timeout"&&(ajaxTimeout=!0),content=opts.ajaxError.replace(/%error/g,e.statusText)),$(target).hasClass("bt-active")&&target.btOn()}},opts.ajaxOpts);jQuery.ajax(ajaxOpts),content=opts.ajaxLoading}}var shadowMarginX=0,shadowMarginY=0,shadowShiftX=0,shadowShiftY=0;opts.shadow&&!shadowSupport()&&(opts.shadow=!1,jQuery.extend(opts,opts.noShadowOpts)),opts.shadow&&(opts.shadowBlur>Math.abs(opts.shadowOffsetX)?shadowMarginX=opts.shadowBlur*2:shadowMarginX=opts.shadowBlur+Math.abs(opts.shadowOffsetX),shadowShiftX=opts.shadowBlur-opts.shadowOffsetX>0?opts.shadowBlur-opts.shadowOffsetX:0,opts.shadowBlur>Math.abs(opts.shadowOffsetY)?shadowMarginY=opts.shadowBlur*2:shadowMarginY=opts.shadowBlur+Math.abs(opts.shadowOffsetY),shadowShiftY=opts.shadowBlur-opts.shadowOffsetY>0?opts.shadowBlur-opts.shadowOffsetY:0);if(opts.offsetParent)var offsetParent=$(opts.offsetParent),offsetParentPos=offsetParent.offset(),pos=$(this).offset(),top=numb(pos.top)-numb(offsetParentPos.top)+numb($(this).css("margin-top"))-shadowShiftY,left=numb(pos.left)-numb(offsetParentPos.left)+numb($(this).css("margin-left"))-shadowShiftX;else var offsetParent=$(this).css("position")=="absolute"?$(this).parents().eq(0).offsetParent():$(this).offsetParent(),pos=$(this).btPosition(),top=numb(pos.top)+numb($(this).css("margin-top"))-shadowShiftY,left=numb(pos.left)+numb($(this).css("margin-left"))-shadowShiftX;var width=$(this).btOuterWidth(),height=$(this).outerHeight();if(typeof content=="object"){var original=content,clone=$(original).clone(!0).show(),origClones=$(original).data("bt-clones")||[];origClones.push(clone),$(original).data("bt-clones",origClones),$(clone).data("bt-orig",original),$(this).data("bt-content-orig",{original:original,clone:clone}),content=clone}if(typeof content=="null"||content=="")return;var $text=$('<div class="bt-content"></div>').append(content).css({padding:opts.padding,position:"absolute",width:opts.shrinkToFit?"auto":opts.width,zIndex:opts.textzIndex,left:shadowShiftX,top:shadowShiftY}).css(opts.cssStyles),$box=$('<div class="bt-wrapper"></div>').append($text).addClass(opts.cssClass).css({position:"absolute",width:opts.width,zIndex:opts.wrapperzIndex,visibility:"hidden"}).appendTo(offsetParent);jQuery.fn.bgiframe&&($text.bgiframe(),$box.bgiframe()),$(this).data("bt-box",$box);var scrollTop=numb($(document).scrollTop()),scrollLeft=numb($(document).scrollLeft()),docWidth=numb($(window).width()),docHeight=numb($(window).height()),winRight=scrollLeft+docWidth,winBottom=scrollTop+docHeight,space=new Object,thisOffset=$(this).offset();space.top=thisOffset.top-scrollTop,space.bottom=docHeight-(thisOffset+height-scrollTop),space.left=thisOffset.left-scrollLeft,space.right=docWidth-(thisOffset.left+width-scrollLeft);var textOutHeight=numb($text.outerHeight()),textOutWidth=numb($text.btOuterWidth());opts.positions.constructor==String&&(opts.positions=opts.positions.replace(/ /,"").split(","));if(opts.positions[0]=="most"){var position="top";for(var pig in space)position=space[pig]>space[position]?pig:position}else for(var x in opts.positions){var position=opts.positions[x];if((position=="left"||position=="right")&&space[position]>textOutWidth+opts.spikeLength)break;if((position=="top"||position=="bottom")&&space[position]>textOutHeight+opts.spikeLength)break}var horiz=left+(width-textOutWidth)*.5,vert=top+(height-textOutHeight)*.5,points=new Array,textTop,textLeft,textRight,textBottom,textTopSpace,textBottomSpace,textLeftSpace,textRightSpace,crossPoint,textCenter,spikePoint;switch(position){case"top":$text.css("margin-bottom",opts.spikeLength+"px"),$box.css({top:top-$text.outerHeight(!0)+opts.overlap,left:horiz}),textRightSpace=winRight-opts.windowMargin-($text.offset().left+$text.btOuterWidth(!0));var xShift=shadowShiftX;textRightSpace<0&&($box.css("left",numb($box.css("left"))+textRightSpace+"px"),xShift-=textRightSpace),textLeftSpace=$text.offset().left+numb($text.css("margin-left"))-(scrollLeft+opts.windowMargin),textLeftSpace<0&&($box.css("left",numb($box.css("left"))-textLeftSpace+"px"),xShift+=textLeftSpace),textTop=$text.btPosition().top+numb($text.css("margin-top")),textLeft=$text.btPosition().left+numb($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*opts.centerPointX,y:textTop+$text.outerHeight()*opts.centerPointY},points[points.length]=spikePoint={y:textBottom+opts.spikeLength,x:(textRight-textLeft)*.5+xShift,type:"spike"},crossPoint=findIntersectX(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textBottom),crossPoint.x=crossPoint.x<textLeft+opts.spikeGirth/2+opts.cornerRadius?textLeft+opts.spikeGirth/2+opts.cornerRadius:crossPoint.x,crossPoint.x=crossPoint.x>textRight-opts.spikeGirth/2-opts.cornerRadius?textRight-opts.spikeGirth/2-opts.CornerRadius:crossPoint.x,points[points.length]={x:crossPoint.x-opts.spikeGirth/2,y:textBottom,type:"join"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:crossPoint.x+opts.spikeGirth/2,y:textBottom,type:"join"},points[points.length]=spikePoint;break;case"left":$text.css("margin-right",opts.spikeLength+"px"),$box.css({top:vert+"px",left:left-$text.btOuterWidth(!0)+opts.overlap+"px"}),textBottomSpace=winBottom-opts.windowMargin-($text.offset().top+$text.outerHeight(!0));var yShift=shadowShiftY;textBottomSpace<0&&($box.css("top",numb($box.css("top"))+textBottomSpace+"px"),yShift-=textBottomSpace),textTopSpace=$text.offset().top+numb($text.css("margin-top"))-(scrollTop+opts.windowMargin),textTopSpace<0&&($box.css("top",numb($box.css("top"))-textTopSpace+"px"),yShift+=textTopSpace),textTop=$text.btPosition().top+numb($text.css("margin-top")),textLeft=$text.btPosition().left+numb($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*opts.centerPointX,y:textTop+$text.outerHeight()*opts.centerPointY},points[points.length]=spikePoint={x:textRight+opts.spikeLength,y:(textBottom-textTop)*.5+yShift,type:"spike"},crossPoint=findIntersectY(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textRight),crossPoint.y=crossPoint.y<textTop+opts.spikeGirth/2+opts.cornerRadius?textTop+opts.spikeGirth/2+opts.cornerRadius:crossPoint.y,crossPoint.y=crossPoint.y>textBottom-opts.spikeGirth/2-opts.cornerRadius?textBottom-opts.spikeGirth/2-opts.cornerRadius:crossPoint.y,points[points.length]={x:textRight,y:crossPoint.y+opts.spikeGirth/2,type:"join"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:crossPoint.y-opts.spikeGirth/2,type:"join"},points[points.length]=spikePoint;break;case"bottom":$text.css("margin-top",opts.spikeLength+"px"),$box.css({top:top+height-opts.overlap,left:horiz}),textRightSpace=winRight-opts.windowMargin-($text.offset().left+$text.btOuterWidth(!0));var xShift=shadowShiftX;textRightSpace<0&&($box.css("left",numb($box.css("left"))+textRightSpace+"px"),xShift-=textRightSpace),textLeftSpace=$text.offset().left+numb($text.css("margin-left"))-(scrollLeft+opts.windowMargin),textLeftSpace<0&&($box.css("left",numb($box.css("left"))-textLeftSpace+"px"),xShift+=textLeftSpace),textTop=$text.btPosition().top+numb($text.css("margin-top")),textLeft=$text.btPosition().left+numb($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*opts.centerPointX,y:textTop+$text.outerHeight()*opts.centerPointY},points[points.length]=spikePoint={x:(textRight-textLeft)*.5+xShift,y:shadowShiftY,type:"spike"},crossPoint=findIntersectX(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textTop),crossPoint.x=crossPoint.x<textLeft+opts.spikeGirth/2+opts.cornerRadius?textLeft+opts.spikeGirth/2+opts.cornerRadius:crossPoint.x,crossPoint.x=crossPoint.x>textRight-opts.spikeGirth/2-opts.cornerRadius?textRight-opts.spikeGirth/2-opts.cornerRadius:crossPoint.x,points[points.length]={x:crossPoint.x+opts.spikeGirth/2,y:textTop,type:"join"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:crossPoint.x-opts.spikeGirth/2,y:textTop,type:"join"},points[points.length]=spikePoint;break;case"right":$text.css("margin-left",opts.spikeLength+"px"),$box.css({top:vert+"px",left:left+width-opts.overlap+"px"}),textBottomSpace=winBottom-opts.windowMargin-($text.offset().top+$text.outerHeight(!0));var yShift=shadowShiftY;textBottomSpace<0&&($box.css("top",numb($box.css("top"))+textBottomSpace+"px"),yShift-=textBottomSpace),textTopSpace=$text.offset().top+numb($text.css("margin-top"))-(scrollTop+opts.windowMargin),textTopSpace<0&&($box.css("top",numb($box.css("top"))-textTopSpace+"px"),yShift+=textTopSpace),textTop=$text.btPosition().top+numb($text.css("margin-top")),textLeft=$text.btPosition().left+numb($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*opts.centerPointX,y:textTop+$text.outerHeight()*opts.centerPointY},points[points.length]=spikePoint={x:shadowShiftX,y:(textBottom-textTop)*.5+yShift,type:"spike"},crossPoint=findIntersectY(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textLeft),crossPoint.y=crossPoint.y<textTop+opts.spikeGirth/2+opts.cornerRadius?textTop+opts.spikeGirth/2+opts.cornerRadius:crossPoint.y,crossPoint.y=crossPoint.y>textBottom-opts.spikeGirth/2-opts.cornerRadius?textBottom-opts.spikeGirth/2-opts.cornerRadius:crossPoint.y,points[points.length]={x:textLeft,y:crossPoint.y-opts.spikeGirth/2,type:"join"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:crossPoint.y+opts.spikeGirth/2,type:"join"},points[points.length]=spikePoint}var canvas=document.createElement("canvas");$(canvas).prop("width",numb($text.btOuterWidth(!0))+opts.strokeWidth*2+shadowMarginX).prop("height",numb($text.outerHeight(!0))+opts.strokeWidth*2+shadowMarginY).appendTo($box).css({position:"absolute",zIndex:opts.boxzIndex}),typeof G_vmlCanvasManager!="undefined"&&(canvas=G_vmlCanvasManager.initElement(canvas));if(opts.cornerRadius>0){var newPoints=new Array,newPoint;for(var i=0;i<points.length;i++)points[i].type=="corner"?(newPoint=betweenPoint(points[i],points[(i-1)%points.length],opts.cornerRadius),newPoint.type="arcStart",newPoints[newPoints.length]=newPoint,newPoints[newPoints.length]=points[i],newPoint=betweenPoint(points[i],points[(i+1)%points.length],opts.cornerRadius),newPoint.type="arcEnd",newPoints[newPoints.length]=newPoint):newPoints[newPoints.length]=points[i];points=newPoints}var ctx=canvas.getContext("2d");if(opts.shadow&&opts.shadowOverlap!==!0){var shadowOverlap=numb(opts.shadowOverlap);switch(position){case"top":opts.shadowOffsetX+opts.shadowBlur-shadowOverlap>0&&$box.css("top",numb($box.css("top"))-(opts.shadowOffsetX+opts.shadowBlur-shadowOverlap));break;case"right":shadowShiftX-shadowOverlap>0&&$box.css("left",numb($box.css("left"))+shadowShiftX-shadowOverlap);break;case"bottom":shadowShiftY-shadowOverlap>0&&$box.css("top",numb($box.css("top"))+shadowShiftY-shadowOverlap);break;case"left":opts.shadowOffsetY+opts.shadowBlur-shadowOverlap>0&&$box.css("left",numb($box.css("left"))-(opts.shadowOffsetY+opts.shadowBlur-shadowOverlap))}}drawIt.apply(ctx,[points],opts.strokeWidth),ctx.fillStyle=opts.fill,opts.shadow&&(ctx.shadowOffsetX=opts.shadowOffsetX,ctx.shadowOffsetY=opts.shadowOffsetY,ctx.shadowBlur=opts.shadowBlur,ctx.shadowColor=opts.shadowColor),ctx.closePath(),ctx.fill(),opts.strokeWidth>0&&(ctx.shadowColor="rgba(0, 0, 0, 0)",ctx.lineWidth=opts.strokeWidth,ctx.strokeStyle=opts.strokeStyle,ctx.beginPath(),drawIt.apply(ctx,[points],opts.strokeWidth),ctx.closePath(),ctx.stroke()),opts.preShow.apply(this,[$box[0]]),$box.css({display:"none",visibility:"visible"}),opts.showTip.apply(this,[$box[0]]);if(opts.overlay){var overlay=$('<div class="bt-overlay"></div>').css({position:"absolute",backgroundColor:"blue",top:top,left:left,width:width,height:height,opacity:".2"}).appendTo(offsetParent);$(this).data("overlay",overlay)}if(opts.ajaxPath!=null&&opts.ajaxCache==0||ajaxTimeout)content=!1;opts.clickAnywhereToClose&&(jQuery.bt.vars.clickAnywhereStack.push(this),$(document).click(jQuery.bt.docClick)),opts.closeWhenOthersOpen&&jQuery.bt.vars.closeWhenOpenStack.push(this),opts.postShow.apply(this,[$box[0]])},this.btOff=function(){var e=$(this).data("bt-box");opts.preHide.apply(this,[e]);var t=this;t.btCleanup=function(){var e=$(t).data("bt-box"),n=$(t).data("bt-content-orig"),r=$(t).data("bt-overlay");typeof e=="object"&&($(e).remove(),$(t).removeData("bt-box"));if(typeof n=="object"){var s=$(n.original).data("bt-clones");$(n).data("bt-clones",arrayRemove(s,n.clone))}typeof r=="object"&&($(r).remove(),$(t).removeData("bt-overlay")),jQuery.bt.vars.clickAnywhereStack=arrayRemove(jQuery.bt.vars.clickAnywhereStack,t),jQuery.bt.vars.closeWhenOpenStack=arrayRemove(jQuery.bt.vars.closeWhenOpenStack,t),$(t).removeClass("bt-active "+opts.activeClass),opts.postHide.apply(t)},opts.hideTip.apply(this,[e,t.btCleanup])};var refresh=this.btRefresh=function(){this.btOff(),this.btOn()}})},jQuery.fn.btPosition=function(){function e(e,t){return e[0]&&parseInt(jQuery.curCSS(e[0],t,!0),10)||0}var t=0,n=0,r;if(this[0]){var i=this.offsetParent(),s=this.offset(),o=/^body|html$/i.test(i[0].tagName)?{top:0,left:0}:i.offset();s.top-=e(this,"marginTop"),s.left-=e(this,"marginLeft"),o.top+=e(i,"borderTopWidth"),o.left+=e(i,"borderLeftWidth"),r={top:s.top-o.top,left:s.left-o.left}}return r},jQuery.fn.btOuterWidth=function(e){function t(e,t){return e[0]&&parseInt(jQuery.curCSS(e[0],t,!0),10)||0}return this.innerWidth()+t(this,"borderLeftWidth")+t(this,"borderRightWidth")+(e?t(this,"marginLeft")+t(this,"marginRight"):0)},jQuery.fn.btOn=function(){return this.each(function(e){jQuery.isFunction(this.btOn)&&this.btOn()})},jQuery.fn.btOff=function(){return this.each(function(e){jQuery.isFunction(this.btOff)&&this.btOff()})},jQuery.bt.vars={clickAnywhereStack:[],closeWhenOpenStack:[]},jQuery.bt.docClick=function(e){if(!e)var e=window.event;!$(e.target).parents().andSelf().filter(".bt-wrapper, .bt-active").length&&jQuery.bt.vars.clickAnywhereStack.length&&($(jQuery.bt.vars.clickAnywhereStack).btOff(),$(document).unbind("click",jQuery.bt.docClick))},jQuery.bt.defaults={trigger:"hover",clickAnywhereToClose:!0,closeWhenOthersOpen:!1,shrinkToFit:!1,width:"200px",padding:"10px",spikeGirth:10,spikeLength:15,overlap:0,overlay:!1,killTitle:!0,textzIndex:9999,boxzIndex:9998,wrapperzIndex:9997,offsetParent:null,positions:["most"],fill:"rgb(255, 255, 102)",windowMargin:10,strokeWidth:1,strokeStyle:"#000",cornerRadius:5,centerPointX:.5,centerPointY:.5,shadow:!1,shadowOffsetX:2,shadowOffsetY:2,shadowBlur:3,shadowColor:"#000",shadowOverlap:!1,noShadowOpts:{strokeStyle:"#999"},cssClass:"",cssStyles:{},activeClass:"bt-active",contentSelector:"$(this).prop('title')",ajaxPath:null,ajaxError:"<strong>ERROR:</strong> <em>%error</em>",ajaxLoading:"<blink>Loading...</blink>",ajaxData:{},ajaxType:"GET",ajaxCache:!0,ajaxOpts:{},preBuild:function(){},preShow:function(e){},showTip:function(e){$(e).show()},postShow:function(e){},preHide:function(e){},hideTip:function(e,t){$(e).hide(),t()},postHide:function(){},hoverIntentOpts:{interval:300,timeout:500}},jQuery.bt.options={}}(jQuery);

/** minified js  - from ../walib/WAF/lib/notify/jquery.notify.js */

(function(e){e.widget("ech.notify",{options:{speed:500,expires:5e3,stack:"below",custom:!1},_create:function(){var t=this;this.templates={},this.keys=[],this.element.addClass("ui-notify").children().addClass("ui-notify-message ui-notify-message-style").each(function(n){var r=this.id||n;t.keys.push(r),t.templates[r]=e(this).removeProp("id").wrap("<div></div>").parent().html()}).end().empty().show()},create:function(t,n,r){typeof t=="object"&&(r=n,n=t,t=null);var i=this.templates[t||this.keys[0]];return r&&r.custom&&(i=e(i).removeClass("ui-notify-message-style").wrap("<div></div>").parent().html()),(new e.ech.notify.instance(this))._create(n,e.extend({},this.options,r),i)}}),e.extend(e.ech.notify,{instance:function(e){this.parent=e,this.isOpen=!1}}),e.extend(e.ech.notify.instance.prototype,{_create:function(t,n,r){this.options=n;var i=this,s=r.replace(/#(?:\{|%7B)(.*?)(?:\}|%7D)/g,function(e,n){return n in t?t[n]:""}),o=this.element=e(s),u=o.find(".ui-notify-close");return typeof this.options.click=="function"&&o.addClass("ui-notify-click").bind("click",function(e){i._trigger("click",e,i)}),u.length&&u.bind("click",function(){return i.close(),!1}),this.open(),typeof n.expires=="number"&&window.setTimeout(function(){i.close()},n.expires),this},close:function(){var e=this,t=this.options.speed;return this.element.fadeTo(t,0).slideUp(t,function(){e._trigger("close"),e.isOpen=!1}),this},open:function(){if(this.isOpen||this._trigger("beforeopen")===!1)return this;var e=this;return this.element[this.options.stack==="above"?"prependTo":"appendTo"](this.parent.element).css({display:"none",opacity:""}).fadeIn(this.options.speed,function(){e._trigger("open"),e.isOpen=!0}),this},widget:function(){return this.element},_trigger:function(e,t,n){return this.parent._trigger.call(this,e,t,n)}})})(jQuery);

/** minified js  - from ../walib/WAF/widget/widget.js */

WAF.Widget=function(){var t=null;return t=typeof this=="undefined"?new WAF.Widget:this,t},WAF.Widget._generateId=function(t){var n,t;return t=t||"",n=t+""+Math.floor(Math.random()*100*100*99),$$(n)&&(n=WAF.Widget._generateId()),n},WAF.Widget.prototype.redraw=function(){throw new Error("method not yet implemented")},WAF.Widget.prototype.rebuild=function(){var e=WAF.config.widget,t,n=this.config["data-lib"],r=this.config["data-type"],i,s,o,u;if(!this.domNode)return!1;s=this.domNode.parentNode,s.replaceChild(this.domCloneNode,this.domNode);if(this.source){for(o=0,u=this.source._private.listeners.length;o<u;o++){if(!this.source._private.listeners[o])continue;this.id==this.source._private.listeners[o].id&&this.source.removeListener(this.source._private.listeners[o])}delete this.source}delete WAF.widgets[this.id],t=e[n][r],t.onInit(this.initConf),i=WAF.widgets[this.id],i._callResizeEvents&&i._callResizeEvents("on"),i.ready&&i.ready(),i.source&&(i.source.dispatch("onCollectionChange",{dispatcherTargetID:i.id}),i.source.dispatch("onCurrentElementChange",{dispatcherTargetID:i.id}))},WAF.Widget.prototype.render=function(t){throw new Error("method not yet implemented")},WAF.Widget.prototype.move=function(t,n){this.setLeft(t),this.setTop(n)},WAF.Widget.prototype.isVisible=function(){return this._isVisible=this.$domNode.css("visibility")=="hidden"||this.$domNode.css("display")=="none"?!1:!0,this._isVisible},WAF.Widget.prototype.toggle=function(t){this.isVisible()?this.hide(t):this.show()},WAF.Widget.prototype.show=function(){var t=$("[for = "+this.id+"]"),n=$('img[src="../walib/WAF/widget/png/date-picker-trigger.png?id='+this.id+'"]');this._hideType==="visibility"?(t.css("visibility","visible"),n.css("visibility","visible"),this.$domNode.css("visibility","visible"),$.each(this.$domNode.find("*"),function(){var e;e=$(this),e.data("hasBeenHidden")&&e.css("visibility","visible")})):(t.show(),n.show(),this.$domNode.show()),this.config["data-hideonload"]==="true"&&this.getChildren().forEach(function(e){typeof e!="undefined"&&e.config&&e.config["data-type"]==="radioGroup"&&e.rebuild()}),this._isVisible=!0},WAF.Widget.prototype.hide=function(t){var n=$("[for = "+this.id+"]"),r=$('img[src="../walib/WAF/widget/png/date-picker-trigger.png?id='+this.id+'"]'),i=this.$domNode;t&&t==="visibility"?(this._hideType="visibility",n.css("visibility","hidden"),r.css("visibility","hidden"),this.$domNode.css("visibility","hidden"),$.each(this.$domNode.find("*"),function(){var e;e=$(this),this.style.visibility==="visible"&&e.css("visibility","hidden").data("hasBeenHidden",!0)})):(this._hideType="display",n.hide(),r.hide(),this.$domNode.hide()),i.hasClass("hasDatepicker")&&i.datepicker("hide"),this._isVisible=!1},WAF.Widget.prototype.destroy=function(){var t=this.getChildren(),n=t.length,r=0,i=null;this.source&&this.source.removeListener&&this.source.removeListener({widgetId:this.id}),this.sourceAtt&&this.sourceAtt.removeListener&&this.sourceAtt.removeListener({widgetId:this.id}),this.sourceOut&&this.sourceOut.removeListener&&this.sourceOut.removeListener({widgetId:this.id});for(r=0;r<n;r++)i=t[r],i.id&&WAF.widgets[i.id]&&WAF.widgets[i.id].destroy&&WAF.widgets[i.id].destroy();delete WAF.widgets[this.id],this.$domNode.remove()},WAF.Widget.prototype.addListener=function(t,n,r){typeof r=="undefined"?this.$domNode.bind(t,n):this.$domNode.bind(t,r,n)},WAF.Widget.prototype.removeListener=function(t,n){typeof n=="undefined"?this.$domNode.unbind(t):this.$domNode.unbind(t,n)},WAF.Widget.prototype.setTabIndex=function(t){throw new Error("method not yet implemented")},WAF.Widget.prototype.setTabIndex=function(){throw new Error("method not yet implemented")},WAF.Widget.prototype.focus=function(t){var n=this.$domNode;typeof t=="undefined"&&(t=!0),t?(n.focus(),n.addClass("waf-state-focus")):(n.blur(),n.removeClass("waf-state-focus"))},WAF.Widget.prototype.hasFocus=function(){return this.$domNode.is(":focus")},WAF.Widget.prototype.setTextColor=function(t){switch(this.kind){case"dataGrid":$("#"+this.renderId).css("color",t);break;default:this.$domNode.css("color",t)}},WAF.Widget.prototype.setBackgroundColor=function(t){switch(this.kind){case"dataGrid":$("#"+this.renderId+" .waf-dataGrid-body").css("background-color",t);break;default:this.$domNode.css("background-color",t)}},WAF.Widget.prototype._callResizeEvents=function(t,n){var r=null,i=null,s=null;r=this,i=WAF.events[r.id],s=$(r.containerNode),t=t||"on",$(r).trigger("widgetResize",[t]);switch(t){case"on":r.onResize&&r.onResize(n);break;case"start":r.startResize&&r.startResize(n);break;case"stop":r.stopResize&&r.stopResize(n)}i&&$.each(WAF.events[r.id],function(){(this.name=="onResize"&&t=="on"||this.name=="startResize"&&t=="start"||this.name=="stopResize"&&t=="stop")&&this.fn(n)}),WAF.PLATFORM.modulesString!="mobile"&&$.each(s.children(),function(){var e,r,i;e=$(this),r=$$(e.prop("id")),r&&r._checkResize&&(i=r._checkResize(),r&&(i.x==1||i.y==1)&&r._callResizeEvents&&r._callResizeEvents(t,n))})},WAF.Widget.prototype.resizable=function(e){var t,n;n="",t=this,e=typeof e!="undefined"?e:!0,n=$(this.containerNode),e&&this._callResizeEvents?n.resizable({start:function(e){t._callResizeEvents("start",e)},resize:function(e){t._callResizeEvents("on",e)},stop:function(e){t._callResizeEvents("stop",e)}}):n.resizable("destroy")},WAF.Widget.prototype.draggable=function(t,n){var r;r=null,t=typeof t!="undefined"?t:!0,r=$(this.containerNode),this.kind!="autoForm"&&this.kind!="queryForm"&&t!=0?r.css("cursor","pointer"):r.css("cursor","");var i=typeof this.isDisabled=="function"?this.isDisabled():!1;t&&!i?(r.draggable({start:function(e,t){var n=$$(this.id).getLabel();n&&(this._posLabelBeforeDrag={top:parseInt(n.$domNode.css("top"),10),left:parseInt(n.$domNode.css("left"),10)}),this._zindexBeforeDrag=$(this).css("zIndex")},drag:function(e,t){var n=$$(this.id).getLabel(),r=t.originalPosition,i=t.position,s=i.left-r.left,o=i.top-r.top,u=0,a=0;n&&this._posLabelBeforeDrag&&(a=this._posLabelBeforeDrag.top+o,u=this._posLabelBeforeDrag.left+s,n.$domNode.css("left",u+"px"),n.$domNode.css("top",a+"px"))},stop:function(e,t){$(this).css("zIndex",this._zindexBeforeDrag)},cancel:".waf-widget-body,input,textarea,button,select,option",stack:".waf-widget",zIndex:99999}).bind("click",function(e){$(this).find(":focus").each(function(){e.target!==this&&(!$(e.target).parents("[data-type=combobox]")[0]||$(e.target).parents("[data-type=combobox]")[0]!==$(this).parents("[data-type=combobox]")[0])&&$(this).blur()})}),n!==!0&&(this._draggable=!0)):(r.draggable("destroy"),n!==!0&&(this._draggable=!1))},WAF.Widget.prototype.getFormattedValue=function(t,n){var r="",i="";return t===undefined&&(this.sourceAtt==null?this.att!=null&&this.source.getAttribute(this.att.name)&&(t=this.source.getAttribute(this.att.name).getValue()):t=this.sourceAtt.getValue()),this.sourceAtt&&this.format&&!this.format.format&&(this.format=this.sourceAtt.dataClassAtt.defaultFormat),typeof t=="number"?i=WAF.utils.formatNumber(t,this.format):this.att&&this.att.type=="date"?t instanceof Date&&(i=WAF.utils.formatDate(t,this.format)):this.att&&this.att.type=="image"?(t?t.__deferred?t=t.__deferred.uri:t=t[0].__deferred[0].uri:t="",i=t):typeof t=="string"?(i=WAF.utils.formatString(t,this.format),this.kind!=="textField"&&n!=0&&(i=htmlEncode(i,!0,4))):t==null?i="":i=String(t),i},WAF.Widget.prototype.addClass=function(e){this.$domNode.addClass(e)},WAF.Widget.prototype.removeClass=function(e){this.$domNode.removeClass(e)},WAF.Widget.prototype.getValue=function(){var e="",t=this.kind;switch(t){case"combobox":e=$("#"+this.id+" select").val();break;case"richText":e=this._value;break;case"checkbox":this.$domNode.hasClass("waf-state-selected")&&(e="checked");break;case"radioGroup":e=$("#"+this.id+" .waf-state-selected input").val();break;case"label":e=this.$domNode.text();break;default:e=this.$domNode.val()}return e},WAF.Widget.prototype.setValue=function(e){var t=this.kind,n=!1;switch(t){case"combobox":$("#"+this.id+" select").combobox("setValue",e);break;case"richText":this.$domNode.text(e);break;case"checkbox":e=="checked"?this.$domNode.addClass("waf-state-selected"):this.$domNode.removeClass("waf-state-selected");break;case"radioGroup":var r=$("#"+this.id+' [value="'+e+'"]');this.$domNode.find("input[type=radio]:checked").attr("checked",!1),r.length?(r.prop("checked","checked"),this.$domNode.find(".waf-radio").removeClass("waf-state-selected"),r.parent().is("div")&&r.parent().addClass("waf-state-selected"),this._value=e):typeof e=="string"&&e.length===0?(this.$domNode.find("input[type=radio]").remove(),this.$domNode.find(".waf-radio").remove(),this._value=undefined):n=!0;break;case"slider":this.$domNode.slider("value",e);break;case"label":this.$domNode.text(e);break;default:this.$domNode.val(e)}n===!1&&this.$domNode.trigger("change")},WAF.Widget.prototype._checkResize=function(){var t="",n="";return n=$(this.containerNode),t={},n.attr("data-constraint-right")=="true"&&n.attr("data-constraint-left")=="true"&&(t.x=!0),n.attr("data-constraint-top")=="true"&&n.attr("data-constraint-bottom")=="true"&&(t.y=!0),t},WAF.Widget.prototype.getErrorDiv=function(){var e=this.errorDiv;return typeof e=="string"&&(e==""?e=null:e=$("#"+e)),e},WAF.Widget.prototype.setErrorDiv=function(e){typeof e=="string"&&(e==""?e=null:e=$("#"+e)),this.errorDiv=e},WAF.Widget.prototype.setLabelText=function(e){if(this.kind=="button")this.$domNode.text(e);else{var t=$("[for = "+this.id+"]");t.length>0&&$(t[0]).text(e)}},WAF.Widget.prototype.setLabelTextColor=function(e){var t=$("[for = "+this.id+"]");t.length>0&&$(t[0]).css("color",e)},WAF.Widget.prototype.getLinks=function(){var e,t,n,r,i,s;t=this.$domNode.attr("data-linked-tag");if(t){i=t.split(","),r=[],s=i.length;for(e=0;e<s;e+=1)n=$$(i[e]),n&&r.push($$(i[e]))}return r},WAF.Widget.prototype.link=function(e){var t,n;t=this.$domNode.attr("data-linked-tag"),n=t?t+","+e.id:e.id,this.$domNode.attr("data-linked-tag",n)},WAF.Widget.prototype.unlink=function(e){var t,n,r,i,s,o;s=[],r=this.$domNode.attr("data-linked-tag"),n=r.split(","),o=n.length;for(t=0;t<o;t+=1)n[t]!=e.id&&s.push(n[t]);this.$domNode.attr("data-linked-tag",s.join(","))},WAF.Widget.prototype.setWidth=function(e){this.$domNode.width(e),this._callResizeEvents&&this._callResizeEvents("stop")},WAF.Widget.prototype.setHeight=function(e){this.$domNode.height(e),this._callResizeEvents&&this._callResizeEvents("stop")},WAF.Widget.prototype.resize=function(e,t){this.$domNode.width(e),this.$domNode.height(t),this._callResizeEvents&&this._callResizeEvents("stop")},WAF.Widget.prototype.getWidth=function(e){return e===!0?this.$domNode.outerWidth(!0):this.$domNode.outerWidth()},WAF.Widget.prototype.getHeight=function(){return this.$domNode.outerHeight()},WAF.Widget.prototype.getPosition=function(){var e=this.$domNode.css("left"),t=this.$domNode.css("top"),n=this.$domNode.css("bottom"),r=this.$domNode.css("right");return e==="auto"&&(e=this.$domNode.offset().left),t==="auto"&&(t=this.$domNode.offset().top),n==="auto"&&(n=$(window).height()-this.$domNode.offset().top-this.$domNode.outerHeight(!1)),r==="auto"&&(r=$(window).width()-this.$domNode.offset().left-this.$domNode.outerWidth(!1)),{left:parseInt(e,10),top:parseInt(t,10),bottom:parseInt(n,10),right:parseInt(r,10)}},WAF.Widget.prototype.setParent=function(t){t&&this.$domNode.appendTo(t.$domNode)},WAF.Widget.prototype.addChild=function(t){t&&t.$domNode.appendTo(this.$domNode)},WAF.Widget.prototype.addChildren=function(){var t,n,r;r=arguments.length;if(r>0)for(t=0;t<r;t+=1)n=arguments[t],n&&n.$domNode.appendTo(this.$domNode)},WAF.Widget.prototype._moveTo=function(t,n,r){var i,s,o,u,a=0,f=0,l;n=n=="auto"?n:n||n==0?parseInt(n)+"px":"auto",u=t=="left"||t=="right"?this.$domNode.offset().left:this.$domNode.offset().top;if(n!="auto")switch(t){case"left":this.setRight("auto",!1);break;case"top":this.setBottom("auto",!1);break;case"bottom":this.setTop("auto",!1);break;case"right":this.setLeft("auto",!1)}this.$domNode.css(t,n),this.label&&r!==!1&&(l=$(this.label),s=$$(l.prop("id")),t=="left"||t=="right"?(o=this.$domNode.offset().left,i=o-u,a=parseInt(this.$domNode.parent().css("border-left-width"),10),s.setLeft(s.$domNode.offset().left-this.$domNode.offsetParent().offset().left+i-a)):(o=this.$domNode.offset().top,i=o-u,f=parseInt(this.$domNode.parent().css("border-top-width"),10),s.setTop(s.$domNode.offset().top-this.$domNode.offsetParent().offset().top+i-f)))},WAF.Widget.prototype.setLeft=function(t,n){this._moveTo("left",t,n)},WAF.Widget.prototype.setTop=function(t,n){this._moveTo("top",t,n)},WAF.Widget.prototype.setBottom=function(t,n){this._moveTo("bottom",t,n)},WAF.Widget.prototype.getState=function(){return this._currentState||(this._currentState="default"),this._currentState},WAF.Widget.prototype.setState=function(t,n){var r,i,s,o;r=this.getLabel(),n=n||!1,t=t||"default";if(!this._disabled||n)o=this.$domNode,s=o.attr("class"),s=s.replace(/(\s|^)waf-state-((?!selected)[^\s])+/g,""),o.attr("class",jQuery.trim(s)).addClass("waf-state-"+t),t&&t.match(/default|state1/)&&(this._tmpState=t);r&&r.setState(t),this._currentState=t},WAF.Widget.prototype.removeState=function(t){this.$domNode.removeClass("waf-state-"+t),this._currentState==t&&(this._currentState=null),t==="focus"&&this.getLabel()&&this.getLabel().removeState(t)},WAF.Widget.prototype.setRight=function(t,n){this._moveTo("right",t,n)},WAF.Widget.prototype.isDisabled=function(){var t;t=!1;if(this.$domNode.hasClass("waf-state-disabled")||this._disabled)t=!0;return t},WAF.Widget.prototype.disable=function(){var t,n,r,i,s,o,u;if(this.isDisabled())return;$(this.containerNode).css("pointer-events","none"),this._disabled=!0,r=this.getLabel(),this.$domNode.addClass("waf-state-disabled").prop("disabled","disabled"),this._tmpEvents=[],o=$._data(this.$domNode,"events");for(t in o){evts=o[t];for(var a=0;a<evts.length;a+=1)this._tmpEvents.push(evts[a]);this.$domNode.off(t)}s=this.getChildren(),u=s.length;for(t=0;t<u;t+=1)i=s[t],i.disable();r&&r.disable(),this.draggable(!1,!0)},WAF.Widget.prototype.setReadOnly=function(t){this.$domNode[0].readOnly=t},WAF.Widget.prototype.isReadOnly=function(){return this.$domNode[0].readOnly===!0},WAF.Widget.prototype.enable=function(){var t,n,r,i,s,o,u;if(!this.isDisabled())return;$(this.containerNode).css("pointer-events",""),this._disabled=!1,r=this.getLabel(),this.$domNode.removeClass("waf-state-disabled").removeProp("disabled");for(t=0;t<this._tmpEvents.length;t+=1)n=this._tmpEvents[t],this.$domNode.on(n.type,n.handler);s=this.getChildren(),u=s.length;for(t=0;t<u;t+=1)i=s[t],i.enable();r&&r.enable(),this._draggable===!0&&this.draggable(!0,!0)},WAF.Widget.prototype.init=function(t,n){function h(){return((1+Math.random())*65536|0).toString(16).substring(1)}var r,i,s,o,u,a,f,l,c;r="",i="",s="",o="",u="",f="",l="",c="";if(typeof n=="undefined")throw new Error("inConfig not defined");"id"in n?this.id=n.id:this.id=t.toLowerCase()+"-"+h()+"-"+h()+"-"+h()+"-"+h()+h()+h(),"data-type"in n?this.kind=n["data-type"]:this.kind=t.substr(0,1).toLowerCase()+t.substr(1),this.divID="divID"in n?n.divID:this.id,this.renderId="renderId"in n?n.renderId:this.id,this.config=n,this.containerNode=document.getElementById(this.id),this.domNode=document.getElementById(this.id),this.domCloneNode=this.domNode?this.domNode.cloneNode(!0):null,this.initConf=n,this.$domNode=$(document.getElementById(this.id));if(this.containerNode===null){if("div, span, img".indexOf(n.tagName)!=-1)throw new Error("Bad tagName in config !");this.containerNode=document.createElement("div")}this.ref=this.containerNode,this.label=null;for(r in WAF.widgets)if(WAF.widgets.hasOwnProperty(r)){i=WAF.widgets[r];if(i.type==="label"&&i.ref["for"]===this.id){this.label=i;break}}if(typeof Designer=="undefined"){var p=$("label");for(a=0;a<p.length;a++)if(p[a].getAttribute("for")==this.id){this.label=p[a];break}}this.errorDiv=null,typeof n["data-error-div"]!="undefined"&&n["data-error-div"]!=null&&typeof n["data-errorDiv"]=="undefined"&&(n["data-errorDiv"]=n["data-error-div"]),this.errorDiv=n["data-errorDiv"],this.clearErrorMessage=function(){var e=this.errorDiv!==""?document.getElementById(this.errorDiv):null;this.errorDiv&&typeof this.errorDiv=="object"&&(e=this.errorDiv[0]),this.$domNode.removeClass("AF_InputError"),this.$domNode.addClass("AF_InputOK"),e!=null&&(WAF.PLATFORM.modulesString!=="mobile"&&this.$domNode.bt(),$(e).removeClass("AF_ErrorMessageWrong"),$(e).addClass("AF_ErrorMessage"),$(e).html(""))},this.setErrorMessage=function(e){var t=null;e=e||{},e.message=e.message||"",e.tooltip=e.tooltip||!1,typeof this.errorDiv=="string"?this.errorDiv!=""&&(t=document.getElementById(this.errorDiv)):t=this.errorDiv,this.$domNode.addClass("AF_InputError"),this.$domNode.removeClass("AF_InputOK"),t!=null?($(t).addClass("AF_ErrorMessageWrong"),$(t).removeClass("AF_ErrorMessage"),$(t).html(e.message)):alert(e.message),e.tooltip&&(WAF.PLATFORM.modulesString!=="mobile"&&this.$domNode.bt(e.message,{offsetParent:this.$domNode.parent()}),this.$domNode.parent().css("overflow","visible"))},this.format={format:n["data-format"]},this.isInFocus=!1,s=n["data-binding"]||"",typeof Designer=="undefined"&&WAF.dataSource&&(o=WAF.dataSource.solveBinding(s)),o&&(this.source=o.dataSource),"source"in this&&(this.att=o.dataClassAtt,this.sourceAtt=o.sourceAtt,this.att!==null&&typeof this.format=="undefined"&&(this.format=this.att.defaultFormat)),WAF.widgets[this.id]=this,WAF.widgets._length=WAF.widgets._length||0,WAF.widgets._length+=1;if(WAF.Widget._lastWidget==this.id&&!WAF.widgets._isReady){c=$("body").children(".waf-container[data-constraint-right],.waf-container[data-constraint-bottom],.waf-matrix[data-constraint-right],waf-matrix[data-constraint-bottom],.waf-splitView[data-constraint-right],waf-splitView[data-constraint-bottom],.waf-navigationView[data-constraint-right],waf-navigationView[data-constraint-bottom],.waf-component[data-constraint-right],.waf-component[data-constraint-bottom]");if(c.length==0){var d;d=$("body").find(".waf-component"),$(window).width()&&d.length&&d.parent().length&&d.parent().get(0).tagName!="BODY"&&(c=d)}l=function(){$.each(c,function(e){u=$(this).prop("id"),f=$$(u),f&&f._callResizeEvents&&f._callResizeEvents("on")})},setTimeout(l,1),$(window).resize(l),$("label").bind("click",{},function(){return $("#"+$(this).prop("for")).trigger("click"),$("#"+$(this).prop("for")).select(),!1}),WAF.Widget.ready()}this.clear||(this.clear=function(){var t=null;t=$(this.containerNode);switch(this.kind){case"textField":t.val("");break;case"richText":case"container":t.html("");break;case"slider":t.slider("value",0);break;default:throw"The clear() method for the widget "+this.kind+" is depreciated and is likely to be removed in a future release."}});if(this.config["data-hideonload"]==="true"){this.$domNode.css("visibility","hidden");var v=this;window.setTimeout(function(){v.$domNode.hide(),v.$domNode.css("visibility","visible")},100)}},WAF.Widget.provide=function(t,n,r,i,s){var o,u,a,f;n=arguments[1];if(typeof t!="string"||t.length<2)throw new Error("The constructor name is missing or too short");if(typeof r!="function")throw new Error("The constructor function is missing or is not a function");o=WAF.widget[t]=function(e,i){var s="",u=null;if(i===undefined){i={};for(s in e)s.substr(0,5)==="data-"&&(i[s.substr(5)]=e[s])}return typeof this=="undefined"?u=new o(e,i):(this.init(t,e),this.create=r,this.create(e,i,n),delete this.create,u=this),i&&i.resizable=="true"&&this.kind!="autoform"&&this.resizable(),i&&i.draggable=="true"&&this.draggable(),this._shared=n,u};try{o.name=t}catch(l){}u=o.prototype=new WAF.Widget,u.constructor=o;for(a in i)i.hasOwnProperty(a)&&(u[a]=i[a]);a=undefined},WAF.Widget.prototype.getLabel=function(){var e;return e=$(this.label).prop("id"),$$(e)},WAF.Widget.prototype.getParent=function(){var e;return e=this.$domNode.parent(),$$(e.prop("id"))},WAF.Widget.prototype.getChildren=function(){var e,t,n;return n=this.$domNode,t=[],this.kind&&this.kind=="component"?$.each(n.children().children(),function(n){e=$$($(this).prop("id")),e&&t.push(e)}):$.each(n.children(),function(n){e=$$($(this).prop("id")),e&&t.push(e)}),t},WAF.Widget.ready=function(){var e,t;for(e in WAF.widgets){t=WAF.widgets[e];if(t.insideComponent===!0)continue;t.ready&&t.ready(t._shared)}WAF.widgets._isReady=!0},WAF.openContainerInAPanel=function(t,n){var r="",i="",s="",o="",u="",a="";r=$("#"+t),i=r.attr("data-inPanel"),i=="1"?(r.prop("type")=="textarea"&&(r=r.parent()),r.dialog("open")):(r.attr("data-inPanel","1"),s=r.offset(),o=r.height(),u=r.width(),r.css("position","relative"),r.css("top","0px"),r.css("left","0px"),r.prop("type")=="textarea"&&(r.wrap("<div></div>"),r.css("width","100%"),r.css("height","100%"),r=r.parent(),r.css("position","relative"),r.css("top","0px"),r.css("left","0px")),a=n.title,a==null&&(a=""),r.dialog({dialogClass:"waf-container-panel "+r.prop("class"),title:a,position:[s.left,s.top],width:u,height:o}))},Object.defineProperty(WAF.Widget,"_lastWidget",{get:function(){var e;return function(){if(e)return e;var t=WAF.require.modules["waf-core/widget"];if(!t)return e=$(".waf-widget:last").prop("id");var n=$(".waf-widget");for(var r=n.length-1;~r;r--)if(!(n.get(r).getAttribute("data-package")in WAF.require.modules))return e=n.get(r).id;return undefined}}()});

/** minified js  - from ../walib/WAF/lib/handlebars/handlebars.min-latest.js */

var Handlebars=function(){var e=function(){"use strict";function e(e){this.string=e}var t;return e.prototype.toString=function(){return""+this.string},t=e}(),t=function(e){"use strict";function t(e){return u[e]||"&amp;"}function n(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function r(e){return e instanceof o?e.toString():e||0===e?(e=""+e,f.test(e)?e.replace(a,t):e):""}function i(e){return e||0===e?h(e)&&0===e.length?!0:!1:!0}var s={},o=e,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},a=/[&<>"'`]/g,f=/[&<>"'`]/;s.extend=n;var l=Object.prototype.toString;s.toString=l;var c=function(e){return"function"==typeof e};c(/x/)&&(c=function(e){return"function"==typeof e&&"[object Function]"===l.call(e)});var c;s.isFunction=c;var h=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===l.call(e):!1};return s.isArray=h,s.escapeExpression=r,s.isEmpty=i,s}(e),n=function(){"use strict";function e(){for(var e=Error.prototype.constructor.apply(this,arguments),t=0;t<n.length;t++)this[n[t]]=e[n[t]]}var t,n=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,t=e}(),r=function(e,t){"use strict";function n(e,t){this.helpers=e||{},this.partials=t||{},r(this)}function r(e){e.registerHelper("helperMissing",function(e){if(2===arguments.length)return void 0;throw new Error("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse||function(){},i=n.fn;return h(t)&&(t=t.call(this)),t===!0?i(this):t===!1||null==t?r(this):c(t)?t.length>0?e.helpers.each(t,n):r(this):i(t)}),e.registerHelper("each",function(e,t){var n,r=t.fn,i=t.inverse,s=0,o="";if(h(e)&&(e=e.call(this)),t.data&&(n=m(t.data)),e&&"object"==typeof e)if(c(e))for(var u=e.length;u>s;s++)n&&(n.index=s,n.first=0===s,n.last=s===e.length-1),o+=r(e[s],{data:n});else for(var a in e)e.hasOwnProperty(a)&&(n&&(n.key=a),o+=r(e[a],{data:n}),s++);return 0===s&&(o=i(this)),o}),e.registerHelper("if",function(e,t){return h(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||o.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){return h(e)&&(e=e.call(this)),o.isEmpty(e)?void 0:t.fn(e)}),e.registerHelper("log",function(t,n){var r=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(r,t)})}function i(e,t){v.log(e,t)}var s={},o=e,u=t,a="1.1.2";s.VERSION=a;var f=4;s.COMPILER_REVISION=f;var l={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};s.REVISION_CHANGES=l;var c=o.isArray,h=o.isFunction,p=o.toString,d="[object Object]";s.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:v,log:i,registerHelper:function(e,t,n){if(p.call(e)===d){if(n||t)throw new u("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else n&&(t.not=n),this.helpers[e]=t},registerPartial:function(e,t){p.call(e)===d?o.extend(this.partials,e):this.partials[e]=t}};var v={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(v.level<=e){var n=v.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}};s.logger=v,s.log=i;var m=function(e){var t={};return o.extend(t,e),t};return s.createFrame=m,s}(t,n),i=function(e,t,n){"use strict";function r(e){var t=e&&e[0]||1,n=h;if(t!==n){if(n>t){var r=p[n],i=p[t];throw new Error("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new Error("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function i(e,t){if(!t)throw new Error("No environment passed to template");var n;n=t.compile?function(e,n,r,i,s,o){var a=u.apply(this,arguments);if(a)return a;var f={helpers:i,partials:s,data:o};return s[n]=t.compile(e,{data:void 0!==o},t),s[n](r,f)}:function(e,t){var n=u.apply(this,arguments);if(n)return n;throw new c("The partial "+t+" could not be compiled when running in runtime-only mode")};var i={escapeExpression:l.escapeExpression,invokePartial:n,programs:[],program:function(e,t,n){var r=this.programs[e];return n?r=o(e,t,n):r||(r=this.programs[e]=o(e,t)),r},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n={},l.extend(n,t),l.extend(n,e)),n},programWithDepth:s,noop:a,compilerInfo:null};return function(n,s){s=s||{};var o,u,a=s.partial?s:t;s.partial||(o=s.helpers,u=s.partials);var f=e.call(i,a,n,o,u,s.data);return s.partial||r(i.compilerInfo),f}}function s(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=function(e,i){return i=i||{},t.apply(this,[e,i.data||n].concat(r))};return i.program=e,i.depth=r.length,i}function o(e,t,n){var r=function(e,r){return r=r||{},t(e,r.data||n)};return r.program=e,r.depth=0,r}function u(e,t,n,r,i,s){var o={partial:!0,helpers:r,partials:i,data:s};if(void 0===e)throw new c("The partial "+t+" could not be found");return e instanceof Function?e(n,o):void 0}function a(){return""}var f={},l=e,c=t,h=n.COMPILER_REVISION,p=n.REVISION_CHANGES;return f.template=i,f.programWithDepth=s,f.program=o,f.invokePartial=u,f.noop=a,f}(t,n,r),s=function(e,t,n,r,i){"use strict";var s,o=e,u=t,a=n,f=r,l=i,c=function(){var e=new o.HandlebarsEnvironment;return f.extend(e,o),e.SafeString=u,e.Exception=a,e.Utils=f,e.VM=l,e.template=function(t){return l.template(t,e)},e},h=c();return h.create=c,s=h}(r,e,n,t,i),o=function(e){"use strict";var t,n=e,r={ProgramNode:function(e,t,n){this.type="program",this.statements=e,this.strip={},n?(this.inverse=new r.ProgramNode(n,t),this.strip.right=t.left):t&&(this.strip.left=t.right)},MustacheNode:function(e,t,n,r){this.type="mustache",this.hash=t,this.strip=r;var i=n[3]||n[2];this.escaped="{"!==i&&"&"!==i;var s=this.id=e[0],o=this.params=e.slice(1),u=this.eligibleHelper=s.isSimple;this.isHelper=u&&(o.length||t)},PartialNode:function(e,t,n){this.type="partial",this.partialName=e,this.context=t,this.strip=n},BlockNode:function(e,t,r,i){if(e.id.original!==i.path.original)throw new n(e.id.original+" doesn't match "+i.path.original);this.type="block",this.mustache=e,this.program=t,this.inverse=r,this.strip={left:e.strip.left,right:i.strip.right},(t||r).strip.left=e.strip.right,(r||t).strip.right=i.strip.left,r&&!t&&(this.isInverse=!0)},ContentNode:function(e){this.type="content",this.string=e},HashNode:function(e){this.type="hash",this.pairs=e},IdNode:function(e){this.type="ID";for(var t="",r=[],i=0,s=0,o=e.length;o>s;s++){var u=e[s].part;if(t+=(e[s].separator||"")+u,".."===u||"."===u||"this"===u){if(r.length>0)throw new n("Invalid path: "+t);".."===u?i++:this.isScoped=!0}else r.push(u)}this.original=t,this.parts=r,this.string=r.join("."),this.depth=i,this.isSimple=1===e.length&&!this.isScoped&&0===i,this.stringModeValue=this.string},PartialNameNode:function(e){this.type="PARTIAL_NAME",this.name=e.original},DataNode:function(e){this.type="DATA",this.id=e},StringNode:function(e){this.type="STRING",this.original=this.string=this.stringModeValue=e},IntegerNode:function(e){this.type="INTEGER",this.original=this.integer=e,this.stringModeValue=Number(e)},BooleanNode:function(e){this.type="BOOLEAN",this.bool=e,this.stringModeValue="true"===e},CommentNode:function(e){this.type="comment",this.comment=e}};return t=r}(n),u=function(){"use strict";var e,t=function(){function e(e,t){return{left:"~"===e[2],right:"~"===t[0]||"~"===t[1]}}function t(){this.yy={}}var n={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,inMustache_repetition0:28,inMustache_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,hash:35,hash_repetition_plus0:36,hashSegment:37,ID:38,EQUALS:39,DATA:40,pathSegments:41,SEP:42,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",38:"ID",39:"EQUALS",40:"DATA",42:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[35,1],[37,3],[26,1],[26,1],[26,1],[30,2],[21,1],[41,3],[41,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[36,1],[36,2]],performAction:function(t,n,r,i,s,o){var u=o.length-1;switch(s){case 1:return new i.ProgramNode(o[u-1]);case 2:return new i.ProgramNode([]);case 3:this.$=new i.ProgramNode([],o[u-1],o[u]);break;case 4:this.$=new i.ProgramNode(o[u-2],o[u-1],o[u]);break;case 5:this.$=new i.ProgramNode(o[u-1],o[u],[]);break;case 6:this.$=new i.ProgramNode(o[u]);break;case 7:this.$=new i.ProgramNode([]);break;case 8:this.$=new i.ProgramNode([]);break;case 9:this.$=[o[u]];break;case 10:o[u-1].push(o[u]),this.$=o[u-1];break;case 11:this.$=new i.BlockNode(o[u-2],o[u-1].inverse,o[u-1],o[u]);break;case 12:this.$=new i.BlockNode(o[u-2],o[u-1],o[u-1].inverse,o[u]);break;case 13:this.$=o[u];break;case 14:this.$=o[u];break;case 15:this.$=new i.ContentNode(o[u]);break;case 16:this.$=new i.CommentNode(o[u]);break;case 17:this.$=new i.MustacheNode(o[u-1][0],o[u-1][1],o[u-2],e(o[u-2],o[u]));break;case 18:this.$=new i.MustacheNode(o[u-1][0],o[u-1][1],o[u-2],e(o[u-2],o[u]));break;case 19:this.$={path:o[u-1],strip:e(o[u-2],o[u])};break;case 20:this.$=new i.MustacheNode(o[u-1][0],o[u-1][1],o[u-2],e(o[u-2],o[u]));break;case 21:this.$=new i.MustacheNode(o[u-1][0],o[u-1][1],o[u-2],e(o[u-2],o[u]));break;case 22:this.$=new i.PartialNode(o[u-2],o[u-1],e(o[u-3],o[u]));break;case 23:this.$=e(o[u-1],o[u]);break;case 24:this.$=[[o[u-2]].concat(o[u-1]),o[u]];break;case 25:this.$=[[o[u]],null];break;case 26:this.$=o[u];break;case 27:this.$=new i.StringNode(o[u]);break;case 28:this.$=new i.IntegerNode(o[u]);break;case 29:this.$=new i.BooleanNode(o[u]);break;case 30:this.$=o[u];break;case 31:this.$=new i.HashNode(o[u]);break;case 32:this.$=[o[u-2],o[u]];break;case 33:this.$=new i.PartialNameNode(o[u]);break;case 34:this.$=new i.PartialNameNode(new i.StringNode(o[u]));break;case 35:this.$=new i.PartialNameNode(new i.IntegerNode(o[u]));break;case 36:this.$=new i.DataNode(o[u]);break;case 37:this.$=new i.IdNode(o[u]);break;case 38:o[u-2].push({part:o[u],separator:o[u-1]}),this.$=o[u-2];break;case 39:this.$=[{part:o[u]}];break;case 42:this.$=[];break;case 43:o[u-1].push(o[u]);break;case 46:this.$=[o[u]];break;case 47:o[u-1].push(o[u])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:29,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:30,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:31,21:24,30:25,38:[1,28],40:[1,27],41:26},{21:33,26:32,32:[1,34],33:[1,35],38:[1,28],41:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,38:[1,28],40:[1,27],41:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,42],24:[2,42],28:43,32:[2,42],33:[2,42],34:[2,42],38:[2,42],40:[2,42]},{18:[2,25],24:[2,25]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],38:[2,37],40:[2,37],42:[1,44]},{21:45,38:[1,28],41:26},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],38:[2,39],40:[2,39],42:[2,39]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,40],21:50,27:49,38:[1,28],41:26},{18:[2,33],38:[2,33]},{18:[2,34],38:[2,34]},{18:[2,35],38:[2,35]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,38:[1,28],41:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,44],21:56,24:[2,44],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:55,36:61,37:62,38:[1,63],40:[1,27],41:26},{38:[1,64]},{18:[2,36],24:[2,36],32:[2,36],33:[2,36],34:[2,36],38:[2,36],40:[2,36]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,65]},{18:[2,41]},{18:[1,66]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24]},{18:[2,43],24:[2,43],32:[2,43],33:[2,43],34:[2,43],38:[2,43],40:[2,43]},{18:[2,45],24:[2,45]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],38:[2,26],40:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],38:[2,27],40:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],38:[2,28],40:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],38:[2,29],40:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],38:[2,30],40:[2,30]},{18:[2,31],24:[2,31],37:67,38:[1,68]},{18:[2,46],24:[2,46],38:[2,46]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],38:[2,39],39:[1,69],40:[2,39],42:[2,39]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],38:[2,38],40:[2,38],42:[2,38]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{18:[2,47],24:[2,47],38:[2,47]},{39:[1,69]},{21:56,30:60,31:70,32:[1,57],33:[1,58],34:[1,59],38:[1,28],40:[1,27],41:26},{18:[2,32],24:[2,32],38:[2,32]}],defaultActions:{3:[2,2],16:[2,1],50:[2,41]},parseError:function(e){throw new Error(e)},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,r=[0],i=[null],s=[],o=this.table,u="",a=0,f=0,l=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;s.push(c);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,d,v,m,g,y,b,w,E,S={};;){if(v=r[r.length-1],this.defaultActions[v]?m=this.defaultActions[v]:((null===p||"undefined"==typeof p)&&(p=t()),m=o[v]&&o[v][p]),"undefined"==typeof m||!m.length||!m[0]){var x="";if(!l){E=[];for(y in o[v])this.terminals_[y]&&y>2&&E.push("'"+this.terminals_[y]+"'");x=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:c,expected:E})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+p);switch(m[0]){case 1:r.push(p),i.push(this.lexer.yytext),s.push(this.lexer.yylloc),r.push(m[1]),p=null,d?(p=d,d=null):(f=this.lexer.yyleng,u=this.lexer.yytext,a=this.lexer.yylineno,c=this.lexer.yylloc,l>0&&l--);break;case 2:if(b=this.productions_[m[1]][1],S.$=i[i.length-b],S._$={first_line:s[s.length-(b||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(b||1)].first_column,last_column:s[s.length-1].last_column},h&&(S._$.range=[s[s.length-(b||1)].range[0],s[s.length-1].range[1]]),g=this.performAction.call(S,u,f,a,this.yy,m[1],i,s),"undefined"!=typeof g)return g;b&&(r=r.slice(0,-1*b*2),i=i.slice(0,-1*b),s=s.slice(0,-1*b)),r.push(this.productions_[m[1]][0]),i.push(S.$),s.push(S._$),w=o[r[r.length-2]][r[r.length-1]],r.push(w);break;case 3:return!0}}return!0}},r=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=(new Array(e.length+1)).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,r,i;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),o=0;o<s.length&&(n=this._input.match(this.rules[s[o]]),!n||t&&!(n[0].length>t[0].length)||(t=n,r=o,this.options.flex));o++);return t?(i=t[0].match(/(?:\r\n?|\n).*/g),i&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,s[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,r){function i(e,n){return t.yytext=t.yytext.substr(e,t.yyleng-n)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(i(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(i(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 14;break;case 1:return 14;case 2:return"\\"!==t.yytext.slice(-1)&&this.popState(),"\\"===t.yytext.slice(-1)&&i(0,1),14;case 3:return i(0,4),this.popState(),15;case 4:return 25;case 5:return 16;case 6:return 20;case 7:return 19;case 8:return 19;case 9:return 23;case 10:return 22;case 11:this.popState(),this.begin("com");break;case 12:return i(3,5),this.popState(),15;case 13:return 22;case 14:return 39;case 15:return 38;case 16:return 38;case 17:return 42;case 18:break;case 19:return this.popState(),24;case 20:return this.popState(),18;case 21:return t.yytext=i(1,2).replace(/\\"/g,'"'),32;case 22:return t.yytext=i(1,2).replace(/\\'/g,"'"),32;case 23:return 40;case 24:return 34;case 25:return 34;case 26:return 33;case 27:return 38;case 28:return t.yytext=i(1,2),38;case 29:return"INVALID";case 30:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s])))/,/^(?:false(?=([~}\s])))/,/^(?:-?[0-9]+(?=([~}\s])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,30],inclusive:!0}},e}();return n.lexer=r,t.prototype=n,n.Parser=t,new t}();return e=t}(),a=function(e,t){"use strict";function n(e){return e.constructor===s.ProgramNode?e:(i.yy=s,i.parse(e))}var r={},i=e,s=t;return r.parser=i,r.parse=n,r}(u,o),f=function(e){"use strict";function t(e){this.value=e}function n(){}var r,i=e.COMPILER_REVISION,s=e.REVISION_CHANGES,o=e.log;n.prototype={nameLookup:function(e,t){var r,i;return 0===e.indexOf("depth")&&(r=!0),i=/^[0-9]+$/.test(t)?e+"["+t+"]":n.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']",r?"("+e+" && "+i+")":i},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":{appendToBuffer:!0,content:e,toString:function(){return"buffer += "+e+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,t,n,r){this.environment=e,this.options=t||{},o("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(e,t);var i,s=e.opcodes;this.i=0;for(var u=s.length;this.i<u;this.i++)i=s[this.i],"DECLARE"===i.opcode?this[i.name]=i.value:this[i.opcode].apply(this,i.args),i.opcode!==this.stripNext&&(this.stripNext=!1);return this.pushSource(""),this.createFunctionContext(r)},preamble:function(){var e=[];if(this.isChild)e.push("");else{var t=this.namespace,n="helpers = this.merge(helpers, "+t+".helpers);";this.environment.usePartial&&(n=n+" partials = this.merge(partials, "+t+".partials);"),this.options.data&&(n+=" data = data || {};"),e.push(n)}this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(e){var t=this.stackVars.concat(this.registers.list);if(t.length>0&&(this.source[1]=this.source[1]+", "+t.join(", ")),!this.isChild)for(var n in this.context.aliases)this.context.aliases.hasOwnProperty(n)&&(this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var r=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],u=0,a=this.environment.depths.list.length;a>u;u++)r.push("depth"+this.environment.depths.list[u]);var f=this.mergeSource();if(!this.isChild){var l=i,c=s[l];f="this.compilerInfo = ["+l+",'"+c+"'];\n"+f}if(e)return r.push(f),Function.apply(this,r);var h="function "+(this.name||"")+"("+r.join(",")+") {\n  "+f+"}";return o("debug",h+"\n\n"),h},mergeSource:function(){for(var e,t="",n=0,r=this.source.length;r>n;n++){var i=this.source[n];i.appendToBuffer?e=e?e+"\n    + "+i.content:i.content:(e&&(t+="buffer += "+e+";\n  ",e=void 0),t+=i+"\n  ")}return t},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),"blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),e[e.length-1]="options",this.pushSource("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.pendingContent&&(e=this.pendingContent+e),this.stripNext&&(e=e.replace(/^\s+/,"")),this.pendingContent=e},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var e=this.popStack();this.pushSource("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupOnContext:function(e){this.push(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+".apply(depth0) : "+e})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(){this.push("data")},pushStringParam:function(e,t){this.pushStackLiteral("depth"+this.lastContext),this.pushString(t),"string"==typeof e?this.pushString(e):this.pushStackLiteral(e)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var e=this.hash;this.hash=void 0,this.options.stringParams&&(this.register("hashContexts","{"+e.contexts.join(",")+"}"),this.register("hashTypes","{"+e.types.join(",")+"}")),this.push("{\n    "+e.values.join(",\n    ")+"\n  }")},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){return this.inlineStack.push(e),e},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},invokeHelper:function(e,t){this.context.aliases.helperMissing="helpers.helperMissing";var n=this.lastHelper=this.setupHelper(e,t,!0),r=this.nameLookup("depth"+this.lastContext,t,"context");this.push(n.name+" || "+r),this.replaceStack(function(e){return e+" ? "+e+".call("+n.callParams+") : helperMissing.call("+n.helperMissingParams+")"})},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(e,t){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var n=this.setupHelper(0,e,t),r=this.lastHelper=this.nameLookup("helpers",e,"helper"),i=this.nameLookup("depth"+this.lastContext,e,"context"),s=this.nextStack();this.pushSource("if ("+s+" = "+r+") { "+s+" = "+s+".call("+n.callParams+"); }"),this.pushSource("else { "+s+" = "+i+"; "+s+" = typeof "+s+" === functionType ? "+s+".call("+n.callParams+") : "+s+"; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+t.join(", ")+")")},assignToHash:function(e){var t,n,r=this.popStack();this.options.stringParams&&(n=this.popStack(),t=this.popStack());var i=this.hash;t&&i.contexts.push("'"+e+"': "+t),n&&i.types.push("'"+e+"': "+n),i.values.push("'"+e+"': ("+r+")")},compiler:n,compileChildren:function(e,t){for(var n,r,i=e.children,s=0,o=i.length;o>s;s++){n=i[s],r=new this.compiler;var u=this.matchExistingProgram(n);null==u?(this.context.programs.push(""),u=this.context.programs.length,n.index=u,n.name="program"+u,this.context.programs[u]=r.compile(n,t,this.context),this.context.environments[u]=n):(n.index=u,n.name="program"+u)}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;n>t;t++){var r=this.context.environments[t];if(r&&r.equals(e))return t}},programExpression:function(e){if(this.context.aliases.self="this",null==e)return"self.noop";for(var t,n=this.environment.children[e],r=n.depths.list,i=[n.index,n.name,"data"],s=0,o=r.length;o>s;s++)t=r[s],1===t?i.push("depth0"):i.push("depth"+(t-1));return(0===r.length?"self.program(":"self.programWithDepth(")+i.join(", ")+")"},register:function(e,t){this.useRegister(e),this.pushSource(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.push(new t(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),e&&this.source.push(e)},pushStack:function(e){this.flushInline();var t=this.incrStack();return e&&this.pushSource(t+" = "+e+";"),this.compileStack.push(t),t},replaceStack:function(e){var n,r="",i=this.isInline();if(i){var s=this.popStack(!0);if(s instanceof t)n=s.value;else{var o=this.stackSlot?this.topStackName():this.incrStack();r="("+this.push(o)+" = "+s+"),",n=this.topStack()}}else n=this.topStack();var u=e.call(this,n);return i?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+r+u+")")):(/^stack/.test(n)||(n=this.nextStack()),this.pushSource(n+" = ("+r+u+");")),n},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;if(e.length){this.inlineStack=[];for(var n=0,r=e.length;r>n;n++){var i=e[n];i instanceof t?this.compileStack.push(i):this.pushStack(i)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var n=this.isInline(),r=(n?this.inlineStack:this.compileStack).pop();return!e&&r instanceof t?r.value:(n||this.stackSlot--,r)},topStack:function(e){var n=this.isInline()?this.inlineStack:this.compileStack,r=n[n.length-1];return!e&&r instanceof t?r.value:r},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(e,t,n){var r=[];this.setupParams(e,r,n);var i=this.nameLookup("helpers",t,"helper");return{params:r,name:i,callParams:["depth0"].concat(r).join(", "),helperMissingParams:n&&["depth0",this.quotedString(t)].concat(r).join(", ")}},setupParams:function(e,t,n){var r,i,s,o=[],u=[],a=[];o.push("hash:"+this.popStack()),i=this.popStack(),s=this.popStack(),(s||i)&&(s||(this.context.aliases.self="this",s="self.noop"),i||(this.context.aliases.self="this",i="self.noop"),o.push("inverse:"+i),o.push("fn:"+s));for(var f=0;e>f;f++)r=this.popStack(),t.push(r),this.options.stringParams&&(a.push(this.popStack()),u.push(this.popStack()));return this.options.stringParams&&(o.push("contexts:["+u.join(",")+"]"),o.push("types:["+a.join(",")+"]"),o.push("hashContexts:hashContexts"),o.push("hashTypes:hashTypes")),this.options.data&&o.push("data:data"),o="{"+o.join(",")+"}",n?(this.register("options",o),t.push("options")):t.push(o),t.join(", ")}};for(var u="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),a=n.RESERVED_WORDS={},f=0,l=u.length;l>f;f++)a[u[f]]=!0;return n.isValidJavaScriptVariableName=function(e){return!n.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(e)?!0:!1},r=n}(r),l=function(e,t,n,r){"use strict";function i(){}function s(e,t){if(null==e||"string"!=typeof e&&e.constructor!==c.ProgramNode)throw new a("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0);var n=f(e),r=(new i).compile(n,t);return(new l).compile(r,t)}function o(e,t,n){function r(){var r=f(e),s=(new i).compile(r,t),o=(new l).compile(s,t,void 0,!0);return n.template(o)}if(null==e||"string"!=typeof e&&e.constructor!==c.ProgramNode)throw new a("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=t||{},"data"in t||(t.data=!0);var s;return function(e,t){return s||(s=r()),s.call(this,e,t)}}var u={},a=e,f=t.parse,l=n,c=r;return u.Compiler=i,i.prototype={compiler:i,disassemble:function(){for(var e,t,n,r=this.opcodes,i=[],s=0,o=r.length;o>s;s++)if(e=r[s],"DECLARE"===e.opcode)i.push("DECLARE "+e.name+"="+e.value);else{t=[];for(var u=0;u<e.args.length;u++)n=e.args[u],"string"==typeof n&&(n='"'+n.replace("\n","\\n")+'"'),t.push(n);i.push(e.opcode+" "+t.join(" "))}return i.join("\n")},equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;t>n;n++){var r=this.opcodes[n],i=e.opcodes[n];if(r.opcode!==i.opcode||r.args.length!==i.args.length)return!1;for(var s=0;s<r.args.length;s++)if(r.args[s]!==i.args[s])return!1}if(t=this.children.length,e.children.length!==t)return!1;for(n=0;t>n;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=t;var n=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},n)for(var r in n)this.options.knownHelpers[r]=n[r];return this.accept(e)},accept:function(e){var t,n=e.strip||{};return n.left&&this.opcode("strip"),t=this[e.type](e),n.right&&this.opcode("strip"),t},program:function(e){for(var t=e.statements,n=0,r=t.length;r>n;n++)this.accept(t[n]);return this.isSimple=1===r,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t,n=(new this.compiler).compile(e,this.options),r=this.guid++;this.usePartial=this.usePartial||n.usePartial,this.children[r]=n;for(var i=0,s=n.depths.list.length;s>i;i++)t=n.depths.list[i],2>t||this.addDepth(t-1);return r},block:function(e){var t=e.mustache,n=e.program,r=e.inverse;n&&(n=this.compileProgram(n)),r&&(r=this.compileProgram(r));var i=this.classifyMustache(t);"helper"===i?this.helperMustache(t,n,r):"simple"===i?(this.simpleMustache(t),this.opcode("pushProgram",n),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(t,n,r),this.opcode("pushProgram",n),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t,n,r=e.pairs;this.opcode("pushHash");for(var i=0,s=r.length;s>i;i++)t=r[i],n=t[1],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.stringModeValue,n.type)):this.accept(n),this.opcode("assignToHash",t[0]);this.opcode("popHash")},partial:function(e){var t=e.partialName;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.name),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){var t=this.options,n=this.classifyMustache(e);"simple"===n?this.simpleMustache(e):"helper"===n?this.helperMustache(e):this.ambiguousMustache(e),e.escaped&&!t.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(e,t,n){var r=e.id,i=r.parts[0],s=null!=t||null!=n;this.opcode("getContext",r.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("invokeAmbiguous",i,s)},simpleMustache:function(e){var t=e.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(e,t,n){var r=this.setupFullMustacheParams(e,t,n),i=e.id.parts[0];if(this.options.knownHelpers[i])this.opcode("invokeKnownHelper",r.length,i);else{if(this.options.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+i);this.opcode("invokeHelper",r.length,i)}},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var n=1,r=e.parts.length;r>n;n++)this.opcode("lookup",e.parts[n])},DATA:function(e){if(this.options.data=!0,e.id.isScoped||e.id.depth)throw new a("Scoped data references are not supported: "+e.original);this.opcode("lookupData");for(var t=e.id.parts,n=0,r=t.length;r>n;n++)this.opcode("lookup",t[n])},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){if(isNaN(e))throw new Error("EWOT");0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},classifyMustache:function(e){var t=e.isHelper,n=e.eligibleHelper,r=this.options;if(n&&!t){var i=e.id.parts[0];r.knownHelpers[i]?t=!0:r.knownHelpersOnly&&(n=!1)}return t?"helper":n?"ambiguous":"simple"},pushParams:function(e){for(var t,n=e.length;n--;)t=e[n],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type)):this[t.type](t)},setupMustacheParams:function(e){var t=e.params;return this.pushParams(t),e.hash?this.hash(e.hash):this.opcode("emptyHash"),t},setupFullMustacheParams:function(e,t,n){var r=e.params;return this.pushParams(r),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.hash(e.hash):this.opcode("emptyHash"),r}},u.precompile=s,u.compile=o,u}(n,a,f,o),c=function(e,t,n,r,i){"use strict";var s,o=e,u=t,a=n.parser,f=n.parse,l=r.Compiler,c=r.compile,h=r.precompile,p=i,d=o.create,v=function(){var e=d();return e.compile=function(t,n){return c(t,n,e)},e.precompile=h,e.AST=u,e.Compiler=l,e.JavaScriptCompiler=p,e.Parser=a,e.parse=f,e};return o=v(),o.create=v,s=o}(s,o,a,l,f);return c}();

/** minified js  - from ../walib/WAF/waf-core/formatters.js */

WAF.define("waf-core/formatters",["waf-core/class"],function(e){"use strict";var t=e.create();return t.prototype.initialize=function(e){this.arguments=e},t.prototype._run=function(e,t,n){function o(o,u){i[o]=u,s--,s||n(r[e].apply(r,[t].concat(i)))}var r=this,i=[],s=this.arguments.length;s?this.arguments.forEach(function(e,t){typeof e!="object"?o(t,e):e._getFormatedValue(o.bind(undefined,t))}):n(r[e].apply(r,[t]))},t.prototype.unformat=function(e){return e},t.prototype.format=function(e){return e},t.create=function(n,r){t[n]=e.create(),t[n].kind=n,t[n].inherit(this),WAF.extend(t[n].prototype,r)},t.create("money",{unformat:function(e,t){return e=e.replace(" ",""),e=e.replace(",","."),parseFloat(e)},format:function(e,t){var n=String(Math.floor(e));return[].map.call(n,function(e,t){return(n.length-t)%3===0&&t&&(e=" "+e),e}).join("")+","+Math.round(100*(e%1))+t}}),t.create("add",{unformat:function(e,t){return e-t},format:function(e,t){return e+t}}),t.create("multiply",{unformat:function(e,t){return e/t},format:function(e,t){return e*t}}),t});

/** minified js  - from ../walib/WAF/waf-core/binding-parser.js */

WAF.define("waf-core/binding-parser",function(){function e(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function t(e,t,n,r,i,s){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=i,this.column=s,this.name="SyntaxError"}function n(e){function St(){return e.substring(vt,dt)}function xt(){return vt}function Tt(){return Lt(vt).line}function Nt(){return Lt(vt).column}function Ct(e){throw Ot(null,[{type:"other",description:e}],vt)}function kt(e){throw Ot(e,null,vt)}function Lt(t){function n(t,n,r){var i,s;for(i=n;i<r;i++)s=e.charAt(i),s==="\n"?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):s==="\r"||s==="\u2028"||s==="\u2029"?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}return mt!==t&&(mt>t&&(mt=0,gt={line:1,column:1,seenCR:!1}),n(gt,mt,t),mt=t),gt}function At(e){if(dt<yt)return;dt>yt&&(yt=dt,bt=[]),bt.push(e)}function Ot(n,r,i){function s(e){var t=1;e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});while(t<e.length)e[t-1]===e[t]?e.splice(t,1):t++}function o(e,t){function n(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}var r=new Array(e.length),i,s,o;for(o=0;o<e.length;o++)r[o]=e[o].description;return i=e.length>1?r.slice(0,-1).join(", ")+" or "+r[e.length-1]:r[0],s=t?'"'+n(t)+'"':"end of input","Expected "+i+" but "+s+" found."}var u=Lt(i),a=i<e.length?e.charAt(i):null;return r!==null&&s(r),new t(n!==null?n:o(r,a),r,a,i,u.line,u.column)}function Mt(){var e,t,n,i,s;return e=dt,t=jt(),t!==r?(n=Bt(),n!==r?(i=_t(),i!==r?(s=Yt(),s!==r?(vt=e,t=u(t,n,i),e=t):(dt=e,e=o)):(dt=e,e=o)):(dt=e,e=o)):(dt=e,e=o),e}function _t(){var e,t;e=[],t=Dt();while(t!==r)e.push(t),t=Dt();return e}function Dt(){var t,n,i,s,u,a;return t=dt,n=Yt(),n!==r?(e.charCodeAt(dt)===124?(i=f,dt++):(i=r,wt===0&&At(l)),i!==r?(s=Yt(),s!==r?(u=jt(),u!==r?(a=Pt(),a!==r?(vt=t,n=c(u,a),t=n):(dt=t,t=o)):(dt=t,t=o)):(dt=t,t=o)):(dt=t,t=o)):(dt=t,t=o),t}function Pt(){var e,t,n,i,s;e=dt,t=[],n=dt,i=Yt(),i!==r?(s=Ht(),s!==r?(i=[i,s],n=i):(dt=n,n=o)):(dt=n,n=o);while(n!==r)t.push(n),n=dt,i=Yt(),i!==r?(s=Ht(),s!==r?(i=[i,s],n=i):(dt=n,n=o)):(dt=n,n=o);return t!==r&&(vt=e,t=h(t)),e=t,e}function Ht(){var t,n,i,s,u,a;return t=dt,n=dt,i=Ft(),i!==r&&(i=e.substring(n,dt)),n=i,n!==r&&(vt=t,n=p(n)),t=n,t===r&&(t=dt,n=jt(),n!==r?(i=Bt(),i!==r?(vt=t,n=d(n,i),t=n):(dt=t,t=o)):(dt=t,t=o),t===r&&(t=dt,e.charCodeAt(dt)===91?(n=v,dt++):(n=r,wt===0&&At(m)),n!==r?(i=Yt(),i!==r?(s=Mt(),s!==r?(u=Yt(),u!==r?(e.charCodeAt(dt)===93?(a=g,dt++):(a=r,wt===0&&At(y)),a!==r?(vt=t,n=b(s),t=n):(dt=t,t=o)):(dt=t,t=o)):(dt=t,t=o)):(dt=t,t=o)):(dt=t,t=o))),t}function Bt(){var t,n,i,s,u;wt++,t=dt,n=[],i=dt,e.charCodeAt(dt)===46?(s=E,dt++):(s=r,wt===0&&At(S)),s!==r?(u=jt(),u!==r?(s=[s,u],i=s):(dt=i,i=o)):(dt=i,i=o);while(i!==r)n.push(i),i=dt,e.charCodeAt(dt)===46?(s=E,dt++):(s=r,wt===0&&At(S)),s!==r?(u=jt(),u!==r?(s=[s,u],i=s):(dt=i,i=o)):(dt=i,i=o);return n!==r&&(vt=t,n=x(n)),t=n,wt--,t===r&&(n=r,wt===0&&At(w)),t}function jt(){var t,n,i,s;wt++,t=dt,N.test(e.charAt(dt))?(n=e.charAt(dt),dt++):(n=r,wt===0&&At(C));if(n!==r){i=[],k.test(e.charAt(dt))?(s=e.charAt(dt),dt++):(s=r,wt===0&&At(L));while(s!==r)i.push(s),k.test(e.charAt(dt))?(s=e.charAt(dt),dt++):(s=r,wt===0&&At(L));i!==r?(vt=t,n=A(n,i),t=n):(dt=t,t=o)}else dt=t,t=o;return wt--,t===r&&(n=r,wt===0&&At(T)),t}function Ft(){var t;return t=It(),t===r&&(t=zt(),t===r&&(e.substr(dt,4)===O?(t=O,dt+=4):(t=r,wt===0&&At(M)),t===r&&(e.substr(dt,5)===_?(t=_,dt+=5):(t=r,wt===0&&At(D)),t===r&&(e.substr(dt,4)===P?(t=P,dt+=4):(t=r,wt===0&&At(H)))))),t}function It(){var t,n,i,s;wt++,t=dt,e.charCodeAt(dt)===34?(n=j,dt++):(n=r,wt===0&&At(F));if(n!==r){i=[],s=qt();while(s!==r)i.push(s),s=qt();i!==r?(e.charCodeAt(dt)===34?(s=j,dt++):(s=r,wt===0&&At(F)),s!==r?(n=[n,i,s],t=n):(dt=t,t=o)):(dt=t,t=o)}else dt=t,t=o;if(t===r){t=dt,e.charCodeAt(dt)===39?(n=I,dt++):(n=r,wt===0&&At(q));if(n!==r){i=[],s=Rt();while(s!==r)i.push(s),s=Rt();i!==r?(e.charCodeAt(dt)===39?(s=I,dt++):(s=r,wt===0&&At(q)),s!==r?(n=[n,i,s],t=n):(dt=t,t=o)):(dt=t,t=o)}else dt=t,t=o}return wt--,t===r&&(n=r,wt===0&&At(B)),t}function qt(){var t;return R.test(e.charAt(dt))?(t=e.charAt(dt),dt++):(t=r,wt===0&&At(U)),t===r&&(t=Ut()),t}function Rt(){var t;return z.test(e.charAt(dt))?(t=e.charAt(dt),dt++):(t=r,wt===0&&At(W)),t===r&&(t=Ut()),t}function Ut(){var t,n,i,s,u,a;return t=dt,e.charCodeAt(dt)===92?(n=X,dt++):(n=r,wt===0&&At(V)),n!==r?($.test(e.charAt(dt))?(i=e.charAt(dt),dt++):(i=r,wt===0&&At(J)),i!==r?(n=[n,i],t=n):(dt=t,t=o)):(dt=t,t=o),t===r&&(t=dt,e.substr(dt,2)===K?(n=K,dt+=2):(n=r,wt===0&&At(Q)),n!==r?(i=Gt(),i!==r?(s=Gt(),s!==r?(u=Gt(),u!==r?(a=Gt(),a!==r?(n=[n,i,s,u,a],t=n):(dt=t,t=o)):(dt=t,t=o)):(dt=t,t=o)):(dt=t,t=o)):(dt=t,t=o)),t}function zt(){var e,t,n,i;return wt++,e=dt,t=Wt(),t!==r?(n=Xt(),n!==r?(i=Vt(),i!==r?(t=[t,n,i],e=t):(dt=e,e=o)):(dt=e,e=o)):(dt=e,e=o),e===r&&(e=dt,t=Wt(),t!==r?(n=Xt(),n!==r?(t=[t,n],e=t):(dt=e,e=o)):(dt=e,e=o),e===r&&(e=dt,t=Wt(),t!==r?(n=Vt(),n!==r?(t=[t,n],e=t):(dt=e,e=o)):(dt=e,e=o),e===r&&(e=Wt()))),wt--,e===r&&(t=r,wt===0&&At(G)),e}function Wt(){var t,n,i,s;return t=dt,n=Qt(),n!==r?(i=$t(),i!==r?(n=[n,i],t=n):(dt=t,t=o)):(dt=t,t=o),t===r&&(t=Kt(),t===r&&(t=dt,e.charCodeAt(dt)===45?(n=Y,dt++):(n=r,wt===0&&At(Z)),n!==r?(i=Qt(),i!==r?(s=$t(),s!==r?(n=[n,i,s],t=n):(dt=t,t=o)):(dt=t,t=o)):(dt=t,t=o),t===r&&(t=dt,e.charCodeAt(dt)===45?(n=Y,dt++):(n=r,wt===0&&At(Z)),n!==r?(i=Kt(),i!==r?(n=[n,i],t=n):(dt=t,t=o)):(dt=t,t=o)))),t}function Xt(){var t,n,i;return t=dt,e.charCodeAt(dt)===46?(n=E,dt++):(n=r,wt===0&&At(S)),n!==r?(i=$t(),i!==r?(n=[n,i],t=n):(dt=t,t=o)):(dt=t,t=o),t}function Vt(){var e,t,n;return e=dt,t=Jt(),t!==r?(n=$t(),n!==r?(t=[t,n],e=t):(dt=e,e=o)):(dt=e,e=o),e}function $t(){var e,t;e=[],t=Kt();if(t!==r)while(t!==r)e.push(t),t=Kt();else e=o;return e}function Jt(){var t,n,i;return t=dt,et.test(e.charAt(dt))?(n=e.charAt(dt),dt++):(n=r,wt===0&&At(tt)),n!==r?(rt.test(e.charAt(dt))?(i=e.charAt(dt),dt++):(i=r,wt===0&&At(it)),i===r&&(i=nt),i!==r?(n=[n,i],t=n):(dt=t,t=o)):(dt=t,t=o),t}function Kt(){var t;return st.test(e.charAt(dt))?(t=e.charAt(dt),dt++):(t=r,wt===0&&At(ot)),t}function Qt(){var t;return ut.test(e.charAt(dt))?(t=e.charAt(dt),dt++):(t=r,wt===0&&At(at)),t}function Gt(){var t;return ft.test(e.charAt(dt))?(t=e.charAt(dt),dt++):(t=r,wt===0&&At(lt)),t}function Yt(){var t,n;wt++,t=[],ht.test(e.charAt(dt))?(n=e.charAt(dt),dt++):(n=r,wt===0&&At(pt));while(n!==r)t.push(n),ht.test(e.charAt(dt))?(n=e.charAt(dt),dt++):(n=r,wt===0&&At(pt));return wt--,t===r&&(n=r,wt===0&&At(ct)),t}var n=arguments.length>1?arguments[1]:{},r={},i={start:Mt},s=Mt,o=r,u=function(e,t,n){return{datasource:e,attribute:t,formatters:n}},a=[],f="|",l={type:"literal",value:"|",description:'"|"'},c=function(e,t){return{formatter:e,arguments:t}},h=function(e){return e.map(function(e){return e[1]})},p=function(e){return e[0]==="'"&&(e='"'+e.slice(1,-1).replace("\\'","'").replace('"','\\"')+'"'),JSON.parse(e)},d=function(e,t){return{datasource:e,attribute:t,formatters:[]}},v="[",m={type:"literal",value:"[",description:'"["'},g="]",y={type:"literal",value:"]",description:'"]"'},b=function(e){return e},w={type:"other",description:"attribute"},E=".",S={type:"literal",value:".",description:'"."'},x=function(e){return e.map(function(e){return e.join("")}).join("").substr(1)},T={type:"other",description:"binding"},N=/^[$a-zA-Z_]/,C={type:"class",value:"[$a-zA-Z_]",description:"[$a-zA-Z_]"},k=/^[0-9a-zA-Z_$]/,L={type:"class",value:"[0-9a-zA-Z_$]",description:"[0-9a-zA-Z_$]"},A=function(e,t){return e+t.join("")},O="true",M={type:"literal",value:"true",description:'"true"'},_="false",D={type:"literal",value:"false",description:'"false"'},P="null",H={type:"literal",value:"null",description:'"null"'},B={type:"other",description:"string"},j='"',F={type:"literal",value:'"',description:'"\\""'},I="'",q={type:"literal",value:"'",description:'"\'"'},R=/^[^"\\\0-\x1Fx7F]/,U={type:"class",value:'[^"\\\\\\0-\\x1Fx7F]',description:'[^"\\\\\\0-\\x1Fx7F]'},z=/^[^'\\\0-\x1Fx7F]/,W={type:"class",value:"[^'\\\\\\0-\\x1Fx7F]",description:"[^'\\\\\\0-\\x1Fx7F]"},X="\\",V={type:"literal",value:"\\",description:'"\\\\"'},$=/^['"\\bfnrt]/,J={type:"class",value:"['\"\\\\bfnrt]",description:"['\"\\\\bfnrt]"},K="\\u",Q={type:"literal",value:"\\u",description:'"\\\\u"'},G={type:"other",description:"number"},Y="-",Z={type:"literal",value:"-",description:'"-"'},et=/^[eE]/,tt={type:"class",value:"[eE]",description:"[eE]"},nt=null,rt=/^[+\-]/,it={type:"class",value:"[+\\-]",description:"[+\\-]"},st=/^[0-9]/,ot={type:"class",value:"[0-9]",description:"[0-9]"},ut=/^[1-9]/,at={type:"class",value:"[1-9]",description:"[1-9]"},ft=/^[0-9a-fA-F]/,lt={type:"class",value:"[0-9a-fA-F]",description:"[0-9a-fA-F]"},ct={type:"other",description:"whitespace"},ht=/^[ \t\n\r]/,pt={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},dt=0,vt=0,mt=0,gt={line:1,column:1,seenCR:!1},yt=0,bt=[],wt=0,Et;if("startRule"in n){if(!(n.startRule in i))throw new Error("Can't start parsing from rule \""+n.startRule+'".');s=i[n.startRule]}Et=s();if(Et!==r&&dt===e.length)return Et;throw Et!==r&&dt<e.length&&At({type:"end",description:"end of input"}),Ot(null,bt,yt)}return e(t,Error),{SyntaxError:t,parse:n}});

/** minified js  - from ../walib/WAF/waf-behavior/bindable.js */

WAF.define("waf-behavior/bindable",["waf-core/behavior","waf-core/error","waf-core/binding-parser","waf-core/formatters"],function(e,t,n,r){"use strict";function o(e,t){e._boundAttributes[t]&&(e._boundAttributes[t].subscriber&&e._boundAttributes[t].subscriber.unsubscribe(),delete e._boundAttributes[t],e.fire("datasourceBindingChange",t))}function u(e){return typeof e=="string"&&(window.source||window.sources)?(window.source||window.sources)[e]:e}function a(e,t,n){n=n||t,n.formatters=n.formatters||[],n.formatters=n.formatters.map(function(n){return h.instanceOf(n,r)||(n=new r[n.formatter](n.arguments)),n.arguments=n.arguments.map(function(n){if(typeof n!="object")return n;if(n.subscriber)return n;typeof n.datasource=="string"&&(n.datasourceName=n.datasource,n.datasource=u(n.datasource));var r=c(e,WAF.extend({setGetCallback:function(){t._callback&&t._callback.apply(this,arguments)}},n));if(!r)throw"can't find "+n.datasourceName+"."+arguments.attribute;return t.subscribers.push(r.subscriber),a(e,t,n),e._boundAttributes[r.subscriber.property]}),n})}function f(e,t,n,r){function s(n){i<e.length?e[i++]._run(t,n,s):r(n)}e=e||[],t==="unformat"&&(e=e.reverse());var i=0;s(n)}function c(e,n,r){var i,s;typeof n=="object"&&(r=n,n=undefined),n===undefined&&(n="callback"+l++,e._boundAttributes[n]=r);var o=e.constructor._bindableProperties&&e.constructor._bindableProperties[n],c=e._boundAttributes[n];if(!o&&!c)throw new t.Bindable("Unknown property: "+n);c&&c.subscriber&&(c.subscriber.unsubscribe(),delete c.subscriber),c=e._boundAttributes[n]=WAF.extend(c||{},o||{},r),c.subscribers=[],typeof c.datasource=="string"&&(c.datasourceName=c.datasource,c.datasource=u(c.datasource)),e.fire("datasourceBindingChange",n,c);if(!c.datasource)return;if(!c.datasource.getAttribute)return;h.instanceOf(c.datasource,WAF.DataSourceVar)&&c.datasource._private.sourceType==="scalar"&&!c.attribute&&(c.attribute=c.datasource.getAttributeNames()[0]);if(!c.attribute)return;if(!c.datasource.getAttribute(c.attribute))return;WAF.require("waf-core/widget").bindingList||(WAF.require("waf-core/widget").bindingList={}),WAF.require("waf-core/widget").bindingList[c.datasource.getID()]=c.datasource.getID(),c._getFormatedValue=function(e){var t=this;if(t.position==null){var n=t.datasource.getAttributeValue(t.attribute);f(t.formatters,"format",n,e)}else t.datasource.getElement(t.position,function(n){var r=n.element.getAttributeValue(t.attribute);f(t.formatters,"format",r,e)})},c.setGetCallback=c.setGetCallback||c.setCallback||c.callback;try{a(e,c)}catch(p){return}return c._callback=function(t){c._getFormatedValue(function(t){i&&i.pause(),c.setGetCallback.call(e,t),i&&i.resume()})},c.event&&(i=e.subscribe(c.event,n,function(t){if(c.position!=null&&c.position!==c.datasource.getPosition())return;var n=c.getCallback?c.getCallback.call(e):c.setGetCallback.call(e);f(c.formatters,"unformat",n,function(e){s.pause(),c.datasource.setAttributeValue(c.attribute,e),h.instanceOf(c.datasource,WAF.DataSourceVar)&&c.datasource.sync(),s.resume()})},e),c.subscribers.push(i)),s=c.datasource.subscribe("attributeChange",c.attribute,function(e){if(c.position!=null&&c.position!==c.datasource.getPosition())return;c._callback(e)}),s.unsubscribe=function(t){return function(){delete e._boundAttributes[this.property],t.call(this),c.subscribers.forEach(function(e){e.unsubscribe()}),e.fire("datasourceBindingChange",n)}}(s.unsubscribe),s.property=n,s.unbind=s.unsubscribe,c.subscriber=s,c}var i=e.create(),s=i.prototype;i.inherit("waf-behavior/observable"),s.bindDatasourceAttribute=function(e,t,r,i){var s;if(typeof e=="string"){r=r||t;if(e==="")return o(this,r);i=n.parse(e),s=c(this,r,i)}else if(typeof e=="object"&&!h.instanceOf(e,WAF.DataSource))r=r||t,s=c(this,r,e);else{if(typeof e=="undefined")return o(this,r||t);s=c(this,r,WAF.extend({datasource:e,attribute:t},i))}if(s)return s._callback(),s.subscriber;return};var l=0;i._makeBindableProperty=function(e,t,n,r){typeof e=="function"&&(r=n,n=t,t=e,e=""),this._bindableProperties=this._bindableProperties||{},this._bindableProperties[e]={setGetCallback:t,event:n,getCallback:r}},s.bindDatasourceElement=function(e,t){var n=this,r=n._boundDatasourcePositions.filter(function(t){return t.datasource===e})[0];r||n._boundDatasourcePositions.push(r={datasource:e}),r.position=t;for(var i in n._boundAttributes){var s=n._boundAttributes[i]||{};s.datasource===e&&(s.position=t)}t!=null&&e.getElement(t,function(e){for(var t in n._boundAttributes){var r=n._boundAttributes[t]||{};r._callback&&r._callback()}})},s.boundDatasourceElement=function(e){var t=this._boundDatasourcePositions.filter(function(t){return t.datasource===e})[0];return t?t.position:null},s._initProperties=function(){this._boundAttributes={},this._boundDatasourcePositions=[]},i.stackInstanceMethods("_initProperties"),s._cloneBehavior=function(e){for(var t in e._boundAttributes){var n=e._boundAttributes[t];n.subscribers.forEach(function(e){this.removeSubscriber(e)}.bind(this)),n.datasource&&(this.constructor._bindableProperties&&t in this.constructor._bindableProperties?this.bindDatasourceAttribute(n,t):this.bindDatasourceAttribute(n))}},s._destroyBehavior=function(){for(var e in this._boundAttributes)this._boundAttributes[e].subscriber&&this._boundAttributes[e].subscriber.unsubscribe()},t.create("Bindable");var h=WAF.require("waf-core/class");return h.defaultBehaviors.push(i),i});

/** minified js  - from ../walib/WAF/waf-behavior/properties.js */

WAF.define("waf-behavior/properties",function(){"use strict";function i(e,t){if(!e)return;var n=r.types[e.type]||r.types["*"];return n[t]||r.types["*"][t]}var e=WAF.require("waf-core/behavior"),t=WAF.require("waf-core/class"),n=WAF.require("waf-core/formatters"),r=e.create();return r.inherit(WAF.require("waf-behavior/bindable")),r.types={},r.protectClassAttribute("types"),r._properties={},r.mergeClassAttributeOnInherit("_properties"),r._propertiesCustomHelper=i,r.protectClassAttribute("_propertiesCustomHelper"),r.addProperty=function(e,t){var n=String.toCamelCase(e);for(var s in this._properties)if(s.toLowerCase()===e.toLowerCase())throw"You can't define two properties with the same name ("+e.toLowerCase()+")";t=this._properties[e]=WAF.extend({functionName:n,type:"*",bindable:!0},i(t,"options"),t||{});if(!(t.type in r.types))throw'Unknow type "'+t.type+'" for property "'+e+'".';t.bindable&&this._makeBindableProperty(e,function(){return this[n].apply(this,arguments)},"change"),i(t,"afterAdd").call(this,e,t),this.disableDomEvent("change")},r.removeProperty=function(e){delete this._properties[e],delete this.prototype[String.toCamelCase(e)]},r.getProperties=function(){return Object.keys(this._properties)},r.prototype._initBehavior=function(e,t){var n={};Object.keys(this.constructor._properties).forEach(function(e){var t=this.constructor._properties[e];i(t,"init").call(this,e,t,n)}.bind(this)),t||Object.keys(this.constructor._properties).forEach(function(t){var n=this.constructor._properties[t];i(n,"initValue").call(this,t,n,e||{})}.bind(this))},r.prototype._init=function(){Object.keys(this.constructor._properties).forEach(function(e){var t=this.constructor._properties[e];i(t,"installCallbacks").call(this,e,t)}.bind(this))},r.prototype._cloneBehavior=function(e){for(var t in this.constructor._properties){var n=this.constructor._properties[t];i(n,"cloneBehavior").call(this,t,n,e)}},r.prototype._destroyBehavior=function(){Object.keys(this.constructor._properties).forEach(function(e){var t=this.constructor._properties[e];i(t,"destroy").call(this,e,t)}.bind(this))},t.defaultBehaviors.push(r),r.types["*"]={listable:!0,init:function(e,t,n){n[e]=null,i(t,"createAccessor").call(this,e,t,n),"defaultValue"in t&&(n[e]=WAF.clone(t.defaultValue))},createAccessor:function(e,r,s){this[r.functionName]=function(t){if(arguments.length){var n=s[e];s[e]=i(r,"normalize").call(this,t,r,e),n!==s[e]&&this.fire("change",e,{value:s[e],oldValue:n})}return s[e]},this[r.functionName]._storage=s,this[r.functionName].onChange=function(t){return this.subscribe("change",e,function(e){t.call(this,e.data.value,e.data.oldValue,e.target)},this)}.bind(this),r.bindable&&(this[r.functionName].bindDatasource=function(t,n,r){return this.bindDatasourceAttribute(t,n,e,r)}.bind(this),this[r.functionName].unbindDatasource=function(){e in this._boundAttributes&&(this._boundAttributes[e].subscriber?this._boundAttributes[e].subscriber.unsubscribe():(delete this._boundAttributes[e],this.fire("datasourceBindingChange",e)))}.bind(this),this[r.functionName].boundDatasource=function(){function r(e){return{datasourceName:typeof e.datasource=="string"?e.datasource:e.datasourceName,datasource:e.datasource,attribute:e.attribute,formatters:(e.formatters||[]).map(function(e){return{formatter:t.instanceOf(e,n)&&e||null,name:e.constructor.kind||e.formatter,arguments:(e.arguments||[]).map(function(e){return typeof e=="object"?r(e):e})}}),valid:!!e.subscriber,toString:function(){var e=this.datasourceName;return this.attribute&&(e+="."+this.attribute),this.formatters.forEach(function(t){e+="|"+t.name,t.arguments.forEach(function(t){e+=" ",typeof t=="object"?(t=t.toString(),t.indexOf("|")>=0&&(t="["+t+"]"),e+=t):e+=JSON.stringify(t)})}),e}}}return e in this._boundAttributes?r(this._boundAttributes[e]):null}.bind(this))},initValue:function(e,t,n){if(e in n)this[t.functionName](n[e]);else if("defaultValueCallback"in t)this[t.functionName](t.defaultValueCallback.call(this,e));else{var r="data-"+e.toLowerCase();this.node.hasAttribute(r)&&this[t.functionName](this.node.getAttribute(r))}t.bindable&&this.node.hasAttribute("data-binding-"+e.toLowerCase())&&this[t.functionName].bindDatasource(this.node.getAttribute("data-binding-"+e.toLowerCase()))},installCallbacks:function(e,t){var n=this[t.functionName];for(var r in t)/^on[A-Z]/.test(r)&&typeof t[r]=="function"&&typeof n[r]=="function"&&n[r](t[r])},normalize:function(e,t,n){return e},options:{},afterAdd:function(e,t){},destroy:function(){},cloneBehavior:function(e,t,n){var r=n[t.functionName]();if(r)if(r instanceof Date)r=new Date(r.getTime());else if(r.constructor===Object||r.constructor===Array)r=WAF.clone(r);this[t.functionName]._storage[e]=r}},r.types.string={normalize:function(e){return e==null?null:String(e)}},r.types["boolean"]={normalize:function(e){return e==null||e===""?null:typeof e!="boolean"?e==="true":e}},r.types.number={normalize:function(e){return e==null||e===""?null:typeof e!="number"?parseFloat(e):e}},r.types.integer={normalize:function(e){return e==null||e===""?null:typeof e!="number"?parseInt(e,10):Math.floor(e)}},r.types.date={normalize:function(e){return e instanceof Date?e:e==null||e===""?null:typeof e=="string"?new Date(Date.parse(e)):new Date(e)}},r.types["enum"]={},r.types.attribute={},r});

/** minified js  - from ../walib/WAF/waf-behavior/properties-list.js */

WAF.define("waf-behavior/properties-list",function(){"use strict";var e=WAF.require("waf-behavior/properties");return e.types.list={options:{bindable:!1,onModify:function(e,t,n){this.fire("remove",t,{value:e.oldValue,index:e.index}),this.fire("insert",t,{value:e.value,index:e.index})},onMove:function(e,t,n){this.fire("remove",t,{value:e.value,index:e.from}),this.fire("insert",t,{value:e.value,index:e.to})}},listable:!1,normalize:function(e){return e===""?[]:typeof e=="string"?JSON.parse(e):e},afterAdd:function(e,t){t.attributes&&(t.attributes=t.attributes.map(function(e){return typeof e=="string"?{name:e}:e}))},createAccessor:function(t,n,r){var i=this;r[t]=[];var s={onInsert:undefined,onRemove:undefined,onMove:undefined,onModify:undefined,onChange:undefined};i[n.functionName]=function(s,o){if(arguments.length===2){if(s>r[t].length)throw'Index out of range for property "'+t+'"';if(s===r[t].length)i[n.functionName].push(s);else{var u=r[t][s];r[t][s]=o,i.fire("modify",t,{index:s,value:o,oldValue:u}),i.fire("change",t,{value:r[t],action:"modify"},{once:!0})}return r[t][s]}if(arguments.length===1){if(typeof s=="number")return r[t][s];i[n.functionName].removeAll(),s=e.types.list.normalize.call(this,s),i[n.functionName].concat(s)}return r[t].slice(0)},i[n.functionName]._storage=r,i[n.functionName].count=function(){return r[t].length},i[n.functionName].insert=function(e,s){var o=i[n.functionName].count();return e>=o?(e=o,r[t].push(s)):r[t].splice(e,0,s),i.fire("insert",t,{index:e,value:s}),i.fire("change",t,{value:r[t],action:"insert"},{once:!0}),e},i[n.functionName].remove=function(e){var n=r[t].splice(e,1);return i.fire("remove",t,{index:e,value:n[0]}),i.fire("change",t,{value:r[t],action:"remove"},{once:!0}),n[0]},i[n.functionName].push=i[n.functionName].append=function(e){return i[n.functionName].insert(i[n.functionName].count(),e)},i[n.functionName].first=function(){return i[n.functionName](0)},i[n.functionName].last=function(){return i[n.functionName](i[n.functionName].count()-1)},i[n.functionName].pop=function(){var e=i[n.functionName].last();return i[n.functionName].remove(i[n.functionName].count()-1),e},i[n.functionName].shift=function(){var e=i[n.functionName].first();return i[n.functionName].remove(0),e},i[n.functionName].concat=function(e){if(!e)return;for(var t=0;t<e.length;t++)i[n.functionName].append(e[t])},i[n.functionName].removeAll=function(){while(i[n.functionName].count())i[n.functionName].remove(0)},i[n.functionName].move=function(e,n){var s=r[t].splice(e,1);s.length&&r[t].splice(n,0,s[0]),i.fire("move",t,{from:e,to:n,value:s[0]}),i.fire("change",t,{value:r[t],action:"move"},{once:!0})},Object.keys(s).forEach(function(e){var r=e[2].toLowerCase()+e.substr(3);i[n.functionName][e]=function(e){return i.subscribe(r,t,function(r){e.call(i,r.data,t,n)},i)}})}},undefined});

/** minified js  - from ../walib/WAF/waf-behavior/properties-datasource.js */

WAF.define("waf-behavior/properties-datasource",["waf-core/subscriber","waf-core/event","waf-core/class"],function(e,t,n){"use strict";function r(e){var t=window.sources||window.source||{};return t[e]}var i=WAF.require("waf-behavior/properties"),s=i._propertiesCustomHelper;return i.types.datasource={createAccessor:function(n,r,i){function p(e){if(!e)return"";var t=Object.keys(e);return t.sort(),t.map(function(t){return t+"="+e[t]}).join(";")}function d(e,t){return function(r){var i=u.subscribe("attributeChange",function(e){if(e.kind==="currentElementChange")return;if(e.kind==="attributeChange"){var n=u().getPosition();if(a>n||n>=a+f)return}e.kind==="collectionChange"&&(a=0),t.call(this,{start:e.data.start!==undefined?e.data.start:a||0,pageSize:e.data.pageSize||f},r)},o);return c[e].push(i),u.onRequestPageChange=function(e){var t=u.subscribe("attributeChange",function(t){if(t.kind==="currentElementChange")return;if(t.kind==="attributeChange"){var n=u().getPosition();if(a>n||n>=a+f)return}t.kind==="collectionChange"&&(a=0),e.call(this,t.data.start!==undefined?t.data.start:a||0,t.data.pageSize||f)},o);return c.requestPageChange.push(t),t},i}}var o=this,u=o[r.functionName]=function(e){if(arguments.length){var t=i[n],a=u._datasourceName;typeof e=="string"&&(u._datasourceName=e),i[n]=s(r,"normalize").call(o,e,r,n),(a!==u._datasourceName||t!==i[n])&&o.fire("datasourceBindingChange",n,u.boundDatasource()),t!==i[n]&&o.fire("change",n,{value:i[n],oldValue:t})}return i[n]};u._storage=i,u.onChange=function(e){return o.subscribe("change",n,function(t){e.call(o,t.data.value,t.data.oldValue,t.target)},o)};var a=0,f=r.pageSize||Infinity,l=!0,c={pageChange:[],requestPageChange:[]};u._subscribers=c;var h;r.attributes&&(u._attributes=r.attributes.slice(0)),u.attributes=function(){return u._attributes},u.attributeFor=function(e,t){if(arguments.length===2){h||(h={});var r=h[e];t?h[e]=t:delete h[e],r!==h[e]&&o.fire("datasourceBindingChange",n,u.boundDatasource())}return h&&h[e]},u.setMapping=function(e){u.mapping(e)},u.mapping=function(e){if(arguments.length){var t=p(h);h=e,t!==p(h)&&o.fire("datasourceBindingChange",n,u.boundDatasource())}return h&&$.extend({},h)},u.mapElement=function(e){if(!h)return e;var t={};for(var n in h)t[n]=e.getAttributeValue?e.getAttributeValue(h[n]):e[h[n]],t[n]&&t[n].__deferred&&t[n].__deferred.uri&&(t[n].toString=function(){return this.__deferred.uri});return t},u.getPage=function(e,t,n){var r=u();typeof e=="function"&&(n=t,t=e,e={}),t=e.callback||t,n=e.errorCallback||n;if(!r){t.call(o,[]);return}var i=e.start!==undefined?e.start:u.start()||0,s=e.pageSize||u.pageSize();r.getElements(i,s,function(e){var n=e.elements;h&&Object.keys(h).length&&!r._isStatik&&(n=n.map(u.mapElement)),t.call(o,n,i,s)},n)},u.getCollection=u.getPage,u.start=function(e){return typeof e=="number"&&(a=e),a},u.pageSize=function(e){return typeof e=="number"&&(f=e),f},u.fetch=function(e){e=e||{};var t=u();if(!t)return;var n=e.start!==undefined?e.start:a||0,r=e.pageSize||f;if(n!==a||r!==f||e.force||l)l=!1,a=n,f=r,u._firePageChange({start:a,pageSize:f})},u._firePageChange=function(e){var n,r;n=new t({kind:"requestPageChange",emitter:o,data:e}),r=new t({kind:"pageChange",emitter:o,data:e}),c.requestPageChange.forEach(function(e,t){e.fire(n)}),c.pageChange.forEach(function(e,t){e.fire(r)})},u.onPageChange=d("pageChange",u.getPage.bind(u)),u.onRequestPageChange=d("requestPageChange",function(e,t){t.call(this,e.start,e.pageSize)}),u.subscribe=function(t,n,r,i,s){typeof n=="function"&&(s=i,i=r,r=n,n=undefined),c[t]=c[t]||[];var o=new e({callback:r,target:n,observer:i,userData:s,unsubscribe:function(){WAF.remove(c[t],this),WAF.remove(c.pageChange,this),this._realSubscriber&&this._realSubscriber.unsubscribe()},pause:function(){this._pause=!0,this._realSubscriber&&this._realSubscriber.pause()},resume:function(){this._pause=!1,this._realSubscriber&&this._realSubscriber.resume()}});return u()&&(o._realSubscriber=u().subscribe(t,n,r,i,s)),c[t].push(o),o},u.onCollectionChange=function(e,t){return u.subscribe("collectionChange",function(n){u.getCollection(e,t)},o)},u.boundDatasource=function(){if(!u()&&!u._datasourceName)return null;var e={};return u.attributes()&&u.attributes().forEach(function(t){e[t.name]={datasourceName:u._datasourceName||u()&&u()._private.id,datasource:u(),attribute:u.attributeFor(t.name),formatters:[]}}),{datasourceName:u._datasourceName||u()&&u()._private.id,datasource:u(),attributes:e,formatters:[],valid:!!u(),toString:function(){return u._datasourceName||u()&&u()._private.id}}},u.onChange(function(){a=0,f=r.pageSize||Infinity,Object.keys(c).forEach(function(e){if(e==="pageChange")return;c[e].forEach(function(t){t._realSubscriber&&t._realSubscriber.unsubscribe(),t._realSubscriber=undefined,u()&&(t._realSubscriber=u().subscribe(e,t.target,t.callback,t.observer,t.userData),t._pause&&t._realSubscriber.pause())})}),u()&&(WAF.require("waf-core/widget").bindingList||(WAF.require("waf-core/widget").bindingList={}),WAF.require("waf-core/widget").bindingList[u().getID()]=u().getID())}),u.getDataClass=function(){return u()?u().getDataClass():null}},afterAdd:function(e,t){t.attributes&&(t.attributes=t.attributes.map(function(e){return typeof e=="string"?{name:e}:e}))},initValue:function(e,t,n){var r=this;i.types["*"].initValue.call(r,e,t,n);var s=r[t.functionName],o={},u=this.node.getAttribute("data-"+e.toLowerCase()+"-attributes");u&&(s._attributes=[],u.split(/ *; */g).forEach(function(e){var t=e.split(/ *= */g);t[1]&&(o[t[0]]=t[1]),s._attributes.push({name:t[0]})})),(s.attributes()||[]).forEach(function(t){var n="data-"+e.toLowerCase()+"-attribute-"+t.name.toLowerCase();r.node.hasAttribute(n)&&(o[t.name]=r.node.getAttribute(n))}),Object.keys(n).forEach(function(t){var r=t.split(".");r.length>1&&r[0]===e&&(o[r.slice(1).join(".")]=n[t])}),s.mapping()||s.mapping(Object.keys(o).length?o:undefined);var a;if(Array.isArray(n[e]))a=n[e];else{var f=r.node.getAttribute("data-static-"+e.toLowerCase());f&&(a=JSON.parse(f))}if(a){var l=new WAF.DataSourceVar({variableReference:a,"data-attributes":s.attributes().map(function(e){return e.name+":"+(e.type||"string")}).join(",")});l._isStatik=!0,s(l)}},installCallbacks:function(e,t){function r(){if(n()){var e;for(var t in n.mapping()){var r=n.mapping()[t];r&&r.indexOf(".")>=0&&(n().declareDependencies(r),e=!0)}e&&n().query()}}i.types["*"].installCallbacks.call(this,e,t);var n=this[t.functionName];r();var s=this.subscribe("datasourceBindingChange",e,function(e){r(),n.start(0),setTimeout(n._firePageChange,0)},this);s.options.once=!0},normalize:function(e,t,i){return typeof e=="string"?r(e)||null:n.instanceOf(e,WAF.DataSource)?e:null},options:{bindable:!1},destroy:function(e,t){var n=this[t.functionName];Object.keys(n._subscribers).forEach(function(e){if(e==="pageChange")return;n._subscribers[e].forEach(function(e){e.unsubscribe()})})},cloneBehavior:function(e,t,n){var r=this[t.functionName],i=n[t.functionName];r._storage[e]=i(),r.mapping(WAF.clone(i.mapping()))}},undefined});

/** minified js  - from ../walib/WAF/waf-behavior/properties-template.js */

WAF.define("waf-behavior/properties-template",["waf-core/binding-parser"],function(e){"use strict";function n(e,t){e.forEach(function(e){e.type==="mustache"&&t.indexOf(e.id.string)===-1?t.push(e.id.string):e.type==="block"&&(n(e.program.statements,t),e.inverse&&e.inverse.statements&&n(e.inverse.statements,t),e.mustache&&e.mustache.params.length&&e.mustache.params.forEach(function(e){e.string&&t.indexOf(e.string)===-1&&t.push(e.string)}))})}var t=WAF.require("waf-behavior/properties");t.types.template={createAccessor:function(r,i,s){var o=this,u=[],a={},f={},l={},c;t.types["*"].createAccessor.call(this,r,i,s);var h=o[i.functionName],p=o[i.functionName]=function(e){if(arguments.length){e==null?(c=undefined,u=[]):(c=Handlebars.compile(e),u.length=0,n(Handlebars.parse(e).statements,u));for(var t in a)u.indexOf(t)<0&&(delete a[t],t in f&&(f[t].unsubscribe(),delete f[t]))}return h.apply(o,arguments)};p._storage=s,this.subscribe("change",r,function(){this.fire("dataChange",r)},this),p.extractVariables=function(){var e=[];return n(Handlebars.parse(h()).statements,e),e},Object.keys(h).forEach(function(e){p[e]=h[e]}),i.templates=i.templates||[],i.templates.forEach(function(e){l[e.name]=e.template}),p.defaultData=i.defaultData||{items:[]},p(i.templates[0]&&i.templates[0].template||null);if(i.datasourceProperty){var d=o.constructor._properties[i.datasourceProperty];if(!d||d.type!=="datasource")throw'Unknown datasource property "'+i.datasourceProperty+'" for template property "'+r+'".';this.subscribe("datasourceBindingChange",i.datasourceProperty,function(){this.fire("dataChange",r)},this)}p.templates=function(){return i.templates||[]},p.select=function(e){if(e in l)return p(l[e]),e;for(var t in l)if(p()===l[t])return t;return null},p.render=function(e){return e=e||{},c||(c=Handlebars.compile(p()||"")),p.attributes().forEach(function(t){if(t in e)return;e[t]=p.attribute(t)}),c(e)},p.attributes=function(){return u},p.onDataChange=function(e){if(i.datasourceProperty){var t=o.constructor._properties[i.datasourceProperty],n=o[t.functionName],s=n.onPageChange(function(t){e.call(o,t.map(p.render))}),u=o.subscribe("dataChange",r,function(t){n.getPage(function(t){e.call(o,t.map(p.render))})},o),a=u.unsubscribe;return u.unsubscribe=function(){s.unsubscribe(),a.call(this)},u}return o.subscribe("dataChange",r,function(t){e.call(o,p.render())},o)},p.attribute=function(e,t){if(arguments.length>1){var n=a[e];a[e]=t,n!==t&&o.fire("dataChange",r)}return e in a?a[e]:null},p.bindAttribute=function(t,n){return t in f&&(f[t].unsubscribe(),delete f[t]),typeof n=="string"&&(n=e.parse(n)),n=WAF.extend({callback:function(e){p.attribute(t,e)}},n),a[t]=null,f[t]=o.bindDatasourceAttribute(n),f[t]}},initValue:function(e,n,r){t.types["*"].initValue.call(this,e,n,r);var i=e.toLowerCase(),s=this[n.functionName];s.attributes().forEach(function(t){var n;if(e+"."+t in r)n=r[e+"."+t];else{var o=i+"-attribute-"+t.toLowerCase();this.node.hasAttribute(o)&&(n=this.node.getAttribute(o))}n!==undefined&&s.attribute(t,n);var u=this.node.getAttribute(i+"-binding-"+t.toLowerCase());u&&s.bindAttribute(t,u)}.bind(this))}}});

/** minified js  - from ../walib/WAF/waf-behavior/properties-file.js */

WAF.define("waf-behavior/properties-file",function(){"use strict";var e=WAF.require("waf-behavior/properties");e.types.file={options:{},listable:!1,normalize:function(e){},attribute:function(e,t,n){return{type:"file",folder:t.folder||"uploads",replace:t.replace||!1,accept:t.accept||"*"}},createAccessor:function(t,n,r){function o(){if(typeof s=="string")return String(s);if(s instanceof File)return s.getAsDataURL();if(s instanceof Blob)return URL.createObjectURL(s);if(s instanceof Object&&s.__deferred.image)return WAF.core.restConnect.baseURL + s.__deferred.uri;throw"Unknow data type for property "+t}var i=this,s=null,u=function(e){if(arguments.length>0){var n=r[t];r[t]=e,s=null,n!==r[t]&&this.fire("change",t,{value:r[t],oldValue:n})}return s!=null?o():r[t]instanceof Object&&r[t].__deferred.image?r[t].__deferred.uri:r[t]||null};e.types["*"].createAccessor.call(i,t,n,r),WAF.extend(u,i[n.functionName]),i[n.functionName]=u,u.get=function(e){if(s){typeof s=="string"&&e.call(i,s),s instanceof File&&e.call(i,s.getAsBinary());if(s instanceof Blob){var n=new FileReader;n.addEventListener("loadend",function(){e.call(i,n.result)}),n.readAsBinaryString(s)}}r[t]&&$.ajax(r[t]).done(function(t){e&&e.call(i,t)}).fail(function(t,n){e&&e.call(i,n)})}}}});

/** minified js  - from ../walib/WAF/waf-core/widget.js */

WAF.define("waf-core/widget",function(){"use strict";function o(e){this.options=e,this.order=s++}var e=WAF.require("waf-core/class"),t=WAF.require("waf-core/error");WAF.require("waf-behavior/methodshelper");var n={defaultBehaviors:[]},r={widget:1},i=e.create();n.BaseWidget=i,i.tagName="div",i.stackInstanceMethods("_initProperties"),i.stackInstanceMethods("_initBehavior"),i.stackInstanceMethods("_init"),i.stackInstanceMethods("_destroyBehavior"),i.stackInstanceMethods("_enableBehavior"),i.stackInstanceMethods("_disableBehavior"),i.stackInstanceMethods("_cloneBehavior"),i.stackInstanceMethods("_attachBehavior"),i.stackInstanceMethods("_detachBehavior"),i.defaultOptions={},i.mergeClassAttributeOnInherit("defaultOptions"),i.idPrefix="widget",i.addMethods({initialize:function(e,t){this._initProperties(),typeof e=="string"&&(this.id=e,e=document.getElementById(e)),typeof e=="object"&&!(e instanceof HTMLElement)&&!n.isWidget(e)&&(t=e,e=undefined),this._initWidget(e,t)},_initWidget:function(e,t){this._enabled=!0,t=WAF.extend({},this.constructor.defaultOptions,t);var r=n.isWidget(e);r?(this.id||(this.id=this._getId()),t.originalId=e.id,this._createDomNode(!0)):e?(this.node=e,this.node.id&&(this.id=this.node.id),this._initChildrenFromDom&&this._initChildrenFromDom()):(this.id||(this.id=this._getId()),this._createDomNode()),this.id!==undefined&&(n._instances[this.id]=this,WAF.widgets&&!(this.id in WAF.widgets)&&this.kind!=="OldWidget"&&(WAF.widgets[this.id]=this)),this._initBehavior&&this._initBehavior(t,r),r&&this._cloneBehavior&&this._cloneBehavior(e),this._init&&this._init(t),this.init(t),this._isReady=!0},init:function(){},_getId:function(){var e;do e=this.constructor.idPrefix+r[this.constructor.idPrefix]++;while(document.getElementById(e)||e in n._instances);return e},_createDomNode:function(e){this.node=document.createElement(this.constructor.tagName),this.node.id=this.id,this.node.setAttribute("data-type",this.kind),this._createChildren&&this._createChildren(e)},getNode:function(){return this.node},destroy:function(){this.children().forEach(function(e){e._detach(),e.destroy()}),this._detach(),this._destroyBehavior&&this._destroyBehavior(),this.id!==undefined&&(delete n._instances[this.id],WAF.widgets&&WAF.widgets[this.id]===this&&delete WAF.widgets[this.id]);for(var e in this)Object.hasOwnProperty(this,e)&&delete this[e]},_detach:function(){this._detachCallback&&this._detachCallback(),this.parentWidget=undefined,this._detachCallback=undefined,this._detachBehavior&&this._detachBehavior()},_attach:function(e,t){this.parentWidget&&this.parentWidget!==e&&this._detach(),this.parentWidget=e,this._detachCallback=t,this._attachBehavior&&this._attachBehavior()},allChildren:function(){var e=this.children();for(var t=0,n=e.length;t<n;t++)e=e.concat(e[t].allChildren());return e},disable:function(e){if(e===!1)return this.enable();this._enabled=!1,this._disableBehavior&&this._disableBehavior(),this.children().forEach(function(e){e.disable()})},enable:function(e){if(e===!1)return this.disable();this._enabled=!0,this._enableBehavior&&this._enableBehavior(),this.children().forEach(function(e){e.enable()})},disabled:function(){return!this._enabled},clone:function(){return new this.constructor(this)},propagate:function(e){var t=[].slice.call(arguments,0);this[e]&&this[e].apply(this,t.slice(1)),this.children().forEach(function(e){e.propagate.apply(e,t)})}}),i=i,n.create=function(o,u,a){typeof u=="object"&&(a=u,u=undefined);var f=e.create();f.inherit(u||i),f.prototype.kind=o,f.kind=o,f.prototype.toString=function(){return"["+o+" #"+this.node.id+"]"},f._addMultiInheritedCaller("_initChildrenFromDom"),f._addMultiInheritedCaller("_createChildren"),n.defaultBehaviors.forEach(function(e){f.inherit(e)}),f.prototype.children=function(){var e=[];return f.supers.forEach(function(t){t.prototype.children&&t.prototype.children.call(this).forEach(function(t){e.indexOf(t)<0&&e.push(t)})}.bind(this)),e};var l=f.inherit;return f.inherit=function(){var r=[].map.call(arguments,function(e){if(typeof e=="string"){var t=WAF.require(e);if(t===undefined){var n=WAF.require("waf-core/error");throw new n.Error("Can't inherit from unknown class '"+e+"'")}return t}return e}),s=this;if(e.inheritFrom(r[0],i)){if(s.supers.length>e.defaultBehaviors.length+n.defaultBehaviors.length+1)throw new t.Inherit("Widgets should inherit first from another widget");s=n.create(o,r.shift()),r.length&&s.inherit.apply(s,r)}for(var u=1;u<r.length;u++)if(e.inheritFrom(r[u],i))throw new t.Inherit("Widgets should inherit first from another widget");return l.apply(s,r),s},n._upgradeWidget(f,a),f.idPrefix=o[0].toLowerCase()+o.substr(1),f.idPrefix in r||(r[f.idPrefix]=1),f},n._upgradeWidget=function(e,t){if(t){var n=[];Object.keys(t).forEach(function(r){typeof t[r]=="function"?e.prototype[r]=t[r]:typeof t[r]=="object"&&t[r]instanceof o?(t[r].name=r,n.push(t[r])):e[r]=t[r]}),n.sort(function(e,t){return e.order<t.order?-1:e.order>t.order?1:0}),n.forEach(function(t){e.addProperty(t.name,t.options)})}return e},n.createSubWidget=function(t,n){var r=this.create.apply(this,arguments);return r.removeClass("waf-widget"),r},n.instanceFromDom=function(n){if(n.id in this._instances)throw new t.Exists("Widget is already instanciated");if(n.tagName==="LABEL"&&"Label"in WAF.require.modules)return new(WAF.require("Label"))(n);var r=$(n).attr("data-type"),i=$(n).attr("data-package");if(i){var s=WAF.require(i);if(s&&typeof s[r]=="function")return new s[r](n);if(typeof s=="function"&&i===r)return new s(n)}else if($(n).find("[data-type][data-package]").length||$(n).find("[data-type=component]").length||n.getAttribute("data-type")==="component")return new(WAF.require("waf-widget/oldwidget"))(n);return undefined},n._instances={},n.get=function(e){return typeof e=="object"&&e instanceof HTMLElement?n.get(e.id)||n.get(e.parentNode):e in this._instances?this._instances[e]:undefined},n.isWidget=function(t,n){return e.instanceOf(t,n||i)},n.isWidgetClass=function(t,n){return e.inheritFrom(t,n||i)},n.property=function(e){return new o(e)};var s=0;return t.create("Inherit"),t.create("Exists"),n});

/** minified js  - from ../walib/WAF/waf-behavior/domhelpers.js */

WAF.define("waf-behavior/domhelpers",function(){"use strict";var e=WAF.require("waf-core/behavior"),t=e.create(),n=t.prototype;t.inherit(WAF.require("waf-behavior/observable")),t._mappedDomEvents=[],t.mergeClassAttributeOnInherit("_mappedDomEvents"),t.mapDomEvents=function(e,t){var n=this;Object.keys(e).forEach(function(r){r.split(" ").forEach(function(i){i&&(n._mappedDomEvents.push({domEvent:i,event:e[r],selector:t}),i===e[i]&&n.disableDomEvent(i))})})},n._initProperties=function(){this._mappedDomEvents=this.constructor._mappedDomEvents.map(function(e){return WAF.extend(!0,{},e)})},n._initSubscriber=function(e){this._mappedDomEvents.forEach(function(t){if(t.handler)return;if(Array.isArray(t.event)){if(t.event.indexOf(e)<0)return}else if(t.event!==e)return;t.handler=function(e,n){if(n)return;this.disabled()||this.fire(t.event,{domEvent:e}),e.stopPropagation()}.bind(this);var n=t.selector?$(t.selector,this.node):$(this.node);n.on(t.domEvent,t.handler)}.bind(this))},n._destroySubscriber=function(e){if(!this._mappedDomEvents)return;this._mappedDomEvents.forEach(function(t){if(!t.handler)return;if(Array.isArray(t.event)){if(t.event.indexOf(e)<0)return}else if(t.event!==e)return;var n=t.selector?$(t.selector,this.node):$(this.node);n.off(t.domEvent,t.handler),delete t.handler}.bind(this))},t.addTabIndex=function(e){this.addProperty("tabIndex",{type:"integer",defaultValueCallback:function(){var e=$(this.node);this.constructor._properties.tabIndex.selector&&(e=e.find(this.constructor._properties.tabIndex.selector));var t=parseFloat(e.attr("tabindex"));return t!=null&&!isNaN(t)?t:null},onChange:function(e){var t=$(this.node);this.constructor._properties.tabIndex.selector&&(t=t.find(this.constructor._properties.tabIndex.selector)),t.attr("tabindex",e)},bindable:!1,selector:e})},n.replaceWith=function(e){var t=this,n=$(this.node),r=$("<"+e+">");while(t.node.childNodes.length>0)r[0].appendChild(t.node.childNodes[0]);$.each(n.prop("attributes"),function(e,t){r.attr(t.name,t.value)});var i=n.data("events")||$._data(n[0],"events");i&&$.each(i,function(e,t){$.each(t,function(e,t){var n=t.namespace.length>0?t.type+"."+t.namespace:t.type;r.bind(n,t.data,t.handler)})}),n.replaceWith(r),this.node=r[0]},n._init=function(){var e=this.constructor._properties.tabIndex;if(!e)return;var t=$(this.node);e.selector&&(t=t.find(this.constructor._properties.tabIndex.selector));var n=function(){this.tabIndex()!=null&&this.tabIndex()!==""?t.attr("tabindex",this.tabIndex()):t.removeAttr("tabindex")};this.tabIndex.onChange(n),n.call(this)};var r=WAF.require("waf-core/widget");return r.defaultBehaviors.push(t),t});

/** minified js  - from ../walib/WAF/waf-behavior/focus.js */

WAF.define("waf-behavior/focus",function(){"use strict";var e=WAF.require("waf-core/behavior"),t=e.create(),n=t.prototype;return n._initBehavior=function(){this._focus=!1,$(this.node).hover(this.addClass.bind(this,"waf-state-hover"),this.removeClass.bind(this,"waf-state-hover"))},t.inherit(WAF.require("waf-behavior/domhelpers")),t.mapDomEvents({focus:"focus",blur:"blur"}),t});

/** minified js  - from ../walib/WAF/waf-behavior/style.js */

WAF.define("waf-behavior/style",function(){"use strict";var e=WAF.require("waf-core/behavior"),t=e.create(),n=t.prototype;return t.classes=[],t.mergeClassAttributeOnInherit("classes"),t.hasClass=function(e){return this.classes.indexOf(e)>=0},t.addClass=function(e){this.hasClass(e)||this.classes.push(e)},t.removeClass=function(e){var t=this.classes.indexOf(e);t>=0&&this.classes.splice(t,1)},n.addClass=function(e,t){t?$(this.node).find(t).addClass(e):$(this.node).addClass(e)},n.removeClass=function(e,t){t?$(this.node).find(t).removeClass(e):$(this.node).removeClass(e)},n.hasClass=function(e,t){return t?$(this.node).find(t).hasClass(e):$(this.node).hasClass(e)},n.toggleClass=function(e,t){t?$(this.node).find(t).toggleClass(e):$(this.node).toggleClass(e)},n.style=function(){function t(e){return e[1].toUpperCase()}var e=/-\w/g;return function(n,r){if(typeof n=="object"){for(var i in n)this.style(i,n[i]);return}var s=n.toLowerCase().replace(e,t);return arguments.length===2&&(this.node.style[s]=r),this.node.style[s]}}(),n.show=function(){$(this.node).show(),$("[for="+this.node.id+"]").show()},n.hide=function(){$(this.node).hide(),$("[for="+this.node.id+"]").hide()},n._initProperties=function(){this._bindedCssAttributes={}},n._initBehavior=function(){this.constructor.classes.forEach(function(e){this.addClass(e)}.bind(this)),this.node.getAttribute("data-hideonload")==="true"&&this.hide()},"waf-behavior/bindable"in WAF.require.modules&&(t.inherit(WAF.require("waf-behavior/bindable")),n.bindDatasourceAttributeCSS=function(e,t,n){var r=this;this._bindedCssAttributes[n]&&this._bindedCssAttributes[n].unsubscribe();var i=this._bindedCssAttributes[n]=this.bindDatasourceAttribute({datasource:e,attribute:t,setGetCallback:function(e){this.style(n,e)}});if(i){var s=i.unsubscribe;i.unsubscribe=function(){s.call(this),delete r._bindedCssAttributes[n]},i.unbind=i.unsubscribe}return i},t.doAfter("_initBehavior",function(e,t){var n=this.node.getAttribute("data-binding-css");if(n){n=n.split(/ *; */);var r=/ *([^ :]*) *: *([^.]*)\.([^ ]*)/;n.forEach(function(e){e=r.exec(e),sources[e[2]]&&this.bindDatasourceAttributeCSS(sources[e[2]],e[3],e[1])}.bind(this))}})),n._cloneBehavior=function(e){this.node.setAttribute("style",e.node.getAttribute("style")),this.node.className=e.node.className;if("waf-behavior/bindable"in WAF.require.modules)for(var t in e._bindedCssAttributes){var n=e._bindedCssAttributes[t].property,r=this._bindedAttributes[n];r.subscriber.unsubscribe(),this.bindDatasourceAttributeCSS(r.datasource,r.attribute,t)}},t});

/** minified js  - from ../walib/WAF/waf-behavior/size.js */

WAF.define("waf-behavior/size",function(){"use strict";var e=WAF.require("waf-core/behavior");WAF.require("waf-behavior/properties");var t=e.create(),n=t.prototype;return t.inherit(WAF.require("waf-behavior/style")),n.width=function(e){return arguments.length&&(this.style("width",e+"px"),this.fire("resize",{},{once:!0})),this.node.offsetWidth},n.height=function(e){return arguments.length&&(this.style("height",e+"px"),this.fire("resize",{},{once:!0})),this.node.offsetHeight},n.size=function(e,t){return arguments.length===2&&(this.width(e),this.height(t)),e=this.width(),t=this.height(),{0:e,1:t,width:e,height:t,length:2}},n.autoWidth=function(){this.style("width","auto")},n.autoHeight=function(){this.style("height","auto")},n._attachBehavior=function(){this._parentResizeSubscriber=this.parentWidget.subscribe("resize",function(e){this.hasRelativeSize()&&this.fire("resize",{})},this)},n._detachBehavior=function(){this._parentResizeSubscriber&&(this._parentResizeSubscriber.unsubscribe(),delete this._parentResizeSubscriber)},n.hasRelativeSize=function(){var e=$(this.node);if(/%|em|rem/.test(e.css("width")))return!0;if(/%|em|rem/.test(e.css("height")))return!0;if(e.css("position")==="absolute"){if(e.css("left")!=="auto"&&e.css("right")!=="auto")return!0;if(e.css("top")!=="auto"&&e.css("bottom")!=="auto")return!0}return!1},t});

/** minified js  - from ../walib/WAF/waf-behavior/position.js */

WAF.define("waf-behavior/position",function(){"use strict";var e=WAF.require("waf-core/behavior");WAF.require("waf-behavior/properties");var t=e.create(),n=t.prototype;t.inherit(WAF.require("waf-behavior/size")),n.left=function(e){return arguments.length&&this.style("left",e+"px"),this.node.offsetLeft},n.top=function(e){return arguments.length&&this.style("top",e+"px"),this.node.offsetTop},n.right=function(e){arguments.length&&this.style("right",e+"px")},n.bottom=function(e){arguments.length&&this.style("bottom",e+"px")},n.fitToLeft=function(){var e=$(this.node).css("right")!=="auto";e?this.autoWidth():this.width(this.left()+this.width()),this.left(0)},n.fitToTop=function(){var e=$(this.node).css("bottom")!=="auto";e?this.autoHeight():this.height(this.top()+this.height()),this.top(0)},n.fitToRight=function(){var e=$(this.node).css("left")!=="auto";e?this.autoWidth():this.width(this.left()+this.width()),this.right(0)},n.fitToBottom=function(){var e=$(this.node).css("top")!=="auto";e?this.autoHeight():this.height(this.top()+this.height()),this.bottom(0)},n.position=function(e,t){return arguments.length===2&&(this.left(e),this.top(t)),e=this.left(),t=this.top(),{0:e,1:t,x:e,y:t,left:e,top:t,length:2}},n.absolutePosition=function(){var e=this.parentWidget.absolutePosition(),t=this.position(),n=this.parentWidget.contentOffset?this.parentWidget.contentOffset():{x:0,y:0};return{0:e.x+t.x+n.x,1:e.y+t.y+n.y,x:e.x+t.x+n.x,y:e.y+t.y+n.y,left:e.x+t.x+n.x,top:e.y+t.y+n.y,length:2}};var r=WAF.require("waf-core/widget");return r.defaultBehaviors.push(t),t});

/** minified js  - from ../walib/WAF/waf-behavior/livescroll.js */

WAF.define("waf-behavior/livescroll",function(){"use strict";function i(e){return e[e.constructor._liveScrollProperty]}var e=WAF.require("waf-core/behavior"),t=WAF.require("waf-core/widget"),n=e.create(),r=n.prototype;n.linkDatasourcePropertyToLiveScroll=function(e){this._liveScrollProperty=e},r.getScrollerNode=function(){return this.node},r.getScrolledNode=function(){throw"LiveScroll: You must implement a getScrolledNode() function."},r.getRowSize=function(){throw"LiveScroll: You must implement a getRowSize() function that return the size of a row in pixel."},r.getItemsPerRow=function(){return 1},r.isHorizontalScroll=function(){return!1},r.getThreshold=function(){return Math.round(.2*a(this)/this.getRowSize())*this.getItemsPerRow()};var s=function(){var e=300,t;return function n(r){t=r||t;var i=t.data;if(i.wait){if(r)return;i.wait=0}if(i.fetching)return;o(t),e>0&&i.fetching&&(i.wait=setTimeout(n,e))}}(),o=function(e){var t=e.data.that,n=Math.floor(u(t)/t.getRowSize())*t.getItemsPerRow(),r=Math.ceil((u(t)+a(t))/t.getRowSize())*t.getItemsPerRow(),s={};s.start=i(t).start(),s.pageSize=Math.ceil(t.getThreshold()/i(t).pageSize())*i(t).pageSize(),t._currentStart>0&&t._currentStart+t.getThreshold()>n&&(s.start=t._currentStart-s.pageSize,n<s.start+t.getThreshold()&&(s.start=n-t.getThreshold(),s.pageSize=r-s.start+t.getThreshold())),t._currentStart+t._currentPageSize<i(t)().length&&t._currentStart+t._currentPageSize-t.getThreshold()<r&&(s.start=t._currentStart+t._currentPageSize,n>s.start+i(t).pageSize()-t.getThreshold()&&(s.start=n-t.getThreshold(),s.pageSize=r-s.start+t.getThreshold())),s.start=Math.max(s.start,0),s.pageSize=Math.ceil(s.pageSize/i(t).pageSize())*i(t).pageSize(),s.start!==i(t).start()&&!e.data.fetching&&(e.data.fetching=!0,i(t).fetch(s))},u=function(e){return e.isHorizontalScroll()?e.getScrollerNode().scrollLeft:e.getScrollerNode().scrollTop},a=function(e){return e.isHorizontalScroll()?e.getScrollerNode().clientWidth:e.getScrollerNode().clientHeight};return r.getRowCount=function(){return i(this)().length/this.getItemsPerRow()},r._initBehavior=function(){if(!i(this))throw"LiveScroll: linkDatasourcePropertyToLiveScroll should point to a datasource property";if(i(this).pageSize()===Infinity)throw'LiveScroll: You must define a pageSize for the property "'+this.constructor._liveScrollProperty+'"'},r._init=function(){var e={that:this};$(this.getScrollerNode()).scroll(e,s);var t=function(){this.isHorizontalScroll()?(this.getScrolledNode().style.width=this.getRowSize()*this.getRowCount()+"px",this.getScrolledNode().style.height="auto",this.getScrolledNode().style.minHeight="1px"):(this.getScrolledNode().style.height=this.getRowSize()*this.getRowCount()+"px",this.getScrolledNode().style.width="auto",this.getScrolledNode().style.minWidth="1px")};i(this).subscribe("collectionChange",t,this),i(this).onChange(t),i(this)()&&t.call(this),i(this).onPageChange(function(){e.fetching=!1}),e.fetching=!0;var n=Math.floor(u(this)/this.getRowSize())*this.getItemsPerRow();this._currentStart=Math.max(0,n-this.getThreshold());var r=Math.ceil((u(this)+a(this))/this.getRowSize())*this.getItemsPerRow();this._currentPageSize=Math.ceil((r-this._currentStart+this.getThreshold())/i(this).pageSize())*i(this).pageSize(),i(this).fetch({start:this._currentStart,pageSize:this._currentPageSize,force:!0})},r.getItemsToRemoveOnUpdate=function(e,n,r){this._currentStart=this._currentStart||0,this._currentPageSize=this._currentPageSize||i(this).pageSize();var s=Math.min(r-n,this._currentPageSize-i(this).pageSize()),o=-Infinity,u=+Infinity;return r<this._currentStart||this._currentStart+this._currentPageSize<n?(this._currentStart=n,this._currentPageSize=r-n,e):(this._currentStart+this._currentPageSize>=n&&this._currentStart<n?(s&&(o=n-s,u=n),this._currentStart+=s,this._currentPageSize=r-this._currentStart):r>=this._currentStart&&r<this._currentStart+this._currentPageSize&&(this._currentStart=n,this._currentPageSize=this._currentPageSize-s+r-n,s&&(o=n,u=this._currentStart+this._currentPageSize)),e.filter(function(e,r){var i=t.isWidget(e)?e._repeaterIndex:r+n;return i<o||i>=u}))},r._destroyBehavior=function(){$(this.getScrollerNode()).off("scroll",s)},n});

/** minified js  - from ../walib/WAF/waf-behavior/layout/composed.js */

WAF.define("waf-behavior/layout/composed",function(){"use strict";var e=WAF.require("waf-core/behavior"),t=WAF.require("waf-core/error"),n=WAF.require("waf-core/widget");WAF.require("waf-behavior/style");var r=e.create(),i=r.prototype;return i.setPart=function(e,t){var n;e in this._parts||(this._parts[e]={});var r=this._parts[e];r.widget!==t&&(r.widget&&r.widget._detach(),t&&t._detach()),r.widget=t;for(n in r.aliasedProperties)delete this[n];if(t){var i="waf-"+this.kind.toLowerCase()+"-part-"+e;t.addClass(i),this._composedInsertDomNode(t),t._attach(this,function(){t.removeClass(i),this._composedRemoveDomNode(t),r.events&&r.events.forEach(function(e){e.subscriber&&e.subscriber.unsubscribe(),delete e.subscriber}),r.widget=undefined}.bind(this)),r.events&&t.subscribe&&r.events.forEach(function(e){e.subscriber&&e.subscriber.unsubscribe(),e.subscriber=t.subscribe(e.event,function(n){this.fire(e.newEvent||e.event,{parentEvent:n,part:r,widget:t})}.bind(this),this)}.bind(this));for(n in r.aliasedProperties)this[n]=t[r.aliasedProperties[n].foreignName]}},i._composedInsertDomNode=function(e){this.getNode().appendChild(e.getNode())},i._composedRemoveDomNode=function(e){e.getNode().parentNode&&e.getNode().parentNode.removeChild(e.getNode())},i.getPart=function(e){if(e in this._parts)return this._parts[e].widget;throw new t.LayoutComposed("Unknown part")},i.removePart=function(e){if(!(e in this._parts))throw new t.LayoutComposed("Unknown part");this.setPart(e),delete this._parts[e]},i.getParts=function(){return Object.keys(this._parts)},i._createChildren=function(e){for(var t in this._parts){var n=this._parts[t];if(!e&&n.widgetClass&&!n.widget){var r=n.options||{};typeof r=="function"&&(r=r.call(this,t,n.widgetClass)),this.setPart(t,new n.widgetClass(r))}}},i._cloneBehavior=function(e){for(var t in this._parts){var n=e.getPart(t);n&&this.setPart(t,n.clone())}},i._initChildrenFromDom=function(){var e=this,r="waf-"+this.kind.toLowerCase()+"-part-";$(this.node).children("[class*="+r+"]").each(function(i){var s=(new RegExp(r+"([^ ]*)")).exec(this.className)[1],o;try{o=n.instanceFromDom(this)}catch(u){if(!(u instanceof t.Exists))throw u;o=n.get(this)}o&&e.setPart(s,o)}),this._createChildren()},i._initProperties=function(){this._parts=WAF.extend(!0,{},this.constructor._parts)},i.children=function(){var e=[];for(var t in this._parts)this._parts[t].widget&&e.push(this._parts[t].widget);return e},r._parts={},r.setPart=function(e,t,n){this._parts[e]={aliasedProperties:{}},t?this._parts[e].widgetClass=t:delete this._parts[e].widgetClass,n?this._parts[e].options=n:delete this._parts[e].options},r.removePart=function(e){if(!(e in this._parts))throw new t.LayoutComposed("Unknown part");delete this._parts[e]},r.getParts=function(){return Object.keys(this._parts)},r.addProxiedMethods=function(e,n,r,i){r=r||"";var s=[];Array.isArray(e)&&(s=e),e.getMethods&&(s=e.getMethods()),s.forEach(function(e){var s=r?r+e.capitalize():e;s+=i||"";if(s in this.prototype)return;this.prototype[s]=function(){var r=this.getPart(n);if(!r)throw new t.LayoutComposed("Part is undefined");if(typeof r[e]!="function")throw new t.LayoutComposed("Behavior is unsupported");return r[e].apply(r,arguments)}}.bind(this))},r.addProxiedEvent=function(e,n,r){if(!(n in this._parts))throw new t.LayoutComposed("Unknown part");var i=this._parts[n];i.events=i.events||[],i.events.push({event:e,newEvent:r})},r.addAliasProperty=function(e,t,n){n=n||e;var r="Can't alias property \""+n+'" from part "'+t+'" to "'+e+'": ';if(!(t in this._parts))throw r+"Unknown part";var i=this._parts[t].widgetClass;if(!i)throw r+"Unknown widget class";if(!(n in i._properties))throw r+"Unknown property";var s=WAF.extend({},i._properties[n]);s.functionName=String.toCamelCase(e),s.foreignName=n;if(this.getProperties().indexOf(e)>=0||Object.keys(this._parts).some(function(t){return e in this._parts[t].aliasedProperties}.bind(this)))throw r+"Property alredy exists";this._parts[t].aliasedProperties[e]=s},i._initBehavior=function(e,t){if(!t){var n=this,r=WAF.require("waf-behavior/properties");Object.keys(n.constructor._parts).forEach(function(t){Object.keys(n.constructor._parts[t].aliasedProperties).forEach(function(i){var s=r._propertiesCustomHelper,o=n.constructor._parts[t].aliasedProperties[i];s(o,"initValue").call(n,i,o,e||{})})})}},t.create("LayoutComposed"),r});

/** minified js  - from ../walib/WAF/waf-behavior/layout/container.js */

WAF.define("waf-behavior/layout/container",function(){"use strict";var e=WAF.require("waf-core/class"),t=WAF.require("waf-core/behavior"),n=WAF.require("waf-core/error"),r=WAF.require("waf-core/widget"),i=t.create(),s=i.prototype;return i.inherit(WAF.require("waf-behavior/observable")),s.detachWidget=function(e){typeof e!="number"&&(e=this.indexOfWidget(e));if(e<0||e>=this._children.length)return;var t=this._children[e];return t._detach(),t},s.indexOfWidget=function(e){return this._children.indexOf(e)},s.insertWidget=function(t,r){if(this._restrict&&!e.instanceOf(r,this._restrict))throw new n.Container("Wrong widget type: "+this._restrict.kind);return r._detach(),t=Math.min(t,this.countWidgets()),this._children.splice(t,0,r),this._containerInsertDomNode(t,r),r._attach(this,function(){var e=this.indexOfWidget(r);this._containerRemoveDomNode(r),this._children.splice(e,1),r._detachCallback=undefined,r._detach(),this.constructor._indexedEvents.forEach(function(e){r.unsubscribe({event:e.event,observer:this})}.bind(this)),this._lastWidgetIndex===e?this._lastWidgetIndex=undefined:this._lastWidgetIndex>e&&this._lastWidgetIndex--,this.fire("detachWidget",{widget:r,index:e})}.bind(this)),this.constructor._indexedEvents.forEach(function(e){r.subscribe&&r.subscribe(e.event,function(t){var n=this.indexOfWidget(r);this.fire(e.newEvent||e.event,t.target,{parentEvent:t,index:n,widget:r})},this)}.bind(this)),this.fire("insertWidget",{widget:r,index:t}),this._lastWidgetIndex=t,t},s.moveWidget=function(e,t){var n=this._children[e];if(n===undefined)return;var r=this._children[this._lastWidgetIndex];this._children.splice(e,1),this._children.splice(t,0,n),this._containerRemoveDomNode(n),this._containerInsertDomNode(t,n),this._lastWidgetIndex=this._children.indexOf(r),this.fire("moveWidget",{widget:n,from:e,to:t})},s.countWidgets=function(){return this._children.length},s.widgets=function(){return this._children.slice(0)},s.attachWidget=function(e){var t=this.countWidgets();return this.insertWidget(t,e),t},s.widget=function(e,t){return t&&(this.detachWidget(e),this.insertWidget(e,t)),this._children[e]},s.detachAllWidgets=function(){while(this._children.length)this.detachWidget(0)},s.detachAndDestroyAllWidgets=function(){while(this._children.length)this.detachWidget(0).destroy()},s.lastWidget=function(){if(typeof this._lastWidgetIndex=="undefined")throw new n.Container("Widget not found");return this.widget(this._lastWidgetIndex)},s.children=s.widgets,s.invoke=function(e){var t=[];for(var n=0,r=this.countWidgets();n<r;n++){var i=this.widget(n);i[e]&&t.push(i[e].apply(i,[].slice.call(arguments,1)))}return t},s._cloneBehavior=function(e){e.invoke("clone").forEach(this.attachWidget.bind(this))},s._initChildrenFromDom=function(t){var n=this;$(this._getContainerNode()).children().each(function(t){if(!(this.id in r._instances)){var i=n._instanceFromDom(this);i&&(!n._restrict||e.instanceOf(i,n._restrict))&&n.attachWidget(i)}})},s._instanceFromDom=function(e){return r.instanceFromDom(e)},s._getContainerNode=function(){return this.node},s._initProperties=function(){this._children=[],this._restrict=this.constructor._restrict||r.BaseWidget},s.restrictWidget=function(e){return arguments.length&&(this._restrict=e),this._restrict},s._containerInsertDomNode=function(e,t){var n=t.getNode();if(this._isReady||n.parentNode!==this._getContainerNode())e>=this._children.length-1?this._getContainerNode().appendChild(n):this._getContainerNode().insertBefore(n,this._children[e+1].getNode())},s._containerRemoveDomNode=function(e){e.getNode().parentNode&&e.getNode().parentNode.removeChild(e.getNode())},i.restrictWidget=function(e){return arguments.length&&(this._restrict=e),this._restrict},i.addIndexedMethods=function(e,t,r,i){typeof t!="string"&&typeof i=="undefined"&&(i=t,t=undefined),typeof r!="string"&&typeof i=="undefined"&&(i=r,r=undefined),typeof t=="undefined"&&(t="indexed"),r=r||"";var s=[];Array.isArray(e)&&(s=e),e.getMethods&&(s=e.getMethods()),s.forEach(function(e){var s=e+r;t&&(s=t+s[0].toUpperCase()+s.substr(1)),this.prototype[s]=function(){var t=arguments[0];typeof i!="undefined"&&(t=typeof i=="function"?i.apply(this,arguments):i);var r=this.widget(t);if(!r)throw new n.Container("Widget is undefined");if(typeof r[e]!="function")throw new n.Container("Behavior is unsupported");return typeof i!="undefined"?r[e].apply(r,arguments):r[e].apply(r,[].slice.call(arguments,1))}}.bind(this))},i._indexedEvents=[],i.addIndexedEvent=function(e,t){this._indexedEvents.push({event:e,newEvent:t})},n.create("Container"),i});

/** minified js  - from ../walib/WAF/waf-behavior/layout/container-customnode.js */

WAF.define("waf-bahavior/layout/container-customnode",["waf-behavior/layout/container"],function(e){"use strict";return e.wrap("_instanceFromDom",function(e,t){var n=e(t);return!this.constructor._containerDisableCustomNodes&&!n&&t.id&&(n=new(WAF.require("waf-widget/oldwidget"))(t)),n?n.id==="waf_selection"?undefined:/-waf-status-deleted/.test(n.id)?undefined:n:n}),e.containerDisableCustomNodes=function(){this._containerDisableCustomNodes=!0},e});

/** minified js  - from ../walib/WAF/waf-behavior/layout/multicontainer.js */

WAF.define("waf-behavior/layout/multicontainer",function(){"use strict";var e=WAF.require("waf-core/class"),t=WAF.require("waf-core/behavior"),n=WAF.require("waf-core/error"),r=WAF.require("waf-core/widget"),i=t.create(),s=i.prototype;return i.inherit(WAF.require("waf-behavior/layout/container")),i.restrictWidget(WAF.require("waf-behavior/layout/container")),s.currentContainerIndex=function(e){if(typeof e=="number"){if(e<0||e>=this._children.length)throw new n.Container("Container not found");this.invoke("removeClass","waf-state-active"),this._currentContainer=e,this._children[this._currentContainer].addClass("waf-state-active"),this.fire("select",{index:e,widget:this._children[this._currentContainer]})}return this._currentContainer},s.currentContainer=function(){if(typeof this._currentContainer=="undefined")throw new n.Container("Container not found");return this.container(this._currentContainer)},s.setLastContainerAsCurrent=function(){this.currentContainerIndex(this._lastWidgetIndex)},s.addContainer=function(e){return this.insertContainer(this.countContainers(),e)},s.removeContainer=function(e){this.detachWidget(e),e===this._currentContainer?this.currentContainerIndex(e>=this._children.length?e-1:e):this._currentContainer>e&&this._currentContainer--,this._currentContainer<0&&(this._currentContainer=undefined)},s.insertContainer=function(t,n){var r;n=n||{};if(e.instanceOf(n,this._restrict))r=n;else if(n.container)r=n.container;else{var i=n.containerClass||this._defaultContainerClass;if(typeof i!="function")throw"Container class is not a constructor";r=new i(n)}if(!e.instanceOf(r,"waf-behavior/layout/container"))throw"Widget is not a container";return t=this.insertWidget(t,r),t<=this._currentContainer&&this._currentContainer++,Array.isArray(n.content)&&n.content.forEach(function(e){r.attachWidget(e)}),t},s.moveContainer=function(e,t){var n;try{n=this.currentContainer()}catch(r){}this.moveWidget(e,t),n&&this.currentContainerIndex(this.indexOfWidget(n))},s.container=s.widget,s.containers=s.widgets,s.countContainers=s.countWidgets,s.removeAllContainers=s.detachAllWidgets,s.destroyAllContainers=s.detachAndDestroyAllWidgets,s.lastContainer=s.lastWidget,s._initProperties=function(){this._defaultContainerClass=this.constructor._defaultContainerClass||r.Container},s.defaultContainerClass=function(e){return arguments.length&&(this._defaultContainerClass=e||this.constructor._defaultContainerClass||r.Container),this._defaultContainerClass},i.defaultContainer=function(e){return arguments.length&&(this._defaultContainerClass=e||r.Container),this._defaultContainerClass},i});

/** minified js  - from ../walib/WAF/waf-behavior/layout/repeater.js */

WAF.define("waf-behavior/layout/repeater",function(){"use strict";function i(e){return e[e.constructor._repeatedProperty]}function s(e,t){var n=i(e).boundDatasource();if(!n)return;t||(t=e.repeatedWidget());for(var r in e.constructor._mapAttributesToRepeatedWidgetProperties){var s=e.constructor._mapAttributesToRepeatedWidgetProperties[r];s.getWidget&&(t=s.getWidget(t));if(t&&t[s.property]&&e._repeaterMapAttributes[r]){var o=WAF.extend({},n.attributes[r]);o.formatters=(o.formatters||[]).concat(s.formatters||[]),t[s.property].bindDatasource(o)}}}var e=WAF.require("waf-core/behavior"),t=WAF.require("waf-core/widget"),n=e.create(),r=n.prototype;return n.inherit("waf-behavior/layout/container"),n.linkDatasourcePropertyToRepeater=function(e){this._repeatedProperty=e},n.repeatedWidget=function(e){return arguments.length&&(this._repeatedWidget=e),this._repeatedWidget},n.mapAttributesToRepeatedWidgetProperties=function(e){this._mapAttributesToRepeatedWidgetProperties={};for(var t in e)this._mapAttributesToRepeatedWidgetProperties[t]=e[t],typeof e[t]=="string"&&(this._mapAttributesToRepeatedWidgetProperties[t]={property:e[t]})},n.repeaterReuseClonedWidgets=function(){this._repeaterReuseClonedWidgets=!0},r._initBehavior=function(){this._repeaterWidgetPool=[]},r.widgetsToRemoveOnUpdate=function(e,t){return this.widgets()},r.repeaterAttachWidget=function(e,t){this.attachWidget(e)},r.getPosition=function(e){typeof e=="number"&&(e=this.widget(e)),e instanceof HTMLElement&&(e=t.get(e));if(!e||e.parentWidget!==this)throw"Widget is not part of the repeater";return e.boundDatasourceElement(i(this)())},r.widgetByPosition=function(e,n){var r=this,i=this.widgets().filter(function(t){return r.getPosition(t)===e})[0]||null;if(!i)return null;if(!n)return i;var s=$(".waf-clone-"+n,i.node)[0];return s?t.get(s)||null:null},r._init=function(){function r(e,t,r){var i=Date.now(),s=!1,o=e.bind(r),u=30;(function a(e){var f=Date.now();s&&(i=f,s=!1),e||n.shift();switch(o()){default:n.push(setTimeout(a,0));break;case!1:t&&t.call(r);break;case!0:f-i>u?(s=!0,n.push(setTimeout(a,0))):a(!0)}})(!0)}if(!i(this))return;var e=[],t={},n=[],o=function(n,s){var o,a,f,l,c;o=i(this)(),n=n!==undefined?n:i(this).start();if(!this.repeatedWidget()||!o||n!==i(this).start())return;c=n+(s||i(this).pageSize()),c>o.length&&(o.length&&(n=Math.max(0,n-c+o.length)),c=o.length),f=this._currentStart!==0&&n<=this._currentStart;if(n>=c)return;this.constructor._repeaterReuseClonedWidgets?this.widgetsToRemoveOnUpdate(n,c).forEach(function(e){this._repeaterWidgetPool.indexOf(e)<0&&this._repeaterWidgetPool.push(e),e._detach()}.bind(this)):this.widgetsToRemoveOnUpdate(n,c).forEach(function(e){e._detach(),e.destroy()}),l=this.invoke("boundDatasourceElement",o),a=u(n,c,f,l),t[n]=!0,r(a,function(){delete t[n]},this)},u=function(n,r,i,s){var o=n;return function(){if(n===r)return!1;var u,a=i?--r:n++;return s.indexOf(a)!==-1?!0:(this.constructor._repeaterReuseClonedWidgets&&(u=this._repeaterWidgetPool.shift()),u||(u=this.getNewItem(a)),this.repeaterAttachWidget(u,a),e.push({position:a,widget:u,index:a-o}),this.fire("rowLoad",{widget:u,position:a}),n!==r)}},a=function(t,n,s){var o,u;o=i(this)();if(!this.repeatedWidget()||!o||n!==i(this).start())return;u=f(t,n,o),r(u,function(){this.fire("pageRendered",{start:n,pageSize:s})},this)},f=function(r,i,s){return function(){var o,u,a;return o=e.length,a=i in t?undefined:!1,o?(u=e.shift(),u.widget.propagate("bindDatasourceElement",s,u.position),o--,this.fire("rowDraw",{widget:u.widget,position:u.position,element:r[u.index]}),o||a):a}},l=function(r){this._currentStart=0,this._currentPageSize=0,n.forEach(clearTimeout),n.length=0,e.length=0,this.constructor._repeaterReuseClonedWidgets?this.widgets().forEach(function(e){this._repeaterWidgetPool.indexOf(e)<0&&this._repeaterWidgetPool.push(e),e._detach()}.bind(this)):this.widgets().forEach(function(e){e._detach(),e.destroy()})};i(this).onRequestPageChange(o),i(this).onPageChange(a),i(this).subscribe("collectionChange",l,this),this._repeaterDatasourceBindingChangeSubscriber=this.subscribe("datasourceBindingChange",this.constructor._repeatedProperty,function(e){l.call(this,e),s(this),this.children().forEach(s.bind(undefined,this))},this);var c=this.constructor.repeatedWidget();this.countWidgets()?this.repeatedWidget(this.widget(0)):c&&this.repeatedWidget(new c)},r.repeatedWidget=function(e){if(arguments.length){this._repeatedWidget=e,e.parentWidget===this&&this.detachWidget(e),this._repeaterMapAttributes={};for(var t in this.constructor._mapAttributesToRepeatedWidgetProperties){var n=this.constructor._mapAttributesToRepeatedWidgetProperties[t];n.getWidget&&(e=n.getWidget(e)),this._repeaterMapAttributes[t]=e&&e[n.property]&&!e[n.property].boundDatasource()}s(this),this._repeaterWidgetPool.forEach(function(e){e.destroy()}),this._repeaterWidgetPool.length=0,this.detachAndDestroyAllWidgets(),i(this).fetch({force:!0})}return this._repeatedWidget},r.getNewItem=function(e){return this.repeatedWidget().clone()},n});

/** minified js  - from ../walib/WAF/waf-behavior/layout/repeater-livescroll.js */

WAF.define("waf-behavior/layout/repeater-livescroll",function(){"use strict";function r(e){return e[e.constructor._liveScrollProperty]}var e=WAF.require("waf-core/behavior"),t=e.create(),n=t.prototype;return t.inherit("waf-behavior/livescroll"),t.inherit("waf-behavior/layout/repeater"),t.doAfterClassMethod("linkDatasourcePropertyToRepeater",function(e){this.linkDatasourcePropertyToLiveScroll(e)}),t.repeaterReuseClonedWidgets(),n.getScrolledNode=function(){throw"Repeater-LiveScroll need a #getScrolledNode() method"},n.repeaterGetCoordinates=function(e){return this.isHorizontalScroll()?{left:e*this.getRowSize()}:{top:e*this.getRowSize()}},n.repeaterAttachWidget=function(e,t){var n,i,s,o,u;n=this.repeaterGetCoordinates(t),i=r(this)()&&t===r(this)().getPosition();for(s in n)e.node.style[s]=n[s]+"px";e.node.classList.toggle("waf-state-selected",i),e._repeaterIndex=t,u=this._children.length;for(o=0;o<u&&this._children[o]._repeaterIndex<t;++o);this.insertWidget(o,e)},n.widgetsToRemoveOnUpdate=function(e,t){var n=this.getItemsToRemoveOnUpdate(this.widgets(),e,t);return n},n._getContainerNode=function(){return this.getScrolledNode()},t});

/** minified js  - from ../walib/WAF/waf-behavior/layout/template-livescroll.js */

WAF.define("waf-behavior/layout/template-livescroll",function(){"use strict";function r(e){return e[e.constructor._liveScrollProperty]}function i(e){return e[e.constructor._liveScrollTemplateProperty]}var e=WAF.require("waf-core/behavior"),t=e.create(),n=t.prototype;return t.inherit("waf-behavior/livescroll"),t.linkTemplatePropertyToLiveScrollTemplate=function(e){this._liveScrollTemplateProperty=e},n.getScrolledNode=function(){throw"Repeater-LiveScroll need a #getScrolledNode() method"},n.appendHtml=function(e,t){if(!e)return;t==="after"?$(this.getScrolledNode()).append(e):$(this.getScrolledNode()).prepend(e)},n.getItems=function(){return $(this.getScrolledNode()).children()},n.removeItems=function(e,t){var n=this.getItemsToRemoveOnUpdate(this.getItems(),e,t);n.length&&n.remove()},n._getRowStyle=function(e){return(this.isHorizontalScroll()?"left: ":"top: ")+e*this.getRowSize()+"px; "+(this.isHorizontalScroll()?"width: ":"height: ")+this.getRowSize()+"px;"},n.getRowPosition=function(e){return this._currentStart+this.getItems().index(e)},n.getRowItemByPosition=function(e){return this.getItems()[e-this._currentStart]},n._init=function(){function s(e){this._currentStart=0,this._currentPageSize=0;var t=this.getItems();t.length&&t.remove()}if(!r(this))return;var e=this,t=0,n=function(n,s,o){var u=r(this)();if(!u)return;s===undefined&&(s=r(this).start());if(s!==r(this).start())return;var a=s+(o||r(this).pageSize());t>s&&t<a&&(a=t),a=Math.min(a,u.length),e.removeItems(s,a);var f="";for(var l=s;l<a;l++){var c=n[l-s];c._style=e._getRowStyle(l);var h=i(e).render(c);f+=h,this.fire("rowDraw",{position:l,element:c})}e.appendHtml(f,t<s?"after":"before"),t=s};r(this).onPageChange(n),r(this).subscribe("collectionChange",s.bind(this)),this.subscribe("datasourceBindingChange",this.constructor._liveScrollProperty,s.bind(this)).options.once=!0},t});

/** minified js  - from ../walib/WAF/waf-behavior/layout/properties-container.js */

WAF.define("waf-behavior/layout/properties-container",["waf-core/behavior","waf-behavior/properties"],function(e,t){"use strict";var n=e.create();return n.inherit("waf-behavior/layout/container"),n.linkListPropertyToContainer=function(e,n){if(!(e in this._properties))throw'Unknown property: "'+e+'"';var r=this._properties[e];if(r.type!=="list")throw'Property "'+e+'" must be of type list.';n=WAF.extend({getNewWidget:function(e,t){var r=n.defaultWidgetClass||this._restrict,i=new r;for(var s in e)s in i&&i[s](e[s]);return i},getValueFromWidget:function(e,t){var n={};return r.attributes.forEach(function(t){n[t.name]=t.name in e&&e[t.name]()}),n},modifyWidget:function(e,t){var n=this.widget(t);for(var r in e)r in n&&n[r](e[r])}},n||{}),this.prototype.detachWidget=function(e){var t=this.$super("detachWidget")(e);return this[r.functionName]&&!this[r.functionName]._blockListUpdate&&(this[r.functionName]._blockContainerUpdate=!0,this[r.functionName].remove(e),this[r.functionName]._blockContainerUpdate=!1),t},this.prototype.insertWidget=function(e,t){var i=this.$super("insertWidget")(e,t);return this[r.functionName]&&!this[r.functionName]._blockListUpdate&&(this[r.functionName]._blockContainerUpdate=!0,this[r.functionName].insert(e,n.getValueFromWidget.call(this,t,e)),this[r.functionName]._blockContainerUpdate=!1),i},this.prototype.moveWidget=function(e,t){var n=this.$super("moveWidget")(e,t);return this[r.functionName]&&!this[r.functionName]._blockListUpdate&&(this[r.functionName]._blockContainerUpdate=!0,this[r.functionName].move(e,t),this[r.functionName]._blockContainerUpdate=!1),n};var i={};["onInsert","onRemove","onMove","onModify"].forEach(function(e){e in r&&r[e]!==t.types.list.options[e]&&(i[e]=r[e])}.bind(this)),WAF.extend(r,{onInsert:function(e){if(!this[r.functionName]._blockContainerUpdate){this[r.functionName]._blockListUpdate=!0;var t=n.getNewWidget.call(this,e.value,e.index);this.insertWidget(e.index,t),this[r.functionName]._blockListUpdate=!1}i.onInsert&&i.onInsert.call(this,e)},onRemove:function(e){this[r.functionName]._blockContainerUpdate||(this[r.functionName]._blockListUpdate=!0,this.detachWidget(e.index),this[r.functionName]._blockListUpdate=!1),i.onRemove&&i.onRemove.call(this,e)},onMove:function(t){this[r.functionName]._blockContainerUpdate||(this[r.functionName]._blockListUpdate=!0,this.moveWidget(t.from,t.to),this[r.functionName]._blockListUpdate=!1),"onMove"in i?i.onMove&&i.onMove.call(this,t):(this[r.functionName]._blockContainerUpdate=!0,this.fire("remove",e,{value:t.value,index:t.from}),this.fire("insert",e,{value:t.value,index:t.to}),this[r.functionName]._blockContainerUpdate=!1)},onModify:function(t){this[r.functionName]._blockContainerUpdate||(this[r.functionName]._blockListUpdate=!0,n.modifyWidget.call(this,t.value,t.index),this[r.functionName]._blockListUpdate=!1),"onModify"in i?i.onModify&&i.onModify.call(this,t):(this[r.functionName]._blockContainerUpdate=!0,this.fire("remove",e,{value:t.oldValue,index:t.index}),this.fire("insert",e,{value:t.value,index:t.index}),this[r.functionName]._blockContainerUpdate=!1)},defaultValueCallback:function(){return this[r.functionName]._blockListUpdate=!1,this[r.functionName]._blockContainerUpdate=!1,this.widgets().map(n.getValueFromWidget.bind(this))}})},n});

/** minified js  - from ../walib/WAF/waf-behavior/source-navigation.js */

WAF.define("waf-behavior/source-navigation",["waf-core/behavior","waf-behavior/observable"],function(e){"use strict";var t=e.create();return t.addProperty("start",{defaultValue:0,type:"integer"}),t.addProperty("currentPage",{defaultValue:1,type:"integer"}),t.addProperty("pageSize",{defaultValue:20,type:"integer"}),t.addProperty("totalPages",{type:"integer"}),t.addProperty("navigationMode",{defaultValue:"pagination","enum":["loadmore","pagination"]}),WAF.extend(t.prototype,{_initBehavior:function(){this._defaultStep=this.pageSize()},_initPropertyEvent:function(){var e=this.getNavigationSource();e.onChange(function(){this._dsCollChgSubscriber&&this._dsCollChgSubscriber.unsubscribe&&this._dsCollChgSubscriber.unsubscribe(),this._dsCurrEltSubscriber&&this._dsCurrEltSubscriber.unsubscribe&&this._dsCurrEltSubscriber.unsubscribe(),this.renderElements(),this._initDsEvent()}),this._startSubscriber=this.start.onChange(function(e){var t,n,r,i;n=this.pageSize(),i=this.navigationMode(),i==="pagination"&&(t=e%n,r=Math.ceil(e/n),t!==0?(this._startSubscriber.pause(),this.start((r-1)*n),this._startSubscriber.resume()):++r,this._currentPageSubscriber.pause(),this.currentPage(r),this._currentPageSubscriber.resume()),this.generateElements(this.start(),this.pageSize(),function(e){var t=this.getNavigationContainer();t.innerHTML="",t.insertAdjacentHTML("beforeend",e)}.bind(this))}),this._currentPageSubscriber=this.currentPage.onChange(function(e){var t=(e-1)*this.pageSize();this._startSubscriber.pause(),this.start(t),this._startSubscriber.resume(),this.generateElements(this.start(),this.pageSize(),function(e){var t=this.getNavigationContainer();t.innerHTML="",t.insertAdjacentHTML("beforeend",e)}.bind(this))}),this._pageSizeSubscriber=this.pageSize.onChange(function(e,t){var n,r,i,s;t=t||0,i=this.getNavigationSource(),s=i();if(!s)return!1;e<t?(n=e,r=this.start()):(n=e-t,r=this.start()+t),this.totalPages(Math.ceil(s.length/e));var o=function(n){var r=this.getNavigationContainer();e<t&&(r.innerHTML=""),r.insertAdjacentHTML("beforeend",n)}.bind(this);this.generateElements(r,n,o)})},linkDatasourcePropertyToNavigation:function(e){var t=this.constructor.getProperties();if(t.indexOf(e)<0)throw'Unknown property: "'+e+'"';var n=this[e];this._datasourcePropertyToNavigation=n,this._initDsEvent(),this._initPropertyEvent(),this[e]()&&(this.totalPages(Math.ceil(this[e]().length/this.pageSize())),this.renderElements())},linkParentElementToNavigation:function(e){if(e instanceof jQuery)this._parentElementToNavigation=e.get(0);else{if(!e.nodeType)throw"You have to return an html or jquery element";this._parentElementToNavigation=e}},_initDsEvent:function(){var e=this.getNavigationSource(),t=e();t&&(this._dsCurrEltSubscriber=t.subscribe("currentElementChange",function(e){var t,n,r,i,s,o,u;if(!e||!e.data||!e.data.dataSource)return!1;n=this.navigationMode(),r=e.data.dataSource.getPosition();if(r===-1)return!1;i=this.start(),s=this.pageSize();if(n==="loadmore"){if(r<i||r>i+s-1)i>r&&r>=0&&(t=i-r,this._pageSizeSubscriber.pause(),this.pageSize(s+t),this._pageSizeSubscriber.resume(),this.start(r)),r>i+s-1&&(t=r-(i+s),this.pageSize(s+t+1))}else n==="pagination"&&(u=r%s,o=Math.ceil(r/s),u!==0&&o>0&&--o,this.start(o*s))}.bind(this)),this._dsCollChgSubscriber=t.subscribe("collectionChange",function(){this.totalPages(Math.ceil(t.length/this.pageSize())),this.renderElements()}.bind(this)),this.totalPages(Math.ceil(t.length/this.pageSize())))},renderElements:function(){this.generateElements(this.start(),this.pageSize(),function(e){this.getNavigationContainer().innerHTML="",this.getNavigationContainer().insertAdjacentHTML("beforeend",e)}.bind(this))},generateElements:function(e,t,n){var r,i,s,o;r=this.getNavigationSource(),o=r();if(!o||o.length===0)return!1;s=this,i="",this._rowsCount||(this._rowsCount=0),this.fire("beforeFetch",{from:e,limit:t}),o.getElements(e,t,{onSuccess:function(e){var t,u,a,f;f=e.position,u=e.elements;for(a=0;a<u.length;a++)u[a]&&(t=s.renderElement(r.mapElement(u[a]),f+a),i+=t);s.navigationMode()==="loadmore"?s._rowsCount+=u.length:s._rowsCount=u.length,s.fire("afterFetch",{numRowsAdded:u.length,totalRows:s._rowsCount,dataSource:o}),n&&n(i)},onError:function(){s.fire("fetchFailed")}})},getNavigationSource:function(){if(!this._datasourcePropertyToNavigation)throw"You have to call the linkDatasourcePropertyToNavigation method";return this._datasourcePropertyToNavigation},renderElement:function(){throw"You have to implement the renderElement method in your widget"},getNavigationContainer:function(){if(!this._parentElementToNavigation)throw"You have to call the linkParentElementToNavigation method";return this._parentElementToNavigation},nextPage:function(){this.currentPage()<this.totalPages()&&this.currentPage(this.currentPage()+1)},prevPage:function(){this.currentPage()>1&&this.currentPage(this.currentPage()-1)},loadMore:function(){this.pageSize(this.pageSize()+this._defaultStep)}}),t});

/** minified js  - from ../walib/WAF/waf-widget/body.js */

WAF.define("waf-widget/body",function(){"use strict";var e=WAF.require("waf-core/widget"),t=e.create("Body"),n=t.prototype;return t.inherit(WAF.require("waf-behavior/layout/container")),t.removeClass("waf-widget"),t.removeClass("waf-body"),n._initWidget=function(e,t){return e||(e=document.body),this.$super("_initWidget")(e,t)},n.position=function(){return{0:0,1:0,x:0,y:0,left:0,top:0,length:2}},n.absolutePosition=n.position,t});

/** minified js  - from ../walib/WAF/waf-widget/oldwidget.js */

WAF.define("waf-widget/oldwidget",function(){"use strict";var e=WAF.require("waf-core/widget"),t=e.create("OldWidget");return t.inherit(WAF.require("waf-behavior/layout/container")),t.removeClass("waf-oldwidget"),t.prototype._initBehavior=function(){},t.prototype._init=function(){},t});

/** minified js  - from ../walib/WAF/Component/waf-component.js */

WAF.loadComponent=function(param){function initParam(e){e=e||{},e.id=e.id||"",e.path=e.path||"",e.onSuccess=e.onSuccess||function(){},length=e.path.length,length&&e.path[length-1]==="/"&&(e.path=e.path.substr(0,length-1));if(typeof e.data=="undefined"){e.data={},definition=WAF.config.widget.WAF.component,domObj=document.getElementById(e.id);if(domObj){for(i=0,nbAttributes=definition.attributes.length;i<nbAttributes;i++)attributeName=definition.attributes[i].name,e.data[attributeName]=domObj.getAttribute(attributeName);attributeName="id",e.data[attributeName]=domObj.getAttribute(attributeName),attributeName="data-type",e.data[attributeName]=domObj.getAttribute(attributeName),attributeName="data-lib",e.data[attributeName]=domObj.getAttribute(attributeName)}}typeof e.data["data-path"]=="undefined"||e.data["data-path"]===null||e.data["data-path"]===""?e.data["data-path"]=e.path:(e.data["data-path"]=e.path,domObj=document.getElementById(e.id),domObj&&domObj.setAttribute&&domObj.setAttribute("data-path",e.path));if(typeof e.data.id=="undefined"||e.data.id===null||e.data.id==="")e.data.id=e.id;return name=e.data["data-path"],tabName=name.split("/"),name=tabName[tabName.length-1].replace(".waComponent",""),e.name=name,typeof e.userData!="undefined"&&(e.data.userData=e.userData),e}function isCached(e){var t=!1;return typeof WAF.webcomponents!="undefined"&&WAF.webcomponents[e.path]&&(t=!0),t}function getComponentFromCache(){widgetComponent=$$(param.id),icomponent=WAF.webcomponents[param.path],WAF.widgets[param.id]={},WAF.widgets[param.id].data=param.data,$("#"+param.id).css("visibility","hidden")}function emptyPlaceholder(){for(widgetId in WAF.events){eventDef=WAF.events[widgetId];if(widgetId.indexOf(param.id+"_")===0){widget=$$(widgetId),length=eventDef.length;for(i=0;i<length;i++)eventName=eventDef[i].name,widget&&widget.removeListener&&widget.removeListener(eventName);delete WAF.events[widgetId]}}if(widgetComponent&&widgetComponent.widgets)for(wigdetName in widgetComponent.widgets)$$(param.id+"_"+wigdetName)&&$$(param.id+"_"+wigdetName).destroy();if(widgetComponent&&widgetComponent.sources)for(localSourceName in widgetComponent.sources)localSource=widgetComponent.sources[localSourceName],localSource&&WAF.dataSource.destroy(localSource),delete localSource;widgetComponent&&widgetComponent.unload&&widgetComponent.unload(),$("#"+param.id).children().not(".ui-resizable-handle").remove()}function setCatalogFromCache(){icomponent.html&&(regex=/[^\"]"WAF.catalog"[^>]+/,match=regex.exec(icomponent.html),match&&match.length>0&&(catalog=match[0],catalog=catalog.split("content"),catalog&&catalog.length>1&&(catalog=catalog[1],catalog=catalog.replace('="',""),catalog=catalog.replace('"',""),catalog=catalog.replace("/",""))),icomponent.catalog=catalog)}function setHtmlFromCache(){icomponent.html&&(htmlUpdate=icomponent.html.replace(/{id}/g,param.id+"_"),htmlUpdate=htmlUpdate.replace("<!DOCTYPE html >",""),htmlUpdate=htmlUpdate.replace('<meta name="generator" content="Wakanda GUIDesigner"/>',""),$("#"+param.id).append(htmlUpdate))}function setCssFromCache(){icomponent.css&&(document.getElementById("waf-component-"+param.id)&&$("#waf-component-"+param.id).remove(),tagStyle=document.createElement("style"),tagStyle.setAttribute("id","waf-component-"+param.id),styleUpdate=icomponent.css.replace(/{id}/g,param.id+"_"),styleUpdate=styleUpdate.replace("#"+param.id+"_ ","#"+param.id),tagStyle.innerHTML=styleUpdate,tagWafCss=document.getElementById("waf-interface-css"),tagWafCss.parentNode.appendChild(tagStyle))}function setJsFromCache(){icomponent.js&&(tagScript=document.createElement("script"),tagScript.setAttribute("type","text/javascript"),tagScript.setAttribute("data-component-script-id","waf-component-"+param.id),tagScript.text=icomponent.js,document.getElementsByTagName("head")[0].appendChild(tagScript))}function setClassFromCache(){typeof WAF.widget[param.name]=="undefined"&&eval(icomponent.wcMainJs)}function createWidgets(){ds.addToCatalog(icomponent.catalog,{onSuccess:function(){setHtmlFromCache(),WAF.tags.generate(param.id,!1),$("#"+param.id).css("visibility",""),myComp=new WAF.widget[param.name](param.data),WAF.widgets[param.id]=myComp;if(typeof myComp.widgets=="undefined")throw new Error("WAF> "+param.name+" Widget class was overridden by the "+param.id+" Web Component.");for(wigdetName in WAF.widgets)wigdetName.indexOf(param.id+"_")===0&&(myComp.widgets[wigdetName.replace(param.id+"_","")]=WAF.widgets[wigdetName]);if(sources)for(sourceName in sources)sourceName.indexOf(param.id+"_")===0&&(myComp.sources[sourceName.replace(param.id+"_","")]=sources[sourceName],typeof window[sourceName]!="undefined"&&(sourcesVarName=sourceName.replace(param.id+"_",""),function(e,t,n){Object.defineProperty(e.sourcesVar,t,{configurable:!0,get:function(){return window[n]},set:function(e){window[n]=e}})}(myComp,sourcesVarName,sourceName)));if(myComp.load){myComp.load(param.data),myComp.onResize=function(){var e=0,t=null,n=null,r=0;n=this.getChildren(),r=n.length;for(e=0;e<r;e+=1)t=n[e],t.onResize&&t.onResize()},myComp.onResize();for(i in myComp.widgets)myComp.widgets[i]&&myComp.widgets[i].ready&&myComp.widgets[i].ready()}for(wigdetName in WAF.widgets)wigdetName.indexOf(param.id+"_")===0&&WAF.widgets[wigdetName].onComponentLoad&&WAF.widgets[wigdetName].onComponentLoad();myComp&&myComp.$domNode&&(attr=myComp.$domNode.attr("data-start-load"),(attr===undefined||attr===null||attr==="true")&&compManager.remove(function(){!compManager.hasComponent()&&!rpcFileManager.hasRpcFile()&&WAF._private.catalogLoaded&&WAF.onReady()})),param.onSuccess()}})}function initLoad(){packageCssPath=param.path+"/"+param.name+".package.json~waf-build.css",packageJsPath=param.path+"/"+param.name+".package.json~waf-build.js",WAF.statuswebcomponents[param.path]={},WAF.statuswebcomponents[param.path].styleLoaded=!1,WAF.statuswebcomponents[param.path].scriptLoaded=!1}function loadCss(){reqCss=new XMLHttpRequest,reqCss.open("POST",packageCssPath,!0),reqCss.onreadystatechange=function(){if(reqCss.readyState===4&&reqCss.status===200){var e=null,t="",n=null;t=reqCss.responseText.replace(/{id}/g,param.id+"_"),t=t.replace("#"+param.id+"_ ","#"+param.id),e=document.createElement("style"),e.setAttribute("id","waf-component-widget-"+param.id),e.innerHTML=t,n=document.getElementById("waf-interface-css"),n.parentNode.insertBefore(e,n),WAF.statuswebcomponents[param.path].styleLoaded=!0}},reqCss.send(null)}function loadJs(){reqJs=new XMLHttpRequest,reqJs.open("POST",packageJsPath,!0),callBackComponentJS=function(){if(reqJs.readyState===4&&reqJs.status===200){var tagScript=null;tagScript=document.createElement("script"),tagScript.setAttribute("type","text/javascript"),tagScript.setAttribute("data-component-script-id","waf-component-widget-"+param.id),tagScript.text=reqJs.responseText,document.getElementsByTagName("head")[0].appendChild(tagScript),WAF.statuswebcomponents[param.path].scriptLoaded=!0;function waitForLoad(param){icomponent=WAF.statuswebcomponents[param.path],!icomponent.styleLoaded||WAF.loader.scriptToLoad.length!==0?window.setTimeout(waitForLoad,100,param):(typeof WAF.webcomponents!="undefined"&&(icomponent=WAF.webcomponents[param.path]),icomponent&&typeof WAF.webcomponents!="undefined"&&(icomponent.html&&(htmlUpdate=icomponent.html.replace(/{id}/g,param.id+"_"),htmlUpdate=htmlUpdate.replace("<!DOCTYPE html >",""),htmlUpdate=htmlUpdate.replace('<meta name="generator" content="Wakanda GUIDesigner"/>',""),$("#"+param.id).append(htmlUpdate),regex=/[^\"]"WAF.catalog"[^>]+/,match=regex.exec(icomponent.html),match&&match.length>0&&(catalog=match[0],catalog=catalog.split("content"),catalog&&catalog.length>1&&(catalog=catalog[1],catalog=catalog.replace('="',""),catalog=catalog.replace('"',""),catalog=catalog.replace("/",""))),icomponent.catalog=catalog),icomponent.css&&(document.getElementById("waf-component-"+param.id)&&$("#waf-component-"+param.id).remove(),tagStyle=document.createElement("style"),tagStyle.setAttribute("id","waf-component-"+param.id),styleUpdate=icomponent.css.replace(/{id}/g,param.id+"_"),styleUpdate=styleUpdate.replace("#"+param.id+"_ ","#"+param.id),tagStyle.innerHTML=styleUpdate,tagWafCss=document.getElementById("waf-interface-css"),tagWafCss.parentNode.insertBefore(tagStyle,tagWafCss)),icomponent.js&&(tagScript=document.createElement("script"),tagScript.setAttribute("type","text/javascript"),tagScript.setAttribute("data-component-script-id","waf-component-"+param.id),tagScript.text=icomponent.js,document.getElementsByTagName("head")[0].appendChild(tagScript)),typeof WAF.widget[param.name]=="undefined"&&eval(icomponent.wcMainJs),ds.addToCatalog(icomponent.catalog,{onSuccess:function(){var e=!1;WAF.tags.generate(param.id,!1),$("#"+param.id).css("visibility",""),myComp=new WAF.widget[param.name](param.data);if(typeof myComp.widgets=="undefined")throw new Error("WAF> "+param.name+" Widget class was overridden by the "+param.id+" Web Component.");for(wigdetName in WAF.widgets)wigdetName.indexOf(param.id+"_")===0&&(myComp.widgets[wigdetName.replace(param.id+"_","")]=WAF.widgets[wigdetName]);if(sources)for(sourceName in sources)sourceName.indexOf(param.id+"_")===0&&(myComp.sources[sourceName.replace(param.id+"_","")]=sources[sourceName],typeof window[sourceName]!="undefined"&&(sourcesVarName=sourceName.replace(param.id+"_",""),function(e,t,n){Object.defineProperty(e.sourcesVar,t,{configurable:!0,get:function(){return window[n]},set:function(e){window[n]=e}})}(myComp,sourcesVarName,sourceName)));for(i in myComp.widgets)e=!0;if(myComp.load&&e){myComp.load(param.data),myComp.$domNode.find("label").bind("click",{},function(){return $("#"+$(this).prop("for")).trigger("click"),$("#"+$(this).prop("for")).select(),!1}),myComp.onResize=function(){var e=0,t=null,n=this.getChildren(),r=n.length;for(e=0;e<r;e+=1)t=n[e],t.onResize&&t.onResize()},myComp.onResize();for(i in myComp.widgets)myComp.widgets[i].ready&&myComp.widgets[i].ready()}for(wigdetName in WAF.widgets)wigdetName.indexOf(param.id+"_")===0&&WAF.widgets[wigdetName].onComponentLoad&&WAF.widgets[wigdetName].onComponentLoad();WAF.widgets[param.id]=myComp,myComp&&myComp.$domNode&&(attr=myComp.$domNode.attr("data-start-load"),(attr===undefined||attr===null||attr==="true")&&compManager.remove(function(){!compManager.hasComponent()&&!rpcFileManager.hasRpcFile()&&WAF._private.catalogLoaded&&WAF.onReady()})),param.onSuccess()}})))}waitForLoad(param)}},reqJs.onreadystatechange=callBackComponentJS,reqJs.send(null)}var icomponent={},tagStyle=null,tagWafCss=null,tagScript=null,name="",definition={},attributeName="",nbAttributes=0,domObj=null,sourceName="",localSourceName="",wigdetName="",styleUpdate="",compManager=WAF.loader.componentsManager,rpcFileManager=WAF.loader.rpcFileManager,tabName=[],htmlUpdate="",sourcesVarName="",localSource=null,myComp=null,widgetComponent=null,i=0,widgetId="",eventDef=null,widget=null,eventName="",length=0,regex=null,match=null,attr=null,catalog="",reqCss="",reqJs="",packageCssPath="",packageJsPath="";$$(param.id).removeComponent(),param=initParam(param),isCached(param)?(getComponentFromCache(),emptyPlaceholder(),setCssFromCache(),setJsFromCache(),setClassFromCache(),setCatalogFromCache(),createWidgets()):(initLoad(),emptyPlaceholder(),loadCss(),loadJs());var node=document.getElementById(param.id);if(node&&node.parentNode&&node.parentNode.parentNode&&node.parentNode.parentNode.id){var tabView=$$(node.parentNode.parentNode.id);tabView&&tabView.kind==="tabView"&&(tabView._componentsLoaded[node.id]=!0)}};;

/** minified js  - from ../walib/WAF/lib/raphael/raphael.js at Thu, 09 Apr 2015 09:51:37 GMT */

(function(){function e(){if(e.is(arguments[0],_)){var t=arguments[0],r=$t[h](e,t.splice(0,3+e.is(t[0],O))),i=r.set();for(var o=0,u=t[S];o<u;o++){var a=t[o]||{};n[s](a.type)&&i[j](r[a.type]().attr(a))}return i}return $t[h](e,arguments)}function ut(){var e=[],t=0;for(;t<32;t++)e[t]=(~~(T.random()*16))[D](16);return e[12]=4,e[16]=(e[16]&3|8)[D](16),"r-"+e[E]("")}function ht(e,t,n){function r(){var o=Array[i].slice.call(arguments,0),u=o[E]("►"),a=r.cache=r.cache||{},f=r.count=r.count||[];return a[s](u)?n?n(a[u]):a[u]:(f[S]>=1e3&&delete a[f.shift()],f[j](u),a[u]=e[h](t,o),n?n(a[u]):a[u])}return r}function mn(){return this.x+m+this.y}function Ln(t){return function(n,r,i,s){var o={back:t};return e.is(i,"function")?s=i:o.rot=i,n&&n.constructor==It&&(n=n.attrs.path),n&&(o.along=n),this.animate(o,r,s)}}function An(e,t,n,r,i,s){function h(e){return((a*e+u)*e+o)*e}function p(e,t){var n=d(e,t);return((c*n+l)*n+f)*n}function d(e,t){var n,r,i,s,f,l;for(i=e,l=0;l<8;l++){s=h(i)-e;if(k(s)<t)return i;f=(3*a*i+2*u)*i+o;if(k(f)<1e-6)break;i-=s/f}n=0,r=1,i=e;if(i<n)return n;if(i>r)return r;while(n<r){s=h(i);if(k(s-e)<t)return i;e>s?n=i:r=i,i=(r-n)/2+n}return i}var o=3*t,u=3*(r-t)-o,a=1-o-u,f=3*n,l=3*(i-n)-f,c=1-f-l;return p(e,1/(200*s))}e.version="1.5.2";var t=/[, ]+/,n={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},r=/\{(\d+)\}/g,i="prototype",s="hasOwnProperty",o=document,u=window,a={was:Object[i][s].call(u,"Raphael"),is:u.Raphael},f=function(){this.customAttributes={}},l,c="appendChild",h="apply",p="concat",d="createTouch"in o,v="",m=" ",g=String,y="split",b="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[y](m),w={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},E="join",S="length",x=g[i].toLowerCase,T=Math,N=T.max,C=T.min,k=T.abs,L=T.pow,A=T.PI,O="number",M="string",_="array",D="toString",P="fill",H=Object[i][D],B={},j="push",F=/^url\(['"]?([^\)]+?)['"]?\)$/i,I=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,q={NaN:1,Infinity:1,"-Infinity":1},R=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,U=T.round,z="setAttribute",W=parseFloat,X=parseInt,V=" progid:DXImageTransform.Microsoft",$=g[i].toUpperCase,J={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},K={along:"along",blur:O,"clip-rect":"csv",cx:O,cy:O,fill:"colour","fill-opacity":O,"font-size":O,height:O,opacity:O,path:"path",r:O,rotation:"csv",rx:O,ry:O,scale:"csv",stroke:"colour","stroke-opacity":O,"stroke-width":O,translation:"csv",width:O,x:O,y:O},Q="replace",G=/^(from|to|\d+%?)$/,Y=/\s*,\s*/,Z={hs:1,rg:1},et=/,?([achlmqrstvxz]),?/gi,tt=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,nt=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,rt=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,it=function(e,t){return e.key-t.key};e.type=u.SVGAngle||o.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(e.type=="VML"){var st=o.createElement("div"),ot;st.innerHTML='<v:shape adj="1"/>',ot=st.firstChild,ot.style.behavior="url(#default#VML)";if(!ot||typeof ot.adj!="object")return e.type=null;st=null}e.svg=!(e.vml=e.type=="VML"),f[i]=e[i],l=f[i],e._id=0,e._oid=0,e.fn={},e.is=function(e,t){return t=x.call(t),t=="finite"?!q[s](+e):t=="null"&&e===null||t==typeof e||t=="object"&&e===Object(e)||t=="array"&&Array.isArray&&Array.isArray(e)||H.call(e).slice(8,-1).toLowerCase()==t},e.angle=function(t,n,r,i,s,o){if(s==null){var u=t-r,a=n-i;return!u&&!a?0:((u<0)*180+T.atan(-a/-u)*180/A+360)%360}return e.angle(t,n,s,o)-e.angle(r,i,s,o)},e.rad=function(e){return e%360*A/180},e.deg=function(e){return e*180/A%360},e.snapTo=function(t,n,r){r=e.is(r,"finite")?r:10;if(e.is(t,_)){var i=t.length;while(i--)if(k(t[i]-n)<=r)return t[i]}else{t=+t;var s=n%t;if(s<r)return n-s;if(s>t-r)return n-s+t}return n},e.setWindow=function(e){u=e,o=u.document};var at=function(t){if(e.vml){var n=/^\s+|\s+$/g,r;try{var i=new ActiveXObject("htmlfile");i.write("<body>"),i.close(),r=i.body}catch(s){r=createPopup().document.body}var u=r.createTextRange();at=ht(function(e){try{r.style.color=g(e)[Q](n,v);var t=u.queryCommandValue("ForeColor");return t=(t&255)<<16|t&65280|(t&16711680)>>>16,"#"+("000000"+t[D](16)).slice(-6)}catch(i){return"none"}})}else{var a=o.createElement("i");a.title="Raphaël Colour Picker",a.style.display="none",o.body[c](a),at=ht(function(e){return a.style.color=e,o.defaultView.getComputedStyle(a,v).getPropertyValue("color")})}return at(t)},ft=function(){return"hsb("+[this.h,this.s,this.b]+")"},lt=function(){return"hsl("+[this.h,this.s,this.l]+")"},ct=function(){return this.hex};e.hsb2rgb=function(t,n,r,i){return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(r=t.b,n=t.s,t=t.h,i=t.o),e.hsl2rgb(t,n,r/2,i)},e.hsl2rgb=function(t,n,r,i){e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(r=t.l,n=t.s,t=t.h);if(t>1||n>1||r>1)t/=360,n/=100,r/=100;var s={},o=["r","g","b"],u,a,f,l,c,h;if(!n)s={r:r,g:r,b:r};else{r<.5?u=r*(1+n):u=r+n-r*n,a=2*r-u;for(var p=0;p<3;p++)f=t+1/3*-(p-1),f<0&&f++,f>1&&f--,f*6<1?s[o[p]]=a+(u-a)*6*f:f*2<1?s[o[p]]=u:f*3<2?s[o[p]]=a+(u-a)*(2/3-f)*6:s[o[p]]=a}return s.r*=255,s.g*=255,s.b*=255,s.hex="#"+(16777216|s.b|s.g<<8|s.r<<16).toString(16).slice(1),e.is(i,"finite")&&(s.opacity=i),s.toString=ct,s},e.rgb2hsb=function(t,n,r){n==null&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,n=t.g,t=t.r);if(n==null&&e.is(t,M)){var i=e.getRGB(t);t=i.r,n=i.g,r=i.b}if(t>1||n>1||r>1)t/=255,n/=255,r/=255;var s=N(t,n,r),o=C(t,n,r),u,a,f=s;if(o==s)return{h:0,s:0,b:s,toString:ft};var l=s-o;return a=l/s,t==s?u=(n-r)/l:n==s?u=2+(r-t)/l:u=4+(t-n)/l,u/=6,u<0&&u++,u>1&&u--,{h:u,s:a,b:f,toString:ft}},e.rgb2hsl=function(t,n,r){n==null&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,n=t.g,t=t.r);if(n==null&&e.is(t,M)){var i=e.getRGB(t);t=i.r,n=i.g,r=i.b}if(t>1||n>1||r>1)t/=255,n/=255,r/=255;var s=N(t,n,r),o=C(t,n,r),u,a,f=(s+o)/2,l;if(o==s)l={h:0,s:0,l:f};else{var c=s-o;a=f<.5?c/(s+o):c/(2-s-o),t==s?u=(n-r)/c:n==s?u=2+(r-t)/c:u=4+(t-n)/c,u/=6,u<0&&u++,u>1&&u--,l={h:u,s:a,l:f}}return l.toString=lt,l},e._path2string=function(){return this.join(",")[Q](et,"$1")},e.getRGB=ht(function(t){if(!t||!!((t=g(t)).indexOf("-")+1))return{r:-1,g:-1,b:-1,hex:"none",error:1};if(t=="none")return{r:-1,g:-1,b:-1,hex:"none"};!Z[s](t.toLowerCase().substring(0,2))&&t.charAt()!="#"&&(t=at(t));var n,r,i,o,u,a,f,l=t.match(I);return l?(l[2]&&(o=X(l[2].substring(5),16),i=X(l[2].substring(3,5),16),r=X(l[2].substring(1,3),16)),l[3]&&(o=X((a=l[3].charAt(3))+a,16),i=X((a=l[3].charAt(2))+a,16),r=X((a=l[3].charAt(1))+a,16)),l[4]&&(f=l[4][y](Y),r=W(f[0]),f[0].slice(-1)=="%"&&(r*=2.55),i=W(f[1]),f[1].slice(-1)=="%"&&(i*=2.55),o=W(f[2]),f[2].slice(-1)=="%"&&(o*=2.55),l[1].toLowerCase().slice(0,4)=="rgba"&&(u=W(f[3])),f[3]&&f[3].slice(-1)=="%"&&(u/=100)),l[5]?(f=l[5][y](Y),r=W(f[0]),f[0].slice(-1)=="%"&&(r*=2.55),i=W(f[1]),f[1].slice(-1)=="%"&&(i*=2.55),o=W(f[2]),f[2].slice(-1)=="%"&&(o*=2.55),(f[0].slice(-3)=="deg"||f[0].slice(-1)=="°")&&(r/=360),l[1].toLowerCase().slice(0,4)=="hsba"&&(u=W(f[3])),f[3]&&f[3].slice(-1)=="%"&&(u/=100),e.hsb2rgb(r,i,o,u)):l[6]?(f=l[6][y](Y),r=W(f[0]),f[0].slice(-1)=="%"&&(r*=2.55),i=W(f[1]),f[1].slice(-1)=="%"&&(i*=2.55),o=W(f[2]),f[2].slice(-1)=="%"&&(o*=2.55),(f[0].slice(-3)=="deg"||f[0].slice(-1)=="°")&&(r/=360),l[1].toLowerCase().slice(0,4)=="hsla"&&(u=W(f[3])),f[3]&&f[3].slice(-1)=="%"&&(u/=100),e.hsl2rgb(r,i,o,u)):(l={r:r,g:i,b:o},l.hex="#"+(16777216|o|i<<8|r<<16).toString(16).slice(1),e.is(u,"finite")&&(l.opacity=u),l)):{r:-1,g:-1,b:-1,hex:"none",error:1}},e),e.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},n=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),n.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=ht(function(t){if(!t)return null;var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=[];return e.is(t,_)&&e.is(t[0],_)&&(r=dt(t)),r[S]||g(t)[Q](tt,function(e,t,i){var s=[],o=x.call(t);i[Q](nt,function(e,t){t&&s[j](+t)}),o=="m"&&s[S]>2&&(r[j]([t][p](s.splice(0,2))),o="l",t=t=="m"?"l":"L");while(s[S]>=n[o]){r[j]([t][p](s.splice(0,n[o])));if(!n[o])break}}),r[D]=e._path2string,r}),e.findDotsAtSegment=function(e,t,n,r,i,s,o,u,a){var f=1-a,l=L(f,3)*e+L(f,2)*3*a*n+f*3*a*a*i+L(a,3)*o,c=L(f,3)*t+L(f,2)*3*a*r+f*3*a*a*s+L(a,3)*u,h=e+2*a*(n-e)+a*a*(i-2*n+e),p=t+2*a*(r-t)+a*a*(s-2*r+t),d=n+2*a*(i-n)+a*a*(o-2*i+n),v=r+2*a*(s-r)+a*a*(u-2*s+r),m=(1-a)*e+a*n,g=(1-a)*t+a*r,y=(1-a)*i+a*o,b=(1-a)*s+a*u,w=90-T.atan((h-d)/(p-v))*180/A;return(h>d||p<v)&&(w+=180),{x:l,y:c,m:{x:h,y:p},n:{x:d,y:v},start:{x:m,y:g},end:{x:y,y:b},alpha:w}};var pt=ht(function(e){if(!e)return{x:0,y:0,width:0,height:0};e=St(e);var t=0,n=0,r=[],i=[],s;for(var o=0,u=e[S];o<u;o++){s=e[o];if(s[0]=="M")t=s[1],n=s[2],r[j](t),i[j](n);else{var a=Et(t,n,s[1],s[2],s[3],s[4],s[5],s[6]);r=r[p](a.min.x,a.max.x),i=i[p](a.min.y,a.max.y),t=s[5],n=s[6]}}var f=C[h](0,r),l=C[h](0,i);return{x:f,y:l,width:N[h](0,r)-f,height:N[h](0,i)-l}}),dt=function(t){var n=[];if(!e.is(t,_)||!e.is(t&&t[0],_))t=e.parsePathString(t);for(var r=0,i=t[S];r<i;r++){n[r]=[];for(var s=0,o=t[r][S];s<o;s++)n[r][s]=t[r][s]}return n[D]=e._path2string,n},vt=ht(function(t){if(!e.is(t,_)||!e.is(t&&t[0],_))t=e.parsePathString(t);var n=[],r=0,i=0,s=0,o=0,u=0;t[0][0]=="M"&&(r=t[0][1],i=t[0][2],s=r,o=i,u++,n[j](["M",r,i]));for(var a=u,f=t[S];a<f;a++){var l=n[a]=[],c=t[a];if(c[0]!=x.call(c[0])){l[0]=x.call(c[0]);switch(l[0]){case"a":l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=+(c[6]-r).toFixed(3),l[7]=+(c[7]-i).toFixed(3);break;case"v":l[1]=+(c[1]-i).toFixed(3);break;case"m":s=c[1],o=c[2];default:for(var h=1,p=c[S];h<p;h++)l[h]=+(c[h]-(h%2?r:i)).toFixed(3)}}else{l=n[a]=[],c[0]=="m"&&(s=c[1]+r,o=c[2]+i);for(var d=0,v=c[S];d<v;d++)n[a][d]=c[d]}var m=n[a][S];switch(n[a][0]){case"z":r=s,i=o;break;case"h":r+=+n[a][m-1];break;case"v":i+=+n[a][m-1];break;default:r+=+n[a][m-2],i+=+n[a][m-1]}}return n[D]=e._path2string,n},0,dt),mt=ht(function(t){if(!e.is(t,_)||!e.is(t&&t[0],_))t=e.parsePathString(t);var n=[],r=0,i=0,s=0,o=0,u=0;t[0][0]=="M"&&(r=+t[0][1],i=+t[0][2],s=r,o=i,u++,n[0]=["M",r,i]);for(var a=u,f=t[S];a<f;a++){var l=n[a]=[],c=t[a];if(c[0]!=$.call(c[0])){l[0]=$.call(c[0]);switch(l[0]){case"A":l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=+(c[6]+r),l[7]=+(c[7]+i);break;case"V":l[1]=+c[1]+i;break;case"H":l[1]=+c[1]+r;break;case"M":s=+c[1]+r,o=+c[2]+i;default:for(var h=1,p=c[S];h<p;h++)l[h]=+c[h]+(h%2?r:i)}}else for(var d=0,v=c[S];d<v;d++)n[a][d]=c[d];switch(l[0]){case"Z":r=s,i=o;break;case"H":r=l[1];break;case"V":i=l[1];break;case"M":s=n[a][n[a][S]-2],o=n[a][n[a][S]-1];default:r=n[a][n[a][S]-2],i=n[a][n[a][S]-1]}}return n[D]=e._path2string,n},null,dt),gt=function(e,t,n,r){return[e,t,n,r,n,r]},yt=function(e,t,n,r,i,s){var o=1/3,u=2/3;return[o*e+u*n,o*t+u*r,o*i+u*n,o*s+u*r,i,s]},bt=function(e,t,n,r,i,s,o,u,a,f){var l=A*120/180,c=A/180*(+i||0),h=[],d,v=ht(function(e,t,n){var r=e*T.cos(n)-t*T.sin(n),i=e*T.sin(n)+t*T.cos(n);return{x:r,y:i}});if(!f){d=v(e,t,-c),e=d.x,t=d.y,d=v(u,a,-c),u=d.x,a=d.y;var m=T.cos(A/180*i),g=T.sin(A/180*i),b=(e-u)/2,w=(t-a)/2,x=b*b/(n*n)+w*w/(r*r);x>1&&(x=T.sqrt(x),n=x*n,r=x*r);var N=n*n,C=r*r,L=(s==o?-1:1)*T.sqrt(k((N*C-N*w*w-C*b*b)/(N*w*w+C*b*b))),O=L*n*w/r+(e+u)/2,M=L*-r*b/n+(t+a)/2,_=T.asin(((t-M)/r).toFixed(9)),D=T.asin(((a-M)/r).toFixed(9));_=e<O?A-_:_,D=u<O?A-D:D,_<0&&(_=A*2+_),D<0&&(D=A*2+D),o&&_>D&&(_-=A*2),!o&&D>_&&(D-=A*2)}else _=f[0],D=f[1],O=f[2],M=f[3];var P=D-_;if(k(P)>l){var H=D,B=u,j=a;D=_+l*(o&&D>_?1:-1),u=O+n*T.cos(D),a=M+r*T.sin(D),h=bt(u,a,n,r,i,0,o,B,j,[D,H,O,M])}P=D-_;var F=T.cos(_),I=T.sin(_),q=T.cos(D),R=T.sin(D),U=T.tan(P/4),z=4/3*n*U,W=4/3*r*U,X=[e,t],V=[e+z*I,t-W*F],$=[u+z*R,a-W*q],J=[u,a];V[0]=2*X[0]-V[0],V[1]=2*X[1]-V[1];if(f)return[V,$,J][p](h);h=[V,$,J][p](h)[E]()[y](",");var K=[];for(var Q=0,G=h[S];Q<G;Q++)K[Q]=Q%2?v(h[Q-1],h[Q],c).y:v(h[Q],h[Q+1],c).x;return K},wt=function(e,t,n,r,i,s,o,u,a){var f=1-a;return{x:L(f,3)*e+L(f,2)*3*a*n+f*3*a*a*i+L(a,3)*o,y:L(f,3)*t+L(f,2)*3*a*r+f*3*a*a*s+L(a,3)*u}},Et=ht(function(e,t,n,r,i,s,o,u){var a=i-2*n+e-(o-2*i+n),f=2*(n-e)-2*(i-n),l=e-n,c=(-f+T.sqrt(f*f-4*a*l))/2/a,p=(-f-T.sqrt(f*f-4*a*l))/2/a,d=[t,u],v=[e,o],m;return k(c)>"1e12"&&(c=.5),k(p)>"1e12"&&(p=.5),c>0&&c<1&&(m=wt(e,t,n,r,i,s,o,u,c),v[j](m.x),d[j](m.y)),p>0&&p<1&&(m=wt(e,t,n,r,i,s,o,u,p),v[j](m.x),d[j](m.y)),a=s-2*r+t-(u-2*s+r),f=2*(r-t)-2*(s-r),l=t-r,c=(-f+T.sqrt(f*f-4*a*l))/2/a,p=(-f-T.sqrt(f*f-4*a*l))/2/a,k(c)>"1e12"&&(c=.5),k(p)>"1e12"&&(p=.5),c>0&&c<1&&(m=wt(e,t,n,r,i,s,o,u,c),v[j](m.x),d[j](m.y)),p>0&&p<1&&(m=wt(e,t,n,r,i,s,o,u,p),v[j](m.x),d[j](m.y)),{min:{x:C[h](0,v),y:C[h](0,d)},max:{x:N[h](0,v),y:N[h](0,d)}}}),St=ht(function(e,t){var n=mt(e),r=t&&mt(t),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=function(e,t){var n,r;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null);switch(e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"][p](bt[h](0,[t.x,t.y][p](e.slice(1))));break;case"S":n=t.x+(t.x-(t.bx||t.x)),r=t.y+(t.y-(t.by||t.y)),e=["C",n,r][p](e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x)),t.qy=t.y+(t.y-(t.qy||t.y)),e=["C"][p](yt(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"][p](yt(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][p](gt(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][p](gt(t.x,t.y,e[1],t.y));break;case"V":e=["C"][p](gt(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][p](gt(t.x,t.y,t.X,t.Y))}return e},u=function(e,t){if(e[t][S]>7){e[t].shift();var i=e[t];while(i[S])e.splice(t++,0,["C"][p](i.splice(0,6)));e.splice(t,1),l=N(n[S],r&&r[S]||0)}},a=function(e,t,i,s,o){e&&t&&e[o][0]=="M"&&t[o][0]!="M"&&(t.splice(o,0,["M",s.x,s.y]),i.bx=0,i.by=0,i.x=e[o][1],i.y=e[o][2],l=N(n[S],r&&r[S]||0))};for(var f=0,l=N(n[S],r&&r[S]||0);f<l;f++){n[f]=o(n[f],i),u(n,f),r&&(r[f]=o(r[f],s)),r&&u(r,f),a(n,r,i,s,f),a(r,n,s,i,f);var c=n[f],d=r&&r[f],v=c[S],m=r&&d[S];i.x=c[v-2],i.y=c[v-1],i.bx=W(c[v-4])||i.x,i.by=W(c[v-3])||i.y,s.bx=r&&(W(d[m-4])||s.x),s.by=r&&(W(d[m-3])||s.y),s.x=r&&d[m-2],s.y=r&&d[m-1]}return r?[n,r]:n},null,dt),xt=ht(function(t){var n=[];for(var r=0,i=t[S];r<i;r++){var s={},o=t[r].match(/^([^:]*):?([\d\.]*)/);s.color=e.getRGB(o[1]);if(s.color.error)return null;s.color=s.color.hex,o[2]&&(s.offset=o[2]+"%"),n[j](s)}for(r=1,i=n[S]-1;r<i;r++)if(!n[r].offset){var u=W(n[r-1].offset||0),a=0;for(var f=r+1;f<i;f++)if(n[f].offset){a=n[f].offset;break}a||(a=100,f=i),a=W(a);var l=(a-u)/(f-r+1);for(;r<f;r++)u+=l,n[r].offset=u+"%"}return n}),Tt=function(t,n,r,i){var s;if(!e.is(t,M)&&!e.is(t,"object"))return{container:1,x:t,y:n,width:r,height:i};s=e.is(t,M)?o.getElementById(t):t;if(s.tagName)return n==null?{container:s,width:s.style.pixelWidth||s.offsetWidth,height:s.style.pixelHeight||s.offsetHeight}:{container:s,width:n,height:r}},Nt=function(e,t){var n=this;for(var r in t)if(t[s](r)&&!(r in e))switch(typeof t[r]){case"function":(function(t){e[r]=e===n?t:function(){return t[h](n,arguments)}})(t[r]);break;case"object":e[r]=e[r]||{},Nt.call(this,e[r],t[r]);break;default:e[r]=t[r]}},Ct=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)},kt=function(e,t){if(t.top===e)return;Ct(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e},Lt=function(e,t){if(t.bottom===e)return;Ct(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e},At=function(e,t,n){Ct(e,n),t==n.top&&(n.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},Ot=function(e,t,n){Ct(e,n),t==n.bottom&&(n.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},Mt=function(e){return function(){throw new Error("Raphaël: you are calling to method “"+e+"” of removed object")}};e.pathToRelative=vt;if(e.svg){l.svgns="http://www.w3.org/2000/svg",l.xlink="http://www.w3.org/1999/xlink",U=function(e){return+e+(~~e===e)*.5};var _t=function(e,t){if(!t)return e=o.createElementNS(l.svgns,e),e.style.webkitTapHighlightColor="rgba(0,0,0,0)",e;for(var n in t)t[s](n)&&e[z](n,g(t[n]))};e[D]=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var Dt=function(e,t){var n=_t("path");t.canvas&&t.canvas[c](n);var r=new It(n,t);return r.type="path",Bt(r,{fill:"none",stroke:"#000",path:e}),r},Pt=function(e,t,n){var r="linear",i=.5,s=.5,u=e.style;t=g(t)[Q](rt,function(e,t,n){r="radial";if(t&&n){i=W(t),s=W(n);var o=(s>.5)*2-1;L(i-.5,2)+L(s-.5,2)>.25&&(s=T.sqrt(.25-L(i-.5,2))*o+.5)&&s!=.5&&(s=s.toFixed(5)-1e-5*o)}return v}),t=t[y](/\s*\-\s*/);if(r=="linear"){var a=t.shift();a=-W(a);if(isNaN(a))return null;var f=[0,0,T.cos(a*A/180),T.sin(a*A/180)],l=1/(N(k(f[2]),k(f[3]))||1);f[2]*=l,f[3]*=l,f[2]<0&&(f[0]=-f[2],f[2]=0),f[3]<0&&(f[1]=-f[3],f[3]=0)}var h=xt(t);if(!h)return null;var p=e.getAttribute(P);p=p.match(/^url\(#(.*)\)$/),p&&n.defs.removeChild(o.getElementById(p[1]));var d=_t(r+"Gradient");d.id=ut(),_t(d,r=="radial"?{fx:i,fy:s}:{x1:f[0],y1:f[1],x2:f[2],y2:f[3]}),n.defs[c](d);for(var m=0,b=h[S];m<b;m++){var w=_t("stop");_t(w,{offset:h[m].offset?h[m].offset:m?"100%":"0%","stop-color":h[m].color||"#fff"}),d[c](w)}return _t(e,{fill:"url(#"+d.id+")",opacity:1,"fill-opacity":1}),u.fill=v,u.opacity=1,u.fillOpacity=1,1},Ht=function(t){var n=t.getBBox();_t(t.pattern,{patternTransform:e.format("translate({0},{1})",n.x,n.y)})},Bt=function(n,r){var i={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},u=n.node,a=n.attrs,f=n.rotate(),l=function(e,t){t=i[x.call(t)];if(t){var n=e.attrs["stroke-width"]||"1",s={round:n,square:n,butt:0}[e.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,o=[],a=t[S];while(a--)o[a]=t[a]*n+(a%2?1:-1)*s;_t(u,{"stroke-dasharray":o[E](",")})}};r[s]("rotation")&&(f=r.rotation);var h=g(f)[y](t);h.length-1?(h[1]=+h[1],h[2]=+h[2]):h=null,W(f)&&n.rotate(0,!0);for(var p in r)if(r[s](p)){if(!J[s](p))continue;var d=r[p];a[p]=d;switch(p){case"blur":n.blur(d);break;case"rotation":n.rotate(d,!0);break;case"href":case"title":case"target":var b=u.parentNode;if(x.call(b.tagName)!="a"){var w=_t("a");b.insertBefore(w,u),w[c](u),b=w}p=="target"&&d=="blank"?b.setAttributeNS(n.paper.xlink,"show","new"):b.setAttributeNS(n.paper.xlink,p,d);break;case"cursor":u.style.cursor=d;break;case"clip-rect":var T=g(d)[y](t);if(T[S]==4){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var N=_t("clipPath"),C=_t("rect");N.id=ut(),_t(C,{x:T[0],y:T[1],width:T[2],height:T[3]}),N[c](C),n.paper.defs[c](N),_t(u,{"clip-path":"url(#"+N.id+")"}),n.clip=C}if(!d){var k=o.getElementById(u.getAttribute("clip-path")[Q](/(^url\(#|\)$)/g,v));k&&k.parentNode.removeChild(k),_t(u,{"clip-path":v}),delete n.clip}break;case"path":n.type=="path"&&_t(u,{d:d?a.path=mt(d):"M0,0"});break;case"width":u[z](p,d);if(!a.fx)break;p="x",d=a.x;case"x":a.fx&&(d=-a.x-(a.width||0));case"rx":if(p=="rx"&&n.type=="rect")break;case"cx":h&&(p=="x"||p=="cx")&&(h[1]+=d-a[p]),u[z](p,d),n.pattern&&Ht(n);break;case"height":u[z](p,d);if(!a.fy)break;p="y",d=a.y;case"y":a.fy&&(d=-a.y-(a.height||0));case"ry":if(p=="ry"&&n.type=="rect")break;case"cy":h&&(p=="y"||p=="cy")&&(h[2]+=d-a[p]),u[z](p,d),n.pattern&&Ht(n);break;case"r":n.type=="rect"?_t(u,{rx:d,ry:d}):u[z](p,d);break;case"src":n.type=="image"&&u.setAttributeNS(n.paper.xlink,"href",d);break;case"stroke-width":u.style.strokeWidth=d,u[z](p,d),a["stroke-dasharray"]&&l(n,a["stroke-dasharray"]);break;case"stroke-dasharray":l(n,d);break;case"translation":var L=g(d)[y](t);L[0]=+L[0]||0,L[1]=+L[1]||0,h&&(h[1]+=L[0],h[2]+=L[1]),kn.call(n,L[0],L[1]);break;case"scale":L=g(d)[y](t),n.scale(+L[0]||1,+L[1]||+L[0]||1,isNaN(W(L[2]))?null:+L[2],isNaN(W(L[3]))?null:+L[3]);break;case P:var A=g(d).match(F);if(A){N=_t("pattern");var O=_t("image");N.id=ut(),_t(N,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),_t(O,{x:0,y:0}),O.setAttributeNS(n.paper.xlink,"href",A[1]),N[c](O);var M=o.createElement("img");M.style.cssText="position:absolute;left:-9999em;top-9999em",M.onload=function(){_t(N,{width:this.offsetWidth,height:this.offsetHeight}),_t(O,{width:this.offsetWidth,height:this.offsetHeight}),o.body.removeChild(this),n.paper.safari()},o.body[c](M),M.src=A[1],n.paper.defs[c](N),u.style.fill="url(#"+N.id+")",_t(u,{fill:"url(#"+N.id+")"}),n.pattern=N,n.pattern&&Ht(n);break}var _=e.getRGB(d);if(!_.error)delete r.gradient,delete a.gradient,!e.is(a.opacity,"undefined")&&e.is(r.opacity,"undefined")&&_t(u,{opacity:a.opacity}),!e.is(a["fill-opacity"],"undefined")&&e.is(r["fill-opacity"],"undefined")&&_t(u,{"fill-opacity":a["fill-opacity"]});else if(({circle:1,ellipse:1}[s](n.type)||g(d).charAt()!="r")&&Pt(u,d,n.paper)){a.gradient=d,a.fill="none";break}_[s]("opacity")&&_t(u,{"fill-opacity":_.opacity>1?_.opacity/100:_.opacity});case"stroke":_=e.getRGB(d),u[z](p,_.hex),p=="stroke"&&_[s]("opacity")&&_t(u,{"stroke-opacity":_.opacity>1?_.opacity/100:_.opacity});break;case"gradient":((({circle:1,ellipse:1}))[s](n.type)||g(d).charAt()!="r")&&Pt(u,d,n.paper);break;case"opacity":a.gradient&&!a[s]("stroke-opacity")&&_t(u,{"stroke-opacity":d>1?d/100:d});case"fill-opacity":if(a.gradient){var D=o.getElementById(u.getAttribute(P)[Q](/^url\(#|\)$/g,v));if(D){var H=D.getElementsByTagName("stop");H[H[S]-1][z]("stop-opacity",d)}break};default:p=="font-size"&&(d=X(d,10)+"px");var B=p[Q](/(\-.)/g,function(e){return $.call(e.substring(1))});u.style[B]=d,u[z](p,d)}}Ft(n,r),h?n.rotate(h.join(m)):W(f)&&n.rotate(f,!0)},jt=1.2,Ft=function(t,n){if(t.type!="text"||!(n[s]("text")||n[s]("font")||n[s]("font-size")||n[s]("x")||n[s]("y")))return;var r=t.attrs,i=t.node,u=i.firstChild?X(o.defaultView.getComputedStyle(i.firstChild,v).getPropertyValue("font-size"),10):10;if(n[s]("text")){r.text=n.text;while(i.firstChild)i.removeChild(i.firstChild);var a=g(n.text)[y]("\n");for(var f=0,l=a[S];f<l;f++)if(a[f]){var h=_t("tspan");f&&_t(h,{dy:u*jt,x:r.x}),h[c](o.createTextNode(a[f])),i[c](h)}}else{a=i.getElementsByTagName("tspan");for(f=0,l=a[S];f<l;f++)f&&_t(a[f],{dy:u*jt,x:r.x})}_t(i,{y:r.y});var p=t.getBBox(),d=r.y-(p.y+p.height/2);d&&e.is(d,"finite")&&_t(i,{y:r.y+d})},It=function(t,n){var r=0,i=0;this[0]=t,this.id=e._oid++,this.node=t,t.raphael=this,this.paper=n,this.attrs=this.attrs||{},this.transformations=[],this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},qt=It[i];It[i].rotate=function(n,r,i){if(this.removed)return this;if(n==null)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][E](m):this._.rt.deg;var s=this.getBBox();return n=g(n)[y](t),n[S]-1&&(r=W(n[1]),i=W(n[2])),n=W(n[0]),r!=null&&r!==!1?this._.rt.deg=n:this._.rt.deg+=n,i==null&&(r=null),this._.rt.cx=r,this._.rt.cy=i,r=r==null?s.x+s.width/2:r,i=i==null?s.y+s.height/2:i,this._.rt.deg?(this.transformations[0]=e.format("rotate({0} {1} {2})",this._.rt.deg,r,i),this.clip&&_t(this.clip,{transform:e.format("rotate({0} {1} {2})",-this._.rt.deg,r,i)})):(this.transformations[0]=v,this.clip&&_t(this.clip,{transform:v})),_t(this.node,{transform:this.transformations[E](m)}),this},It[i].hide=function(){return!this.removed&&(this.node.style.display="none"),this},It[i].show=function(){return!this.removed&&(this.node.style.display=""),this},It[i].remove=function(){if(this.removed)return;Ct(this,this.paper),this.node.parentNode&&this.node.parentNode.removeChild(this.node);for(var e in this)delete this[e];this.removed=!0},It[i].getBBox=function(){if(this.removed)return this;if(this.type=="path")return pt(this.attrs.path);if(this.node.style.display=="none"){this.show();var e=!0}var t={};try{t=this.node.getBBox()}catch(n){}finally{t=t||{}}if(this.type=="text"){t={x:t.x,y:Infinity,width:0,height:0};for(var r=0,i=this.node.getNumberOfChars();r<i;r++){var s=this.node.getExtentOfChar(r);s.y<t.y&&(t.y=s.y),s.y+s.height-t.y>t.height&&(t.height=s.y+s.height-t.y),s.x+s.width-t.x>t.width&&(t.width=s.x+s.width-t.x)}}return e&&this.hide(),t},It[i].attr=function(t,n){if(this.removed)return this;if(t==null){var r={};for(var i in this.attrs)this.attrs[s](i)&&(r[i]=this.attrs[i]);return this._.rt.deg&&(r.rotation=this.rotate()),(this._.sx!=1||this._.sy!=1)&&(r.scale=this.scale()),r.gradient&&r.fill=="none"&&(r.fill=r.gradient)&&delete r.gradient,r}if(n==null&&e.is(t,M))return t=="translation"?kn.call(this):t=="rotation"?this.rotate():t=="scale"?this.scale():t==P&&this.attrs.fill=="none"&&this.attrs.gradient?this.attrs.gradient:this.attrs[t];if(n==null&&e.is(t,_)){var o={};for(var u=0,a=t.length;u<a;u++)o[t[u]]=this.attr(t[u]);return o}if(n!=null){var f={};f[t]=n}else t!=null&&e.is(t,"object")&&(f=t);for(var l in this.paper.customAttributes)if(this.paper.customAttributes[s](l)&&f[s](l)&&e.is(this.paper.customAttributes[l],"function")){var c=this.paper.customAttributes[l].apply(this,[][p](f[l]));this.attrs[l]=f[l];for(var h in c)c[s](h)&&(f[h]=c[h])}return Bt(this,f),this},It[i].toFront=function(){if(this.removed)return this;this.node.parentNode[c](this.node);var e=this.paper;return e.top!=this&&kt(this,e),this},It[i].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),Lt(this,this.paper);var e=this.paper}return this},It[i].insertAfter=function(e){if(this.removed)return this;var t=e.node||e[e.length-1].node;return t.nextSibling?t.parentNode.insertBefore(this.node,t.nextSibling):t.parentNode[c](this.node),At(this,e,this.paper),this},It[i].insertBefore=function(e){if(this.removed)return this;var t=e.node||e[0].node;return t.parentNode.insertBefore(this.node,t),Ot(this,e,this.paper),this},It[i].blur=function(e){var t=this;if(+e!==0){var n=_t("filter"),r=_t("feGaussianBlur");t.attrs.blur=e,n.id=ut(),_t(r,{stdDeviation:+e||1.5}),n.appendChild(r),t.paper.defs.appendChild(n),t._blur=n,_t(t.node,{filter:"url(#"+n.id+")"})}else t._blur&&(t._blur.parentNode.removeChild(t._blur),delete t._blur,delete t.attrs.blur),t.node.removeAttribute("filter")};var Rt=function(e,t,n,r){var i=_t("circle");e.canvas&&e.canvas[c](i);var s=new It(i,e);return s.attrs={cx:t,cy:n,r:r,fill:"none",stroke:"#000"},s.type="circle",_t(i,s.attrs),s},Ut=function(e,t,n,r,i,s){var o=_t("rect");e.canvas&&e.canvas[c](o);var u=new It(o,e);return u.attrs={x:t,y:n,width:r,height:i,r:s||0,rx:s||0,ry:s||0,fill:"none",stroke:"#000"},u.type="rect",_t(o,u.attrs),u},zt=function(e,t,n,r,i){var s=_t("ellipse");e.canvas&&e.canvas[c](s);var o=new It(s,e);return o.attrs={cx:t,cy:n,rx:r,ry:i,fill:"none",stroke:"#000"},o.type="ellipse",_t(s,o.attrs),o},Wt=function(e,t,n,r,i,s){var o=_t("image");_t(o,{x:n,y:r,width:i,height:s,preserveAspectRatio:"none"}),o.setAttributeNS(e.xlink,"href",t),e.canvas&&e.canvas[c](o);var u=new It(o,e);return u.attrs={x:n,y:r,width:i,height:s,src:t},u.type="image",u},Xt=function(e,t,n,r){var i=_t("text");_t(i,{x:t,y:n,"text-anchor":"middle"}),e.canvas&&e.canvas[c](i);var s=new It(i,e);return s.attrs={x:t,y:n,"text-anchor":"middle",text:r,font:J.font,stroke:"none",fill:"#000"},s.type="text",Bt(s,s.attrs),s},Vt=function(e,t){return this.width=e||this.width,this.height=t||this.height,this.canvas[z]("width",this.width),this.canvas[z]("height",this.height),this},$t=function(){var t=Tt[h](0,arguments),n=t&&t.container,r=t.x,i=t.y,s=t.width,u=t.height;if(!n)throw new Error("SVG container not found.");var a=_t("svg");return r=r||0,i=i||0,s=s||512,u=u||342,_t(a,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:s,height:u}),n==1?(a.style.cssText="position:absolute;left:"+r+"px;top:"+i+"px",o.body[c](a)):n.firstChild?n.insertBefore(a,n.firstChild):n[c](a),n=new f,n.width=s,n.height=u,n.canvas=a,Nt.call(n,n,e.fn),n.clear(),n};l.clear=function(){var e=this.canvas;while(e.firstChild)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=_t("desc"))[c](o.createTextNode("Created with Raphaël")),e[c](this.desc),e[c](this.defs=_t("defs"))},l.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]=Mt(e)}}if(e.vml){var Jt={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Kt=/([clmz]),?([^clmz]*)/gi,Qt=/ progid:\S+Blur\([^\)]+\)/g,Gt=/-?[^,\s-]+/g,Yt=1e3+m+1e3,Zt=10,en={path:1,rect:1},tn=function(e){var t=/[ahqstv]/ig,n=mt;g(e).match(t)&&(n=St),t=/[clmz]/g;if(n==mt&&!g(e).match(t)){var r=g(e)[Q](Kt,function(e,t,n){var r=[],i=x.call(t)=="m",s=Jt[t];return n[Q](Gt,function(e){i&&r[S]==2&&(s+=r+Jt[t=="m"?"l":"L"],r=[]),r[j](U(e*Zt))}),s+r});return r}var i=n(e),s,o;r=[];for(var u=0,a=i[S];u<a;u++){s=i[u],o=x.call(i[u][0]),o=="z"&&(o="x");for(var f=1,l=s[S];f<l;f++)o+=U(s[f]*Zt)+(f!=l-1?",":v);r[j](o)}return r[E](m)};e[D]=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version},Dt=function(e,t){var n=rn("group");n.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",n.coordsize=t.coordsize,n.coordorigin=t.coordorigin;var r=rn("shape"),i=r.style;i.width=t.width+"px",i.height=t.height+"px",r.coordsize=Yt,r.coordorigin=t.coordorigin,n[c](r);var s=new It(r,n,t),o={fill:"none",stroke:"#000"};return e&&(o.path=e),s.type="path",s.path=[],s.Path=v,Bt(s,o),t.canvas[c](n),s},Bt=function(n,r){n.attrs=n.attrs||{};var i=n.node,u=n.attrs,a=i.style,f,l=(r.x!=u.x||r.y!=u.y||r.width!=u.width||r.height!=u.height||r.r!=u.r)&&n.type=="rect",h=n;for(var p in r)r[s](p)&&(u[p]=r[p]);l&&(u.path=nn(u.x,u.y,u.width,u.height,u.r),n.X=u.x,n.Y=u.y,n.W=u.width,n.H=u.height),r.href&&(i.href=r.href),r.title&&(i.title=r.title),r.target&&(i.target=r.target),r.cursor&&(a.cursor=r.cursor),"blur"in r&&n.blur(r.blur);if(r.path&&n.type=="path"||l)i.path=tn(u.path);r.rotation!=null&&n.rotate(r.rotation,!0),r.translation&&(f=g(r.translation)[y](t),kn.call(n,f[0],f[1]),n._.rt.cx!=null&&(n._.rt.cx+=+f[0],n._.rt.cy+=+f[1],n.setBox(n.attrs,f[0],f[1]))),r.scale&&(f=g(r.scale)[y](t),n.scale(+f[0]||1,+f[1]||+f[0]||1,+f[2]||null,+f[3]||null));if("clip-rect"in r){var d=g(r["clip-rect"])[y](t);if(d[S]==4){d[2]=+d[2]+ +d[0],d[3]=+d[3]+ +d[1];var m=i.clipRect||o.createElement("div"),b=m.style,w=i.parentNode;b.clip=e.format("rect({1}px {2}px {3}px {0}px)",d),i.clipRect||(b.position="absolute",b.top=0,b.left=0,b.width=n.paper.width+"px",b.height=n.paper.height+"px",w.parentNode.insertBefore(m,w),m[c](w),i.clipRect=m)}r["clip-rect"]||i.clipRect&&(i.clipRect.style.clip=v)}n.type=="image"&&r.src&&(i.src=r.src),n.type=="image"&&r.opacity&&(i.filterOpacity=V+".Alpha(opacity="+r.opacity*100+")",a.filter=(i.filterMatrix||v)+(i.filterOpacity||v)),r.font&&(a.font=r.font),r["font-family"]&&(a.fontFamily='"'+r["font-family"][y](",")[0][Q](/^['"]+|['"]+$/g,v)+'"'),r["font-size"]&&(a.fontSize=r["font-size"]),r["font-weight"]&&(a.fontWeight=r["font-weight"]),r["font-style"]&&(a.fontStyle=r["font-style"]);if(r.opacity!=null||r["stroke-width"]!=null||r.fill!=null||r.stroke!=null||r["stroke-width"]!=null||r["stroke-opacity"]!=null||r["fill-opacity"]!=null||r["stroke-dasharray"]!=null||r["stroke-miterlimit"]!=null||r["stroke-linejoin"]!=null||r["stroke-linecap"]!=null){i=n.shape||i;var E=i.getElementsByTagName(P)&&i.getElementsByTagName(P)[0],x=!1;!E&&(x=E=rn(P));if("fill-opacity"in r||"opacity"in r){var T=((+u["fill-opacity"]+1||2)-1)*((+u.opacity+1||2)-1)*((+e.getRGB(r.fill).o+1||2)-1);T=C(N(T,0),1),E.opacity=T}r.fill&&(E.on=!0);if(E.on==null||r.fill=="none")E.on=!1;if(E.on&&r.fill){var k=r.fill.match(F);k?(E.src=k[1],E.type="tile"):(E.color=e.getRGB(r.fill).hex,E.src=v,E.type="solid",e.getRGB(r.fill).error&&(h.type in{circle:1,ellipse:1}||g(r.fill).charAt()!="r")&&Pt(h,r.fill)&&(u.fill="none",u.gradient=r.fill))}x&&i[c](E);var L=i.getElementsByTagName("stroke")&&i.getElementsByTagName("stroke")[0],A=!1;!L&&(A=L=rn("stroke"));if(r.stroke&&r.stroke!="none"||r["stroke-width"]||r["stroke-opacity"]!=null||r["stroke-dasharray"]||r["stroke-miterlimit"]||r["stroke-linejoin"]||r["stroke-linecap"])L.on=!0;(r.stroke=="none"||L.on==null||r.stroke==0||r["stroke-width"]==0)&&(L.on=!1);var O=e.getRGB(r.stroke);L.on&&r.stroke&&(L.color=O.hex),T=((+u["stroke-opacity"]+1||2)-1)*((+u.opacity+1||2)-1)*((+O.o+1||2)-1);var M=(W(r["stroke-width"])||1)*.75;T=C(N(T,0),1),r["stroke-width"]==null&&(M=u["stroke-width"]),r["stroke-width"]&&(L.weight=M),M&&M<1&&(T*=M)&&(L.weight=1),L.opacity=T,r["stroke-linejoin"]&&(L.joinstyle=r["stroke-linejoin"]||"miter"),L.miterlimit=r["stroke-miterlimit"]||8,r["stroke-linecap"]&&(L.endcap=r["stroke-linecap"]=="butt"?"flat":r["stroke-linecap"]=="square"?"square":"round");if(r["stroke-dasharray"]){var _={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};L.dashstyle=_[s](r["stroke-dasharray"])?_[r["stroke-dasharray"]]:v}A&&i[c](L)}if(h.type=="text"){a=h.paper.span.style,u.font&&(a.font=u.font),u["font-family"]&&(a.fontFamily=u["font-family"]),u["font-size"]&&(a.fontSize=u["font-size"]),u["font-weight"]&&(a.fontWeight=u["font-weight"]),u["font-style"]&&(a.fontStyle=u["font-style"]),h.node.string&&(h.paper.span.innerHTML=g(h.node.string)[Q](/</g,"&#60;")[Q](/&/g,"&#38;")[Q](/\n/g,"<br>")),h.W=u.w=h.paper.span.offsetWidth,h.H=u.h=h.paper.span.offsetHeight,h.X=u.x,h.Y=u.y+U(h.H/2);switch(u["text-anchor"]){case"start":h.node.style["v-text-align"]="left",h.bbx=U(h.W/2);break;case"end":h.node.style["v-text-align"]="right",h.bbx=-U(h.W/2);break;default:h.node.style["v-text-align"]="center"}}},Pt=function(e,t){e.attrs=e.attrs||{};var n=e.attrs,r,i="linear",s=".5 .5";e.attrs.gradient=t,t=g(t)[Q](rt,function(e,t,n){return i="radial",t&&n&&(t=W(t),n=W(n),L(t-.5,2)+L(n-.5,2)>.25&&(n=T.sqrt(.25-L(t-.5,2))*((n>.5)*2-1)+.5),s=t+m+n),v}),t=t[y](/\s*\-\s*/);if(i=="linear"){var o=t.shift();o=-W(o);if(isNaN(o))return null}var u=xt(t);if(!u)return null;e=e.shape||e.node,r=e.getElementsByTagName(P)[0]||rn(P),!r.parentNode&&e.appendChild(r);if(u[S]){r.on=!0,r.method="none",r.color=u[0].color,r.color2=u[u[S]-1].color;var a=[];for(var f=0,l=u[S];f<l;f++)u[f].offset&&a[j](u[f].offset+m+u[f].color);r.colors&&(r.colors.value=a[S]?a[E]():"0% "+r.color),i=="radial"?(r.type="gradientradial",r.focus="100%",r.focussize=s,r.focusposition=s):(r.type="gradient",r.angle=(270-o)%360)}return 1},It=function(t,n,r){var i=0,s=0,o=0,u=1;this[0]=t,this.id=e._oid++,this.node=t,t.raphael=this,this.X=0,this.Y=0,this.attrs={},this.Group=n,this.paper=r,this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},qt=It[i],qt.rotate=function(e,n,r){return this.removed?this:e==null?this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][E](m):this._.rt.deg:(e=g(e)[y](t),e[S]-1&&(n=W(e[1]),r=W(e[2])),e=W(e[0]),n!=null?this._.rt.deg=e:this._.rt.deg+=e,r==null&&(n=null),this._.rt.cx=n,this._.rt.cy=r,this.setBox(this.attrs,n,r),this.Group.style.rotation=this._.rt.deg,this)},qt.setBox=function(e,t,n){if(this.removed)return this;var r=this.Group.style,i=this.shape&&this.shape.style||this.node.style;e=e||{};for(var o in e)e[s](o)&&(this.attrs[o]=e[o]);t=t||this._.rt.cx,n=n||this._.rt.cy;var u=this.attrs,a,f,l,c;switch(this.type){case"circle":a=u.cx-u.r,f=u.cy-u.r,l=c=u.r*2;break;case"ellipse":a=u.cx-u.rx,f=u.cy-u.ry,l=u.rx*2,c=u.ry*2;break;case"image":a=+u.x,f=+u.y,l=u.width||0,c=u.height||0;break;case"text":this.textpath.v=["m",U(u.x),", ",U(u.y-2),"l",U(u.x)+1,", ",U(u.y-2)][E](v),a=u.x-U(this.W/2),f=u.y-this.H/2,l=this.W,c=this.H;break;case"rect":case"path":if(!this.attrs.path)a=0,f=0,l=this.paper.width,c=this.paper.height;else{var h=pt(this.attrs.path);a=h.x,f=h.y,l=h.width,c=h.height}break;default:a=0,f=0,l=this.paper.width,c=this.paper.height}t=t==null?a+l/2:t,n=n==null?f+c/2:n;var p=t-this.paper.width/2,d=n-this.paper.height/2,m;r.left!=(m=p+"px")&&(r.left=m),r.top!=(m=d+"px")&&(r.top=m),this.X=en[s](this.type)?-p:a,this.Y=en[s](this.type)?-d:f,this.W=l,this.H=c,en[s](this.type)?(i.left!=(m=-p*Zt+"px")&&(i.left=m),i.top!=(m=-d*Zt+"px")&&(i.top=m)):this.type=="text"?(i.left!=(m=-p+"px")&&(i.left=m),i.top!=(m=-d+"px")&&(i.top=m)):(r.width!=(m=this.paper.width+"px")&&(r.width=m),r.height!=(m=this.paper.height+"px")&&(r.height=m),i.left!=(m=a-p+"px")&&(i.left=m),i.top!=(m=f-d+"px")&&(i.top=m),i.width!=(m=l+"px")&&(i.width=m),i.height!=(m=c+"px")&&(i.height=m))},qt.hide=function(){return!this.removed&&(this.Group.style.display="none"),this},qt.show=function(){return!this.removed&&(this.Group.style.display="block"),this},qt.getBBox=function(){return this.removed?this:en[s](this.type)?pt(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}},qt.remove=function(){if(this.removed)return;Ct(this,this.paper),this.node.parentNode.removeChild(this.node),this.Group.parentNode.removeChild(this.Group),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)delete this[e];this.removed=!0},qt.attr=function(t,n){if(this.removed)return this;if(t==null){var r={};for(var i in this.attrs)this.attrs[s](i)&&(r[i]=this.attrs[i]);return this._.rt.deg&&(r.rotation=this.rotate()),(this._.sx!=1||this._.sy!=1)&&(r.scale=this.scale()),r.gradient&&r.fill=="none"&&(r.fill=r.gradient)&&delete r.gradient,r}if(n==null&&e.is(t,"string"))return t=="translation"?kn.call(this):t=="rotation"?this.rotate():t=="scale"?this.scale():t==P&&this.attrs.fill=="none"&&this.attrs.gradient?this.attrs.gradient:this.attrs[t];if(this.attrs&&n==null&&e.is(t,_)){var o,u={};for(i=0,o=t[S];i<o;i++)u[t[i]]=this.attr(t[i]);return u}var a;n!=null&&(a={},a[t]=n),n==null&&e.is(t,"object")&&(a=t);if(a){for(var f in this.paper.customAttributes)if(this.paper.customAttributes[s](f)&&a[s](f)&&e.is(this.paper.customAttributes[f],"function")){var l=this.paper.customAttributes[f].apply(this,[][p](a[f]));this.attrs[f]=a[f];for(var c in l)l[s](c)&&(a[c]=l[c])}a.text&&this.type=="text"&&(this.node.string=a.text),Bt(this,a),a.gradient&&({circle:1,ellipse:1}[s](this.type)||g(a.gradient).charAt()!="r")&&Pt(this,a.gradient),(!en[s](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this},qt.toFront=function(){return!this.removed&&this.Group.parentNode[c](this.Group),this.paper.top!=this&&kt(this,this.paper),this},qt.toBack=function(){return this.removed?this:(this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),Lt(this,this.paper)),this)},qt.insertAfter=function(e){return this.removed?this:(e.constructor==On&&(e=e[e.length-1]),e.Group.nextSibling?e.Group.parentNode.insertBefore(this.Group,e.Group.nextSibling):e.Group.parentNode[c](this.Group),At(this,e,this.paper),this)},qt.insertBefore=function(e){return this.removed?this:(e.constructor==On&&(e=e[0]),e.Group.parentNode.insertBefore(this.Group,e.Group),Ot(this,e,this.paper),this)},qt.blur=function(t){var n=this.node.runtimeStyle,r=n.filter;r=r.replace(Qt,v),+t!==0?(this.attrs.blur=t,n.filter=r+m+V+".Blur(pixelradius="+(+t||1.5)+")",n.margin=e.format("-{0}px 0 0 -{0}px",U(+t||1.5))):(n.filter=r,n.margin=0,delete this.attrs.blur)},Rt=function(e,t,n,r){var i=rn("group"),s=rn("oval"),o=s.style;i.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",i.coordsize=Yt,i.coordorigin=e.coordorigin,i[c](s);var u=new It(s,i,e);return u.type="circle",Bt(u,{stroke:"#000",fill:"none"}),u.attrs.cx=t,u.attrs.cy=n,u.attrs.r=r,u.setBox({x:t-r,y:n-r,width:r*2,height:r*2}),e.canvas[c](i),u};function nn(t,n,r,i,s){return s?e.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",t+s,n,r-s*2,s,-s,i-s*2,s*2-r,s*2-i):e.format("M{0},{1}l{2},0,0,{3},{4},0z",t,n,r,i,-r)}Ut=function(e,t,n,r,i,s){var o=nn(t,n,r,i,s),u=e.path(o),a=u.attrs;return u.X=a.x=t,u.Y=a.y=n,u.W=a.width=r,u.H=a.height=i,a.r=s,a.path=o,u.type="rect",u},zt=function(e,t,n,r,i){var s=rn("group"),o=rn("oval"),u=o.style;s.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",s.coordsize=Yt,s.coordorigin=e.coordorigin,s[c](o);var a=new It(o,s,e);return a.type="ellipse",Bt(a,{stroke:"#000"}),a.attrs.cx=t,a.attrs.cy=n,a.attrs.rx=r,a.attrs.ry=i,a.setBox({x:t-r,y:n-i,width:r*2,height:i*2}),e.canvas[c](s),a},Wt=function(e,t,n,r,i,s){var o=rn("group"),u=rn("image");o.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",o.coordsize=Yt,o.coordorigin=e.coordorigin,u.src=t,o[c](u);var a=new It(u,o,e);return a.type="image",a.attrs.src=t,a.attrs.x=n,a.attrs.y=r,a.attrs.w=i,a.attrs.h=s,a.setBox({x:n,y:r,width:i,height:s}),e.canvas[c](o),a},Xt=function(t,n,r,i){var s=rn("group"),o=rn("shape"),u=o.style,a=rn("path"),f=a.style,l=rn("textpath");s.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",s.coordsize=Yt,s.coordorigin=t.coordorigin,a.v=e.format("m{0},{1}l{2},{1}",U(n*10),U(r*10),U(n*10)+1),a.textpathok=!0,u.width=t.width,u.height=t.height,l.string=g(i),l.on=!0,o[c](l),o[c](a),s[c](o);var h=new It(l,s,t);return h.shape=o,h.textpath=a,h.type="text",h.attrs.text=i,h.attrs.x=n,h.attrs.y=r,h.attrs.w=1,h.attrs.h=1,Bt(h,{font:J.font,stroke:"none",fill:"#000"}),h.setBox(),t.canvas[c](s),h},Vt=function(e,t){var n=this.canvas.style;return e==+e&&(e+="px"),t==+t&&(t+="px"),n.width=e,n.height=t,n.clip="rect(0 "+e+" "+t+" 0)",this};var rn;o.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!o.namespaces.rvml&&o.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),rn=function(e){return o.createElement("<rvml:"+e+' class="rvml">')}}catch(sn){rn=function(e){return o.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}$t=function(){var t=Tt[h](0,arguments),n=t.container,r=t.height,i,s=t.width,u=t.x,a=t.y;if(!n)throw new Error("VML container not found.");var l=new f,p=l.canvas=o.createElement("div"),d=p.style;return u=u||0,a=a||0,s=s||512,r=r||342,s==+s&&(s+="px"),r==+r&&(r+="px"),l.width=1e3,l.height=1e3,l.coordsize=Zt*1e3+m+Zt*1e3,l.coordorigin="0 0",l.span=o.createElement("span"),l.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",p[c](l.span),d.cssText=e.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",s,r),n==1?(o.body[c](p),d.left=u+"px",d.top=a+"px",d.position="absolute"):n.firstChild?n.insertBefore(p,n.firstChild):n[c](p),Nt.call(l,l,e.fn),l},l.clear=function(){this.canvas.innerHTML=v,this.span=o.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas[c](this.span),this.bottom=this.top=null},l.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]=Mt(e);return!0}}var on=navigator.userAgent.match(/Version\/(.*?)\s/);navigator.vendor=="Apple Computer, Inc."&&(on&&on[1]<4||navigator.platform.slice(0,2)=="iP")?l.safari=function(){var e=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});u.setTimeout(function(){e.remove()})}:l.safari=function(){};var un=function(){this.returnValue=!1},an=function(){return this.originalEvent.preventDefault()},fn=function(){this.cancelBubble=!0},ln=function(){return this.originalEvent.stopPropagation()},cn=function(){if(o.addEventListener)return function(e,t,n,r){var i=d&&w[t]?w[t]:t,o=function(i){if(d&&w[s](t))for(var o=0,u=i.targetTouches&&i.targetTouches.length;o<u;o++)if(i.targetTouches[o].target==e){var a=i;i=i.targetTouches[o],i.originalEvent=a,i.preventDefault=an,i.stopPropagation=ln;break}return n.call(r,i)};return e.addEventListener(i,o,!1),function(){return e.removeEventListener(i,o,!1),!0}};if(o.attachEvent)return function(e,t,n,r){var i=function(e){return e=e||u.event,e.preventDefault=e.preventDefault||un,e.stopPropagation=e.stopPropagation||fn,n.call(r,e)};e.attachEvent("on"+t,i);var s=function(){return e.detachEvent("on"+t,i),!0};return s}}(),hn=[],pn=function(e){var t=e.clientX,n=e.clientY,r=o.documentElement.scrollTop||o.body.scrollTop,i=o.documentElement.scrollLeft||o.body.scrollLeft,s,u=hn.length;while(u--){s=hn[u];if(d){var a=e.touches.length,f;while(a--){f=e.touches[a];if(f.identifier==s.el._drag.id){t=f.clientX,n=f.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}}else e.preventDefault();t+=i,n+=r,s.move&&s.move.call(s.move_scope||s.el,t-s.el._drag.x,n-s.el._drag.y,t,n,e)}},dn=function(t){e.unmousemove(pn).unmouseup(dn);var n=hn.length,r;while(n--)r=hn[n],r.el._drag={},r.end&&r.end.call(r.end_scope||r.start_scope||r.move_scope||r.el,t);hn=[]};for(var vn=b[S];vn--;)(function(t){e[t]=It[i][t]=function(n,r){return e.is(n,"function")&&(this.events=this.events||[],this.events.push({name:t,f:n,unbind:cn(this.shape||this.node||o,t,n,r||this)})),this},e["un"+t]=It[i]["un"+t]=function(e){var n=this.events,r=n[S];while(r--)if(n[r].name==t&&n[r].f==e)return n[r].unbind(),n.splice(r,1),!n.length&&delete this.events,this;return this}})(b[vn]);qt.hover=function(e,t,n,r){return this.mouseover(e,n).mouseout(t,r||n)},qt.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)},qt.drag=function(t,n,r,i,s,u){return this._drag={},this.mousedown(function(a){(a.originalEvent||a).preventDefault();var f=o.documentElement.scrollTop||o.body.scrollTop,l=o.documentElement.scrollLeft||o.body.scrollLeft;this._drag.x=a.clientX+l,this._drag.y=a.clientY+f,this._drag.id=a.identifier,n&&n.call(s||i||this,a.clientX+l,a.clientY+f,a),!hn.length&&e.mousemove(pn).mouseup(dn),hn.push({el:this,move:t,end:r,move_scope:i,start_scope:s,end_scope:u})}),this},qt.undrag=function(t,n,r){var i=hn.length;while(i--)hn[i].el==this&&hn[i].move==t&&hn[i].end==r&&hn.splice(i++,1);!hn.length&&e.unmousemove(pn).unmouseup(dn)},l.circle=function(e,t,n){return Rt(this,e||0,t||0,n||0)},l.rect=function(e,t,n,r,i){return Ut(this,e||0,t||0,n||0,r||0,i||0)},l.ellipse=function(e,t,n,r){return zt(this,e||0,t||0,n||0,r||0)},l.path=function(t){return t&&!e.is(t,M)&&!e.is(t[0],_)&&(t+=v),Dt(e.format[h](e,arguments),this)},l.image=function(e,t,n,r,i){return Wt(this,e||"about:blank",t||0,n||0,r||0,i||0)},l.text=function(e,t,n){return Xt(this,e||0,t||0,g(n))},l.set=function(e){return arguments[S]>1&&(e=Array[i].splice.call(arguments,0,arguments[S])),new On(e)},l.setSize=Vt,l.top=l.bottom=null,l.raphael=e,qt.resetScale=function(){if(this.removed)return this;this._.sx=1,this._.sy=1,this.attrs.scale="1 1"},qt.scale=function(e,t,n,r){if(this.removed)return this;if(e==null&&t==null)return{x:this._.sx,y:this._.sy,toString:mn};t=t||e,!+t&&(t=e);var i,s,o,u,a=this.attrs;if(e!=0){var f=this.getBBox(),l=f.x+f.width/2,c=f.y+f.height/2,h=k(e/this._.sx),d=k(t/this._.sy);n=+n||n==0?n:l,r=+r||r==0?r:c;var g=this._.sx>0,y=this._.sy>0,b=~~(e/k(e)),w=~~(t/k(t)),x=h*b,T=d*w,N=this.node.style,C=n+k(l-n)*x*(l>n==g?1:-1),L=r+k(c-r)*T*(c>r==y?1:-1),A=e*b>t*w?d:h;switch(this.type){case"rect":case"image":var O=a.width*h,M=a.height*d;this.attr({height:M,r:a.r*A,width:O,x:C-O/2,y:L-M/2});break;case"circle":case"ellipse":this.attr({rx:a.rx*h,ry:a.ry*d,r:a.r*A,cx:C,cy:L});break;case"text":this.attr({x:C,y:L});break;case"path":var _=vt(a.path),D=!0,P=g?x:h,H=y?T:d;for(var B=0,j=_[S];B<j;B++){var F=_[B],I=$.call(F[0]);if(I=="M"&&D)continue;D=!1;if(I=="A")F[_[B][S]-2]*=P,F[_[B][S]-1]*=H,F[1]*=h,F[2]*=d,F[5]=+(b+w?!!+F[5]:!+F[5]);else if(I=="H")for(var q=1,R=F[S];q<R;q++)F[q]*=P;else if(I=="V")for(q=1,R=F[S];q<R;q++)F[q]*=H;else for(q=1,R=F[S];q<R;q++)F[q]*=q%2?P:H}var U=pt(_);i=C-U.x-U.width/2,s=L-U.y-U.height/2,_[0][1]+=i,_[0][2]+=s,this.attr({path:_})}if(this.type in{text:1,image:1}&&(b!=1||w!=1))this.transformations?(this.transformations[2]="scale("[p](b,",",w,")"),this.node[z]("transform",this.transformations[E](m)),i=b==-1?-a.x-(O||0):a.x,s=w==-1?-a.y-(M||0):a.y,this.attr({x:i,y:s}),a.fx=b-1,a.fy=w-1):(this.node.filterMatrix=V+".Matrix(M11="[p](b,", M12=0, M21=0, M22=",w,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),N.filter=(this.node.filterMatrix||v)+(this.node.filterOpacity||v));else if(this.transformations){this.transformations[2]=v;var W=this.transformations[E](m);W.replace(/\s/g,"")===""&&(W=""),this.node[z]("transform",W),a.fx=0,a.fy=0}else this.node.filterMatrix=v,N.filter=(this.node.filterMatrix||v)+(this.node.filterOpacity||v);a.scale=[e,t,n,r][E](m),this._.sx=e,this._.sy=t}return this},qt.clone=function(){if(this.removed)return null;var e=this.attr();return delete e.scale,delete e.translation,this.paper[this.type]().attr(e)};var gn={},yn=function(t,n,r,i,s,o,u,a,f){var l=0,c=100,h=[t,n,r,i,s,o,u,a].join(),p=gn[h],d,v;!p&&(gn[h]=p={data:[]}),p.timer&&clearTimeout(p.timer),p.timer=setTimeout(function(){delete gn[h]},2e3);if(f!=null){var m=yn(t,n,r,i,s,o,u,a);c=~~m*10}for(var g=0;g<c+1;g++){p.data[f]>g?v=p.data[g*c]:(v=e.findDotsAtSegment(t,n,r,i,s,o,u,a,g/c),p.data[g]=v),g&&(l+=L(L(d.x-v.x,2)+L(d.y-v.y,2),.5));if(f!=null&&l>=f)return v;d=v}if(f==null)return l},bn=function(t,n){return function(r,i,s){r=St(r);var o,u,a,f,l="",c={},h,p=0;for(var d=0,v=r.length;d<v;d++){a=r[d];if(a[0]=="M")o=+a[1],u=+a[2];else{f=yn(o,u,a[1],a[2],a[3],a[4],a[5],a[6]);if(p+f>i){if(n&&!c.start){h=yn(o,u,a[1],a[2],a[3],a[4],a[5],a[6],i-p),l+=["C",h.start.x,h.start.y,h.m.x,h.m.y,h.x,h.y];if(s)return l;c.start=l,l=["M",h.x,h.y+"C",h.n.x,h.n.y,h.end.x,h.end.y,a[5],a[6]][E](),p+=f,o=+a[5],u=+a[6];continue}if(!t&&!n)return h=yn(o,u,a[1],a[2],a[3],a[4],a[5],a[6],i-p),{x:h.x,y:h.y,alpha:h.alpha}}p+=f,o=+a[5],u=+a[6]}l+=a}return c.end=l,h=t?p:n?c:e.findDotsAtSegment(o,u,a[1],a[2],a[3],a[4],a[5],a[6],1),h.alpha&&(h={x:h.x,y:h.y,alpha:h.alpha}),h}},wn=bn(1),En=bn(),Sn=bn(0,1);qt.getTotalLength=function(){if(this.type!="path")return;return this.node.getTotalLength?this.node.getTotalLength():wn(this.attrs.path)},qt.getPointAtLength=function(e){if(this.type!="path")return;return En(this.attrs.path,e)},qt.getSubpath=function(e,t){if(this.type!="path")return;if(k(this.getTotalLength()-t)<"1e-6")return Sn(this.attrs.path,e).end;var n=Sn(this.attrs.path,t,1);return e?Sn(n,e).end:n},e.easing_formulas={linear:function(e){return e},"<":function(e){return L(e,3)},">":function(e){return L(e-1,3)+1},"<>":function(e){return e*=2,e<1?L(e,3)/2:(e-=2,(L(e,3)+2)/2)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},elastic:function(e){if(e==0||e==1)return e;var t=.3,n=t/4;return L(2,-10*e)*T.sin((e-n)*2*A/t)+1},bounce:function(e){var t=7.5625,n=2.75,r;return e<1/n?r=t*e*e:e<2/n?(e-=1.5/n,r=t*e*e+.75):e<2.5/n?(e-=2.25/n,r=t*e*e+.9375):(e-=2.625/n,r=t*e*e+.984375),r}};var xn=[],Tn=function(){var t=+(new Date);for(var n=0;n<xn[S];n++){var r=xn[n];if(r.stop||r.el.removed)continue;var i=t-r.start,o=r.ms,u=r.easing,a=r.from,f=r.diff,l=r.to,c=r.t,h=r.el,p={},d;if(i<o){var g=u(i/o);for(var y in a)if(a[s](y)){switch(K[y]){case"along":d=g*o*f[y],l.back&&(d=l.len-d);var b=En(l[y],d);h.translate(f.sx-f.x||0,f.sy-f.y||0),f.x=b.x,f.y=b.y,h.translate(b.x-f.sx,b.y-f.sy),l.rot&&h.rotate(f.r+b.alpha,b.x,b.y);break;case O:d=+a[y]+g*o*f[y];break;case"colour":d="rgb("+[Cn(U(a[y].r+g*o*f[y].r)),Cn(U(a[y].g+g*o*f[y].g)),Cn(U(a[y].b+g*o*f[y].b))][E](",")+")";break;case"path":d=[];for(var w=0,x=a[y][S];w<x;w++){d[w]=[a[y][w][0]];for(var T=1,N=a[y][w][S];T<N;T++)d[w][T]=+a[y][w][T]+g*o*f[y][w][T];d[w]=d[w][E](m)}d=d[E](m);break;case"csv":switch(y){case"translation":var C=g*o*f[y][0]-c.x,k=g*o*f[y][1]-c.y;c.x+=C,c.y+=k,d=C+m+k;break;case"rotation":d=+a[y][0]+g*o*f[y][0],a[y][1]&&(d+=","+a[y][1]+","+a[y][2]);break;case"scale":d=[+a[y][0]+g*o*f[y][0],+a[y][1]+g*o*f[y][1],2 in l[y]?l[y][2]:v,3 in l[y]?l[y][3]:v][E](m);break;case"clip-rect":d=[],w=4;while(w--)d[w]=+a[y][w]+g*o*f[y][w]}break;default:var L=[].concat(a[y]);d=[],w=h.paper.customAttributes[y].length;while(w--)d[w]=+L[w]+g*o*f[y][w]}p[y]=d}h.attr(p),h._run&&h._run.call(h)}else l.along&&(b=En(l.along,l.len*!l.back),h.translate(f.sx-(f.x||0)+b.x-f.sx,f.sy-(f.y||0)+b.y-f.sy),l.rot&&h.rotate(f.r+b.alpha,b.x,b.y)),(c.x||c.y)&&h.translate(-c.x,-c.y),l.scale&&(l.scale+=v),h.attr(l),xn.splice(n--,1)}e.svg&&h&&h.paper&&h.paper.safari(),xn[S]&&setTimeout(Tn)},Nn=function(t,n,r,i,s){var o=r-i;n.timeouts.push(setTimeout(function(){e.is(s,"function")&&s.call(n),n.animate(t,o,t.easing)},i))},Cn=function(e){return N(C(e,255),0)},kn=function(e,t){if(e==null)return{x:this._.tx,y:this._.ty,toString:mn};this._.tx+=+e,this._.ty+=+t;switch(this.type){case"circle":case"ellipse":this.attr({cx:+e+this.attrs.cx,cy:+t+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+e+this.attrs.x,y:+t+this.attrs.y});break;case"path":var n=vt(this.attrs.path);n[0][1]+=+e,n[0][2]+=+t,this.attr({path:n})}return this};qt.animateWith=function(e,t,n,r,i){for(var s=0,o=xn.length;s<o;s++)xn[s].el.id==e.id&&(t.start=xn[s].start);return this.animate(t,n,r,i)},qt.animateAlong=Ln(),qt.animateAlongBack=Ln(1),qt.onAnimation=function(e){return this._run=e||0,this},qt.animate=function(n,r,i,o){var u=this;u.timeouts=u.timeouts||[];if(e.is(i,"function")||!i)o=i||null;if(u.removed)return o&&o.call(u),u;var a={},f={},l=!1,c={};for(var h in n)if(n[s](h))if(K[s](h)||u.paper.customAttributes[s](h)){l=!0,a[h]=u.attr(h),a[h]==null&&(a[h]=J[h]),f[h]=n[h];switch(K[h]){case"along":var p=wn(n[h]),d=En(n[h],p*!!n.back),v=u.getBBox();c[h]=p/r,c.tx=v.x,c.ty=v.y,c.sx=d.x,c.sy=d.y,f.rot=n.rot,f.back=n.back,f.len=p,n.rot&&(c.r=W(u.rotate())||0);break;case O:c[h]=(f[h]-a[h])/r;break;case"colour":a[h]=e.getRGB(a[h]);var m=e.getRGB(f[h]);c[h]={r:(m.r-a[h].r)/r,g:(m.g-a[h].g)/r,b:(m.b-a[h].b)/r};break;case"path":var b=St(a[h],f[h]);a[h]=b[0];var w=b[1];c[h]=[];for(var E=0,x=a[h][S];E<x;E++){c[h][E]=[0];for(var T=1,N=a[h][E][S];T<N;T++)c[h][E][T]=(w[E][T]-a[h][E][T])/r}break;case"csv":var C=g(n[h])[y](t),k=g(a[h])[y](t);switch(h){case"translation":a[h]=[0,0],c[h]=[C[0]/r,C[1]/r];break;case"rotation":a[h]=k[1]==C[1]&&k[2]==C[2]?k:[0,C[1],C[2]],c[h]=[(C[0]-a[h][0])/r,0,0];break;case"scale":n[h]=C,a[h]=g(a[h])[y](t),c[h]=[(C[0]-a[h][0])/r,(C[1]-a[h][1])/r,0,0];break;case"clip-rect":a[h]=g(a[h])[y](t),c[h]=[],E=4;while(E--)c[h][E]=(C[E]-a[h][E])/r}f[h]=C;break;default:C=[].concat(n[h]),k=[].concat(a[h]),c[h]=[],E=u.paper.customAttributes[h][S];while(E--)c[h][E]=((C[E]||0)-(k[E]||0))/r}}if(!l){var L=[],A;for(var M in n)n[s](M)&&G.test(M)&&(h={value:n[M]},M=="from"&&(M=0),M=="to"&&(M=100),h.key=X(M,10),L.push(h));L.sort(it),L[0].key&&L.unshift({key:0,value:u.attrs});for(E=0,x=L[S];E<x;E++)Nn(L[E].value,u,r/100*L[E].key,r/100*(L[E-1]&&L[E-1].key||0),L[E-1]&&L[E-1].value.callback);A=L[L[S]-1].value.callback,A&&u.timeouts.push(setTimeout(function(){A.call(u)},r))}else{var _=e.easing_formulas[i];if(!_){_=g(i).match(R);if(_&&_[S]==5){var D=_;_=function(e){return An(e,+D[1],+D[2],+D[3],+D[4],r)}}else _=function(e){return e}}xn.push({start:n.start||+(new Date),ms:r,easing:_,from:a,diff:c,to:f,el:u,t:{x:0,y:0}}),e.is(o,"function")&&(u._ac=setTimeout(function(){o.call(u)},r)),xn[S]==1&&setTimeout(Tn)}return this},qt.stop=function(){for(var e=0;e<xn.length;e++)xn[e].el.id==this.id&&xn.splice(e--,1);for(e=0,ii=this.timeouts&&this.timeouts.length;e<ii;e++)clearTimeout(this.timeouts[e]);return this.timeouts=[],clearTimeout(this._ac),delete this._ac,this},qt.translate=function(e,t){return this.attr({translation:e+" "+t})},qt[D]=function(){return"Raphaël’s object"},e.ae=xn;var On=function(e){this.items=[],this[S]=0,this.type="set";if(e)for(var t=0,n=e[S];t<n;t++)e[t]&&(e[t].constructor==It||e[t].constructor==On)&&(this[this.items[S]]=this.items[this.items[S]]=e[t],this[S]++)};On[i][j]=function(){var e,t;for(var n=0,r=arguments[S];n<r;n++)e=arguments[n],e&&(e.constructor==It||e.constructor==On)&&(t=this.items[S],this[t]=this.items[t]=e,this[S]++);return this},On[i].pop=function(){return delete this[this[S]--],this.items.pop()};for(var Mn in qt)qt[s](Mn)&&(On[i][Mn]=function(e){return function(){for(var t=0,n=this.items[S];t<n;t++)this.items[t][e][h](this.items[t],arguments);return this}}(Mn));On[i].attr=function(t,n){if(t&&e.is(t,_)&&e.is(t[0],"object"))for(var r=0,i=t[S];r<i;r++)this.items[r].attr(t[r]);else for(var s=0,o=this.items[S];s<o;s++)this.items[s].attr(t,n);return this},On[i].animate=function(t,n,r,i){(e.is(r,"function")||!r)&&(i=r||null);var s=this.items[S],o=s,u,a=this,f;i&&(f=function(){!--s&&i.call(a)}),r=e.is(r,M)?r:f,u=this.items[--o].animate(t,n,r,f);while(o--)this.items[o]&&!this.items[o].removed&&this.items[o].animateWith(u,t,n,r,f);return this},On[i].insertAfter=function(e){var t=this.items[S];while(t--)this.items[t].insertAfter(e);return this},On[i].getBBox=function(){var e=[],t=[],n=[],r=[];for(var i=this.items[S];i--;){var s=this.items[i].getBBox();e[j](s.x),t[j](s.y),n[j](s.x+s.width),r[j](s.y+s.height)}return e=C[h](0,e),t=C[h](0,t),{x:e,y:t,width:N[h](0,n)-e,height:N[h](0,r)-t}},On[i].clone=function(e){e=new On;for(var t=0,n=this.items[S];t<n;t++)e[j](this.items[t].clone());return e},e.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},n=e.face["font-family"];for(var r in e.face)e.face[s](r)&&(t.face[r]=e.face[r]);this.fonts[n]?this.fonts[n][j](t):this.fonts[n]=[t];if(!e.svg){t.face["units-per-em"]=X(e.face["units-per-em"],10);for(var i in e.glyphs)if(e.glyphs[s](i)){var o=e.glyphs[i];t.glyphs[i]={w:o.w,k:{},d:o.d&&"M"+o.d[Q](/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"};if(o.k)for(var u in o.k)o[s](u)&&(t.glyphs[i].k[u]=o.k[u])}}return e},l.getFont=function(t,n,r,i){i=i||"normal",r=r||"normal",n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400;if(!e.fonts)return;var o=e.fonts[t];if(!o){var u=new RegExp("(^|\\s)"+t[Q](/[^\w\d\s+!~.:_-]/g,v)+"(\\s|$)","i");for(var a in e.fonts)if(e.fonts[s](a)&&u.test(a)){o=e.fonts[a];break}}var f;if(o)for(var l=0,c=o[S];l<c;l++){f=o[l];if(f.face["font-weight"]==n&&(f.face["font-style"]==r||!f.face["font-style"])&&f.face["font-stretch"]==i)break}return f},l.print=function(n,r,i,s,o,u,a){u=u||"middle",a=N(C(a||0,1),-1);var f=this.set(),l=g(i)[y](v),c=0,h=v,p;e.is(s,i)&&(s=this.getFont(s));if(s){p=(o||16)/s.face["units-per-em"];var d=s.face.bbox.split(t),m=+d[0],b=+d[1]+(u=="baseline"?d[3]-d[1]+ +s.face.descent:(d[3]-d[1])/2);for(var w=0,E=l[S];w<E;w++){var x=w&&s.glyphs[l[w-1]]||{},T=s.glyphs[l[w]];c+=w?(x.w||s.w)+(x.k&&x.k[l[w]]||0)+s.w*a:0,T&&T.d&&f[j](this.path(T.d).attr({fill:"#000",stroke:"none",translation:[c,0]}))}f.scale(p,p,m,b).translate(n-m,r-b)}return f},e.format=function(t,n){var i=e.is(n,_)?[0][p](n):arguments;return t&&e.is(t,M)&&i[S]-1&&(t=t[Q](r,function(e,t){return i[++t]==null?v:i[t]})),t||v},e.ninja=function(){return a.was?u.Raphael=a.is:delete Raphael,e},e.el=qt,e.st=On[i],a.was?u.Raphael=e:Raphael=e})();

/** minified js  - from ../walib/WAF/widget/icon/widget-icon.js at Thu, 09 Apr 2015 09:51:37 GMT */

WAF.Widget.provide("Icon",{defaultState:{normalMobile:{scale:"0.7 0.7",fill:"#fff",stroke:"none"},normal:{scale:"0.7 0.7",fill:"#5e5e5e",stroke:"none"},hover:{},active:{},disabled:{}},path:{questionMark:"M 8,0.21875 C 4.2713275,0.14197786 0.80494426,3.1229021 0.30854347,6.8163019 -0.30845812,10.371109 1.9238817,14.126388 5.3268245,15.30845 8.6393979,16.589366 12.693361,15.213442 14.55397,12.191507 16.565547,9.1809685 16.036009,4.8146305 13.3664,2.3694547 11.940025,0.99842746 9.9794657,0.20890504 8,0.21875 z m 0.1875,3.75 C 9.6214659,3.8617741 11.105506,5.1590605 10.699913,6.6594261 10.540219,7.993643 8.7071455,8.3623657 8.71875,9.7296909 8.8687245,10.307797 8.1087289,9.9759333 7.7671638,10.0625 7.1007837,10.277321 7.2324258,9.6515364 7.27211,9.1964456 7.3192005,7.7776594 9.8529406,7.2897556 9.0234873,5.7630303 8.3674501,4.6439043 7.1130327,6.10801 6.5972927,5.5807189 6.2235365,5.1499766 5.6259204,4.6394495 6.5532153,4.390625 7.0502207,4.113654 7.6184865,3.9673256 8.1875,3.96875 z m -0.9375,7.125 c 0.4895833,0 0.9791667,0 1.46875,0 0,0.458333 0,0.916667 0,1.375 -0.4895833,0 -0.9791667,0 -1.46875,0 0,-0.458333 0,-0.916667 0,-1.375 z",plus:"M 12.95363,0.00218262 H 3.04597 C 1.36359,0.00218262 0,1.3364826 0,2.9826826 V 13.021683 c 0,1.6459 1.36398,2.9805 3.04597,2.9805 h 9.90807 c 1.68238,0 3.04596,-1.335 3.04596,-2.9805 V 2.9830826 c 0,-1.6466 -1.36398,-2.98089998 -3.04637,-2.98089998 z M 12.19861,9.4123826 h -2.7606 l 0,2.6954004 c -4e-4,0.7784 -0.64517,1.4094 -1.4404,1.4101 -0.79562,0 -1.4396,-0.632 -1.4396,-1.4101 l 7.7e-4,-2.6954004 -2.7594,-8e-4 c -0.79482,0 -1.4388,-0.6297 -1.4388,-1.4074 7.7e-4,-0.7781 0.64477,-1.4083 1.4388,-1.4078 h 2.7602 l -4e-4,-2.7009 c 0.001,-0.7785 0.64557,-1.4086 1.4408,-1.409 0.79562,0 1.44,0.6314 1.4392,1.409 l -3.9e-4,2.7009 2.7598,3e-4 c 0.79522,7e-4 1.43959,0.6317 1.44039,1.4098 -10e-4,0.7777 -0.64517,1.4067 -1.44039,1.4059 z",plusMobile:"M25.979,12.896 19.312,12.896 19.312,6.229 12.647,6.229 12.647,12.896 5.979,12.896 5.979,19.562 12.647,19.562 12.647,26.229 19.312,26.229 19.312,19.562 25.979,19.562z",minus:"M 12.954026,0.002183 H 3.0459693 C 1.3635807,0.002183 0,1.3364239 0,2.9826132 V 13.021753 c 0,1.645797 1.3639796,2.98043 3.0459693,2.98043 H 12.954026 C 14.636818,16.002183 16,14.667168 16,13.021753 V 2.9830057 C 16,1.3364239 14.636419,0.002183 12.954026,0.002183 z M 12.199001,9.4123666 3.7998001,9.4119741 C 3.004974,9.4115925 2.3609945,8.7818519 2.3609945,8.0041289 2.3617667,7.2260134 3.0057707,6.5958913 3.7998001,6.5966763 h 8.3992009 c 0.794432,7.523e-4 1.438811,0.6316812 1.439606,1.4097858 -5.94e-4,0.777723 -0.645174,1.4066895 -1.439606,1.4059045 z",arrowFullLeft:"M 6.42825,15.374508 0.6214,9.5205079 C 0.20777,9.1013079 0,8.5475079 0,8.0006079 l 0,0 c 0,-0.5461 0.20777,-1.0976 0.6214,-1.5188 l 0,0 0.001,0 5.80609,-5.85399995 c 0.41478,-0.4184 0.96472,-0.6293 1.50695,-0.627800004869 l 0,0 c 0.54221,0 1.09139,0.209400004869 1.50307,0.625500004869 l 0,0 C 9.85483,1.0392079 10.06802,1.5927079 10.06802,2.1439079 l 0,0 c 0,0.5468 -0.20972,1.1015 -0.62565,1.5191 l 0,0 -2.17274,2.1875 h 6.60088 c 1.17906,0 2.12756,0.9633 2.12949,2.1481 l 0,0 c -0.002,1.1841 -0.94927,2.1474001 -2.12949,2.1474001 l 0,0 H 7.27156 l 2.16888,2.1871 c 0.41439,0.4165 0.62758,0.9699 0.62758,1.5215 l 0,0 c 0,0.5461 -0.20972,1.0995 -0.62758,1.518 l 0,0 c -0.41554,0.4161 -0.96009,0.6274 -1.505,0.6274 l 0,0 c -0.54262,0 -1.09256,-0.211 -1.50734,-0.6274 l 0,0 z",arrowFullRight:"M 9.57175,15.374508 15.3786,9.5205079 c 0.41363,-0.4192 0.6214,-0.973 0.6214,-1.5199 l 0,0 c 0,-0.5461 -0.20777,-1.0976 -0.6214,-1.5188 l 0,0 -0.001,0 -5.80609,-5.85399995 c -0.41478,-0.4184 -0.96472,-0.6293 -1.50695,-0.627800004869 l 0,0 C 7.52235,7.945131e-6 6.97317,0.20940795 6.56149,0.62550795 l 0,0 C 6.14517,1.0392079 5.93198,1.5927079 5.93198,2.1439079 l 0,0 c 0,0.5468 0.20972,1.1015 0.62565,1.5191 l 0,0 2.17274,2.1875 H 2.12949 c -1.17906,0 -2.12756,0.9633 -2.12949,2.1481 l 0,0 c 0.002,1.1841 0.94927,2.1474001 2.12949,2.1474001 l 0,0 h 6.59895 l -2.16888,2.1871 c -0.41439,0.4165 -0.62758,0.9699 -0.62758,1.5215 l 0,0 c 0,0.5461 0.20972,1.0995 0.62758,1.518 l 0,0 c 0.41554,0.4161 0.96009,0.6274 1.505,0.6274 l 0,0 c 0.54262,0 1.09256,-0.211 1.50734,-0.6274 l 0,0 z",arrowSansLeft:"M 11 1 L 4 8 L 11 15 L 11 1 z",arrowSansRight:"M 5 1 L 5 15 L 12 8 L 5 1 z",trash:"M 6.75 -0.03125 C 6.128465 0.076817308 6.05147 1.1254821 5.5 1.1875 C 4.5426184 1.1568985 3.4370056 1.114832 2.71875 1.875 C 2.3521867 2.2242683 1.7403905 3.247357 2.15625 3.53125 L 13.6875 3.53125 C 13.697157 2.1441629 12.331468 0.98910275 10.96875 1.1875 L 10.03125 1.1875 C 10.059954 0.38472055 9.200304 -0.13856532 8.46875 0 L 7.0625 0 C 6.9491067 -0.028065075 6.8387907 -0.046688187 6.75 -0.03125 z M 2 4.71875 C 2.0151152 7.7993031 1.9769344 10.889794 2.03125 13.96875 C 2.2072088 15.267229 3.5342711 16.19058 4.8125 16 C 7.0974602 15.986541 9.4037307 16.024902 11.6875 15.96875 C 12.97934 15.801558 13.866386 14.446299 13.6875 13.1875 L 13.6875 4.71875 L 2 4.71875 z M 4.625 6.5 C 5.3457596 6.5230087 5.2299452 7.4068785 5.21875 7.90625 C 5.2147422 9.7906036 5.2446673 11.678236 5.21875 13.5625 C 4.9913079 14.551871 3.6298606 13.782735 4.03125 12.96875 C 4.0361739 10.965356 4.0046075 8.972057 4.03125 6.96875 C 4.0796378 6.6993753 4.3517656 6.4932642 4.625 6.5 z M 7.9375 6.5 C 8.6580687 6.5233484 8.5425444 7.4068372 8.53125 7.90625 C 8.527204 9.7906036 8.5572436 11.678236 8.53125 13.5625 C 8.3986177 14.451514 6.9979048 13.943712 7.3125 13.15625 C 7.3206683 11.094294 7.2836818 9.0296457 7.3125 6.96875 C 7.3738846 6.694356 7.6588111 6.4954498 7.9375 6.5 z M 11.21875 6.5 C 11.90116 6.4945188 11.887355 7.3263963 11.84375 7.8125 C 11.838292 9.7282582 11.873293 11.646854 11.84375 13.5625 C 11.595612 14.54458 10.225538 13.799329 10.625 12.96875 C 10.629886 10.965356 10.598625 8.9720586 10.625 6.96875 C 10.672521 6.6988409 10.94534 6.4926256 11.21875 6.5 z",radioactive:"M 4.7495053,2.3824846 C 3.8243413,2.6462962 4.1157849,3.823571 4.6038227,4.3644301 5.2320236,5.4637816 5.8602244,6.5631331 6.4884253,7.6624846 7.1692961,6.8780436 8.3091481,7.1655221 9.1748265,7.408136 9.9291467,7.623662 10.021617,6.3207181 10.488771,5.86498 10.945486,5.0407792 11.469243,4.2387285 11.84284,3.3774689 11.97655,2.4211178 10.772637,2.2783756 10.081615,2.3824846 c -1.7773701,0 -3.5547399,0 -5.3321097,0 z m 3.22491,5.4697 C 6.7331958,7.7611498 5.9208699,9.4872057 6.7785653,10.387365 7.51891,11.426096 9.413431,10.903469 9.5095854,9.6267657 9.6662484,8.7322249 8.8859315,7.8189714 7.9744153,7.8521846 z m -7.14537998,1.64407 c -1.08464358,0.012331 -0.96463588,1.4550234 -0.36180202,2.0116004 0.9217462,1.558522 1.7824728,3.153241 2.747512,4.68601 0.716755,0.718329 1.5656111,-0.235502 1.8058793,-0.922572 0.7211236,-1.239982 1.4422471,-2.479965 2.1633707,-3.719948 -0.9902269,-0.196271 -1.2119359,-1.327551 -1.6781,-2.0550904 -1.5589533,0 -3.1179067,0 -4.67685998,0 z m 9.42177968,0 c 0.147251,0.9368064 -0.7722997,1.5060524 -1.2965112,2.1257144 0.2334278,0.863027 0.9648908,1.750888 1.3857042,2.625676 0.573525,0.706697 0.748386,1.95318 1.710438,2.210055 1.056004,-0.142493 1.250015,-1.424228 1.804623,-2.147867 0.71404,-1.260181 1.515398,-2.486018 2.130698,-3.793004 0.152224,-0.9652721 -1.062455,-1.1329592 -1.762362,-1.0205744 -1.324197,0 -2.648393,0 -3.97259,0 z",magnifyingGlass:"M 5.875 0 C 4.5338886 0.016050726 3.1868715 0.45979752 2.15625 1.34375 C 0.072738424 3.0004621 -0.60339095 6.1210439 0.59375 8.5 C 1.7163235 10.926788 4.5811151 12.367751 7.1875 11.75 C 7.7387149 11.725749 8.3589478 11.068707 8.71875 11.71875 C 9.9951609 12.985328 11.242514 14.246548 12.53125 15.5 C 13.532737 16.376934 15.295651 15.977725 15.8125 14.75 C 16.187091 13.964936 15.999118 12.982574 15.375 12.375 L 11.375 8.375 C 12.510678 5.9713281 11.741233 2.8518394 9.625 1.25 C 8.5733253 0.39145237 7.2161114 -0.016050726 5.875 0 z M 5.75 2.0625 C 7.703925 1.916566 9.5740453 3.4902641 9.78125 5.4375 C 10.076514 7.3773921 8.6457976 9.3662014 6.71875 9.71875 C 4.8386012 10.149181 2.7856227 8.9438606 2.25 7.09375 C 2.1341417 6.7226316 2.0623287 6.3262351 2.0625 5.9375 C 2.0151077 3.9453777 3.7586995 2.1182851 5.75 2.0625 z",floppyDisk:"M 2.8125 0 C 1.2634539 0 0 1.2923468 0 2.84375 L 0 13.1875 C 0 14.737725 1.2634539 16 2.8125 16 L 13.1875 16 C 14.738118 16 16 14.737725 16 13.1875 L 16 2.84375 C 16 1.2923468 14.738118 0 13.1875 0 L 12.9375 0 L 12.9375 6.03125 C 12.9375 6.4531814 12.60786 6.78125 12.1875 6.78125 L 3.8125 6.78125 C 3.3905686 6.78125 3.0625 6.4531814 3.0625 6.03125 L 3.0625 0 L 2.8125 0 z M 9.15625 0.03125 C 8.9464629 0.03125 8.78125 0.19646288 8.78125 0.40625 L 8.78125 5.125 C 8.78125 5.3359657 8.9464629 5.5 9.15625 5.5 L 11.0625 5.5 C 11.273466 5.5 11.4375 5.3359657 11.4375 5.125 L 11.4375 0.40625 C 11.4375 0.19646288 11.273466 0.03125 11.0625 0.03125 L 9.15625 0.03125 z",arrowDown:"M 8,14 3.2290908,7.6 12.770909,7.6 8,14 z",arrowUp:"M 8,2 3.2290908,8.4 12.770909,8.4 8,2 z",checkbox:"M6.039,14.107L0.368,7.708C-0.216,7.052-0.092,6.092,0.65,5.571C1.39,5.05,2.465,5.163,3.052,5.824 L5.93,9.068l6.927-8.442c0.558-0.677,1.627-0.831,2.39-0.335s0.929,1.447,0.375,2.127L6.039,14.107L6.039,14.107z"}},function(t,n,r){var i,s,o,u;this._type=n["icon-type"]?n["icon-type"]:null,this._spriteInfo=n["sprite-info"]||"",i=this;switch(this._type){case"images":this.setState("state1"),this.$domNode.bind({mouseenter:function(){i.setState("state2")},mousedown:function(){i.setState("state3")},mouseleave:function(){i.setState("state1")},mouseup:function(){i.setState("state2")}}),this.$domNode.find("img").width("100%").height("100%");break;case"sprite":s={"background-image":'url("'+n["image-state1"]+'")'},this.$domNode.css(s),this.setState("state1"),this.$domNode.bind({mouseenter:function(){i.setState("state2")},mousedown:function(){i.setState("state3")},mouseleave:function(){i.setState("state1")},mouseup:function(){i.setState("state2")}});break;default:this.state=$.extend(!0,{},r.defaultState,t.state),r.path[t.type]==undefined&&(t.type="questionMark");if(t.size==undefined||"16, 24, 32".indexOf(t.size)===-1)t.size=16;$(this.containerNode).prop({id:t.id,"class":"waf-icon waf-icon-"+t.size+" "+[].concat(t.className).join(" ")}).data({"icon-size":t.size,"icon-type":t.type}).bind({mouseenter:function(){$(this).addClass("waf-state-hover")},mousedown:function(){$(this).addClass("waf-state-active")},"mouseleave mouseup":function(){$(this).removeClass("waf-state-hover waf-state-active")}}),o=Raphael(this.containerNode,t.size,t.size*4),WAF.PLATFORM.modulesString==="mobile"||WAF.PLATFORM.modulesString==="touch"?u=o.path(r.path[t.type]).attr(this.state.normalMobile):u=o.path(r.path[t.type]).attr(this.state.normal),u.clone().translate(0,t.size).attr(this.state.hover),u.clone().translate(0,t.size*2).attr(this.state.active),u.clone().translate(0,t.size*3).attr(this.state.disabled),o.rect(0,0,t.size,t.size*4).attr({fill:"#000",stroke:"none",opacity:0}),$(this.containerNode).append($(o.node))}},{_type:null,_tmpState:"default",setState:function(t){var n,r,i=t=="enabled";n=this.getLabel();if(t=="default"||t=="enabled")t="state1";t=="hover"&&(t="state2",this.addClass("waf-state-hover")),t=="active"&&(t="state3"),t=="disabled"&&(t="state4");if(!this._disabled||i)r=this.$domNode,r.addClass("waf-state-"+t),this._showImage(t),t=="state2"&&r.removeClass("waf-state-state3"),t=="state3"&&r.removeClass("waf-state-state2"),t=="state1"&&(r.removeClass("waf-state-state2"),r.removeClass("waf-state-state3"),r.removeClass("waf-state-state4"),this._tmpState=t),n&&n.setState(t)},_showImage:function(t){var n;switch(this._type){case"images":var r=this.$domNode.find("img.waf-icon-"+t),i=this.$domNode.find("img").not(".waf-icon-"+t),s=this.$domNode.find("img.waf-icon-state1");if(r.length==0){i.hide(),s.show();return}r.show(),i.hide();break;case"sprite":}},disable:function(){this.setState("disabled"),WAF.Widget.prototype.disable.call(this)},enable:function(){this.setState("enabled"),WAF.Widget.prototype.enable.call(this)}});

/** minified js  - from ../walib/WAF/widget/icon/widget-icon-conf.js at Thu, 09 Apr 2015 09:51:37 GMT */

function iconImageStateAttribute(e){return{tabCategory:"Image",tab:"style",name:"data-image-"+e,description:"Src",type:"file",accept:"image/*",state:e,onchange:function(){D.tag.refreshPanels(),this.data.tag.getHtmlObject().css("background-image","none")},ready:function(){var t,n,r;n=this.data,t=n.tag,r=getTagStateLabel(t),(r!=e||t.getAttribute("data-icon-type").getValue()=="sprite"&&r!="state1")&&this.htmlObject.parent().parent().hide()}}}function getTagStateLabel(e){var t;return t=e.getCurrentState()||{},t=t.cssClass||"waf-state-state1",t=t.replace("waf-state-",""),t}function createSpriteManagerInput(e,t,n,r){var i=n;n=n.toLowerCase(),(new Designer.lib.form.TextField({id:"waf-sprite-input-"+n,label:i+":",value:parseInt(t.css(n)),style:{width:"40px","margin-right":"10px","float":"none"},ready:function(){this.htmlObject.parent().find("label").css({display:"inline-block",width:"40px","text-align":"right","margin-right":"10px"})},onchange:function(){var r,i,s;i=this.getValue(),t.css(n,i+"px"),this.updateTag=function(e,n,r){r=="width"&&e.setWidth(n),r=="height"&&e.setHeight(n);if(r=="left"||r=="top")e._updateSpriteInfo(t.css("left"),t.css("top")),e.onDesign();e.domUpdate()},s=Designer.env.tag.selection.count();if(s>1)for(r=0;r<s;r+=1)this.updateTag(Designer.env.tag.selection.get(r),i,n);else this.updateTag(e,i,n)}})).render(r)}WAF.addWidget({packageName:"Widget/icon",type:"icon",lib:"WAF",description:"Icon",category:"Misc. Controls",img:"../walib/WAF/widget/image/icons/widget-image.png",css:[],include:[],tag:"span",attributes:[{name:"data-draggable",description:"Draggable",type:"checkbox"},{name:"data-label",description:"Label",defaultValue:""},{name:"data-label-position",description:"Label position",defaultValue:"left"},{name:"data-sprite-info",id:"waf-form-spriteManager",description:"Preview",tabCategory:"Image",tab:"style",type:"container",style:{position:"relative","max-width":"260px",overflow:"hidden"},ready:function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y;u=260,a=260,n=this.data,e=n.tag,h=this.htmlObject,g=e.getAttribute("data-sprite-info"),c=e.getAttribute("data-image-state1").getValue(),d="sprite-selector",r=getTagStateLabel(e),o=e.getComputedStyle("background-position"),v={position:"absolute",background:"rgba(156,185,230,0.8)",cursor:"pointer"},g.getValue()||o&&o!="0px 0px"?(o?t=o.split(" "):(s=JSON.parse(g.getValue().replace(/\'/g,'"'))[0],s=s[r]?s[r]:s.state1,t=s.split(" ")),v.left=parseInt(t[0])*-1+"px",v.top=parseInt(t[1])*-1+"px",v.width=e.getStyle("width")+"px",v.height=e.getStyle("height")+"px"):(v.left="0px",v.top="0px",v.width=e.getStyle("width")+"px",v.height=e.getStyle("height")+"px"),this.htmlObject.parent().parent().show(),this.htmlObject.children().remove(),l=$("<div>").css({"margin-bottom":"10px","max-height":a+"px",overflow:"hidden"}).appendTo(h),m=$("<div>").css({position:"relative"}).appendTo(l),y=$('<div id="'+d+'">').css(v).appendTo(m).resizable({containment:"parent",handles:"n, e, s, w"}).draggable({containment:"parent",start:function(){D.ui._startSpriteSelector=!1},drag:function(t,n){var r,i,s;s=Designer.env.tag.selection.count();if(s>1)for(r=0;r<s;r+=1)i=Designer.env.tag.selection.get(r),i._updateSpriteInfo(y.css("left"),y.css("top")),i.onDesign(!0);else e._updateSpriteInfo(y.css("left"),y.css("top")),e.onDesign(!0)}});if(e.getAttribute("data-icon-type").getValue()!="sprite"){this.htmlObject.parent().parent().hide();return}c&&(p=Designer.util.formatPath(c),f=$('<img src="'+p.fullPath+'">').css({cursor:"crosshair"}).appendTo(m),f[0].onload=function(){var e,t,n,r,i,s;e=f.width(),t=f.height(),l.css({width:e}),t>a&&l.css({height:t});if(e>u||t>a)r=[],m.hover(function(){var t,n=h.offset().left,r=h.offset().top;t=n-(e-u)-10,$(this).stop(!0,!0),clearTimeout(s),e<=u&&(t=m.offset().left-1);if(m.offset().left==t)return;i=setTimeout(function(){m.appendTo("body").css({left:n,top:r,position:"absolute","background-color":"white","-webkit-box-shadow":"2px 2px 6px rgba(0, 0, 0, 0.2)"}).animate({left:t+"px"},200)},100)},function(){clearTimeout(i),$(this).stop(!0,!0),s=setTimeout(function(){var e=h.offset().left;m.animate({left:e+"px"},150,function(){m.appendTo(l).css({left:0,top:0,position:"relative","background-color":"transparent","-webkit-box-shadow":"none"})})},500)})},m.bind("mousedown",function(e){e.target.tagName!="IMG"?D.ui._startSpriteSelector=!1:(D.ui._startSpriteSelector=!0,v.left=e.offsetX,v.top=e.offsetY,v.width=0,v.height=0,y.css(v),D.ui._tmpSpriteSelector={x:e.offsetX,y:e.offsetY})}),m.bind("mousemove",function(e){var t,n;if(!D.ui._startSpriteSelector)return;t=e.offsetX-D.ui._tmpSpriteSelector.x,n=e.offsetY-D.ui._tmpSpriteSelector.y,v.width=y.width()+t+"px",v.height=y.height()+n+"px",v["pointer-events"]="none",y.css(v),D.ui._tmpSpriteSelector={x:e.offsetX,y:e.offsetY}}),m.bind("mouseup",function(){var t,n,r,i,s,o;i=y.width(),s=y.height(),r=y.css("left"),n=y.css("top"),this.updateTag=function(e,t,n,r,i){e._updateSpriteInfo(t,n),D.tag.preventDomUpdate(),e.setWidth(r,!1),e.setHeight(i,!1),D.tag.preventDomUpdate(!1),e.onDesign(!0),e.domUpdate()},o=Designer.env.tag.selection.count();if(o>1)for(t=0;t<o;t+=1)tagElt=Designer.env.tag.selection.get(t),this.updateTag(tagElt,r,n,i,s);else this.updateTag(e,r,n,i,s);y.css("pointer-events","auto"),D.ui._startSpriteSelector=!1,$("#waf-sprite-input-width").val(i),$("#waf-sprite-input-height").val(s),$("#waf-sprite-input-left").val(parseInt(r)),$("#waf-sprite-input-top").val(parseInt(n))}),i=$("<div>").appendTo(h),createSpriteManagerInput(e,y,"Width",i),createSpriteManagerInput(e,y,"Left",i),createSpriteManagerInput(e,y,"Height",i),createSpriteManagerInput(e,y,"Top",i))}},iconImageStateAttribute("state1"),iconImageStateAttribute("state2"),iconImageStateAttribute("state3"),iconImageStateAttribute("state4"),{name:"data-icon-type",description:"Type",type:"combobox",onchange:function(){var e,t;t=this.data,e=t.tag,waForm.components.get("waf-form-spriteManager")._ready();switch(this.getValue()){case"images":e.getHtmlObject().css("background-image","none")}},options:[{value:"Separate images",key:"images"},{value:"Sprite",key:"sprite"}],defaultValue:"images",tabCategory:"Image",tab:"style",ready:function(){var e,t,n;t=this.data,e=t.tag,n=getTagStateLabel(e),n!="state1"&&this.htmlObject.parent().parent().hide()}}],events:[{name:"click",description:"On Click",category:"Mouse Events"},{name:"dblclick",description:"On Double Click",category:"Mouse Events"},{name:"mousedown",description:"On Mouse Down",category:"Mouse Events"},{name:"mouseout",description:"On Mouse Out",category:"Mouse Events"},{name:"mouseover",description:"On Mouse Over",category:"Mouse Events"},{name:"mouseup",description:"On Mouse Up",category:"Mouse Events"},{name:"touchstart",description:"On Touch Start",category:"Touch Events"},{name:"touchend",description:"On Touch End",category:"Touch Events"},{name:"touchcancel",description:"On Touch Cancel",category:"Touch Events"}],properties:{style:{theme:!1,fClass:!0,text:!1,background:!0,gradient:!0,border:!0,sizePosition:!0,shadow:!0,disabled:["background-image"]},state:[{label:"hover",cssClass:"waf-state-state2"},{label:"active",cssClass:"waf-state-state3"},{label:"disabled",cssClass:"waf-state-state4"}]},style:[{name:"width",defaultValue:"24px"},{name:"height",defaultValue:"24px"}],onInit:function(e){return new WAF.widget.Icon(e)},onDesign:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T;E=n.getHtmlObject(),v=n.getAttribute("data-icon-type").getValue(),v=v||"images";switch(v){case"images":n._iconState={state1:n.getAttribute("data-image-state1").getValue(),state2:n.getAttribute("data-image-state2").getValue(),state3:n.getAttribute("data-image-state3").getValue(),state4:n.getAttribute("data-image-state4").getValue()},h=getTagStateLabel(n);for(s in n._iconState)p=n._iconState[s],g="waf-icon-"+s,m=$("#"+n.getId()+" ."+g),p?(u=Designer.util.formatPath(p),m.length>0?m.prop("src",u.fullPath):m=$('<img class="'+g+'" src="'+u.fullPath+'">').appendTo(E),s!=h&&m.hide()):m.remove();E.find("img").width("100%").height("100%");break;case"sprite":E.find("img").remove(),T=n.getAttribute("data-sprite-info"),x=n.getAttribute("data-image-state1").getValue(),T&&x&&(S=T.getValue(),d={"background-image":'url("'+Designer.util.formatPath(x).fullPath+'")'},S&&(a=getTagStateLabel(n),S=JSON.parse(S.replace(/\'/g,'"'))[0],S=S[a]||S.state1),E.css(d)),h="state1"}f=n.getWidth(),l=n.getHeight(),n.getAttribute("data-image-"+h).getValue()?E.find("canvas").remove():(E.find("canvas").remove(),c=$('<canvas width="'+f+'px" height="'+l+'px">').css({position:"absolute",left:"0px",top:"0px"}),E.append(c),o=c[0].getContext("2d"),o.fillStyle="rgb(200,0,0)",o.fillRect(0,0,f/2,l/2),o.fillStyle="rgba(0, 50, 200, 0.5)",o.fillRect(f/2-f/6,l/2-l/6,f/2+f/6,l/2+l/6),c.css({width:"100%",height:"100%"}))},onCreate:function(e,t){e._showIcon=function(t){var n,r;for(n in this._iconState)r=$("#"+this.getId()+" .waf-icon-"+n),n==t?r.show():r.hide()},$(e).bind("onStateChange",function(e,t){t=t==-1?"waf-state-state1":t,this._showIcon(t.replace("waf-state-",""))}),$(e).bind("onFileDrop",function(e,t){var n,r,i,s,o;r=this,i=t.path.cropedPath,o=$('<img src="'+t.path.fullPath+'">').appendTo("body"),o[0].onload=function(){var e,n,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w;p=$(this),d=!0,m=r.getAttribute("data-icon-type").getValue(),v=r.getAttribute("data-sprite-info"),f=p.width(),h=p.height(),w=[],c=["state1","state2","state3","state4"];if(h>f){o=h/f,g=y=f;for(e=0;e<o;e+=1)n=0,s=e*y,w.push("'"+c[e]+"' : '-"+n+"px -"+s+"px'")}else{o=f/h,g=y=h;for(e=0;e<o;e+=1)n=e*y,s=0,w.push("'"+c[e]+"' : '-"+n+"px -"+s+"px'")}a=D.util.isInt(o),a&&o>2&&(u="{"+w.join(",")+"}",m="sprite",r.getAttribute("data-icon-type").setValue(m),r.setWidth(g,!1),r.setHeight(y,!1),v.setValue("["+u+"]"));switch(m){case"images":b=getTagStateLabel(r);for(e in r._iconState)l=r._iconState[e],l?d=!1:(r.getAttribute("data-image-"+e).setValue(i),r._iconState[e]=i);r.getAttribute("data-image-"+b).setValue(i),r._showIcon(b);break;case"sprite":v.getValue()||v.setValue("[{'state1':'-0px -0px'}]"),r.getAttribute("data-image-state1").setValue(i)}D.tag.preventDomUpdate(),d&&m=="images"&&!t.keepSize&&!r._inButton&&(r.setWidth(p.width()),r.setHeight(p.height())),r.onDesign(!0),D.tag.preventDomUpdate(!1),r.domUpdate(),t.silentMode||(r.setCurrent(),D.tag.refreshPanels())}}),$(e).bind("onDomUpdate",function(t,n){var r,i,s,o,u,a,f,l;l=n.getChildNodes();for(r in l)l[r].remove();n._json.childNodes=[],u=e.getAttribute("data-icon-type").getValue(),u=u||"images";switch(u){case"images":for(r in this._iconState)i=e.getAttribute("data-image-"+r).getValue(),i&&(s=Designer.env.document.createElement("img"),s.setAttribute("src",i),s.setAttribute("class","waf-icon-"+r),n.appendChild(s));break;case"sprite":n.removeAttribute("data-image-state2"),n.removeAttribute("data-image-state3"),n.removeAttribute("data-image-state4");if(this.getAttribute("data-sprite-info").getValue()){o=JSON.parse(this.getAttribute("data-sprite-info").getValue().replace(/\'/g,'"'))[0];for(r=1;r<=4;r+=1)a=o["state"+r],a&&(f={cssClass:"waf-state-state"+r,find:"",label:"state"+r,selector:"#"+this.getId()+".waf-state-state"+r},r==1&&(f=null),this.setCss("background-position",a,undefined,undefined,f))}n.removeAttribute("data-sprite-info")}}),$(e).bind("onStateChange",function(e){this.onDesign()}),$(e).bind("onStyleReset",function(){this.getAttribute("data-image-state1").setValue(""),this.getAttribute("data-image-state2").setValue(""),this.getAttribute("data-image-state3").setValue(""),this.getAttribute("data-image-state4").setValue(""),this.onDesign(!0),this.domUpdate()}),$(e).bind("onWidgetCopy",function(e,t,n){t.getAttribute("data-label")&&this.setLabel(t.getAttribute("data-label").getValue()),this.getParent().isButtonImage()&&this.getParent()._centerContent()}),e._updateSpriteInfo=function(e,t){var n,r,i,s,o,u,a;s=getTagStateLabel(this),i=this.getAttribute("data-sprite-info"),u=i.getValue(),a=[],u?o=JSON.parse(u.replace(/\'/g,'"'))[0]:o={},o[s]="-"+e+" -"+t;for(n in o)a.push("'"+n+"' : '"+o[n]+"'");r="{"+a.join(",")+"}",i.setValue("["+r+"]")},e.getPath=function(){return this.getAttribute("data-image-state1").getValue()},e._showIcon("state1"),$(e).bind("onWidgetDestroy",function(){var e=this.getParent();e.isMenuItem()&&(e.setAttribute("data-icon",""),e.domUpdate())})}});

/** minified js  - from ../walib/WAF/widget/toolbar/widget-toolbar.js at Thu, 09 Apr 2015 09:51:37 GMT */

WAF.widget.Toolbar=function(e){var t=$('<ul class="waf-toolbar"></ul>');return $(e).each(function(e,n){var r=$('<li class="waf-toolbar-element '+[].concat(n.className).join(" ")+'" title="'+n.title+'"></li>');if(n.icon){var i=new WAF.widget.Icon(n.icon);r.append(i.containerNode)}n.text&&r.append(n.text),n.click&&r.click(n.click),t.append(r)}),t};

/** minified js  - from ../walib/WAF/widget/dataGrid/widget-dataGrid.js at Thu, 09 Apr 2015 09:51:38 GMT */

WAF.classes.DataGrid=function(e){var t;WAF.PLATFORM.modulesString==="mobile"||WAF.PLATFORM.modulesString==="touch"?t=40:t=27,e.dataSource=e.dataSource||null,typeof e.inDesign=="undefined"&&(e.inDesign=!1);var n=new Image;n.src="../walib/WAF/widget/png/date-picker-trigger.png",e.colNames=e.colNames?e.colNames.split(","):null,e.colAttributes=e.colAttributes?e.colAttributes.split(","):null,options={columns:e.columns||null,colNames:e.colNames,colAttributes:e.colAttributes,colWidth:e.colWidth,parentNode:e.id,cacheSize:0,rowHeight:t,dataSource:WAF.source[e.dataSource],subscriberID:e.id,inDesign:e.inDesign,cls:e.cls,included:e.included,selMode:e.selMode,mustDisplayError:e.mustDisplayError,errorDiv:e.errorDiv,hideFooter:e.hideFooter,hideHeader:e.hideHeader,textFooter:e.textFooter},this.widget=WAF.widgets[e.id],this._private={globals:{processingRequests:0,itemCount:0,columnsDefinition:null,sortColumn:null,sortOrder:null,errorDiv:null,mustDisplayError:!0},functions:{parent:this,checkColumnsDefinition:function(e,t){if(typeof e=="undefined"||typeof t=="undefined")return null;var e=e.slice(),t=t.slice(),n=130;for(var r=0;r<e.length;r++){typeof options!="undefined"&&typeof options.colWidth!="undefined"&&(n=options.colWidth[r]?parseInt(options.colWidth[r]):130);if(typeof e[r]=="string")e[r]={sourceAttID:t[r],colID:t[r].split(".").join("_"),title:e[r],width:n,sortable:!0,readOnly:!1,specialEdit:!1};else{t[r].colID===undefined&&(t[r].colID=t[r].sourceAttID),t[r].title===undefined&&(t[r].title=t[r].sourceAttID),t[r].width===undefined&&(t[r].width=130),t[r].sortable===undefined&&(t[r].sortable=!0);if(t[r].readOnly===undefined||t[r].readOnly=="false")t[r].readOnly=!1}}return e},initWithOptions:function(e){var t=e.dataGrid;t.dataSource=e.dataSource,t.subscriberID=e.subscriberID,t.isIncluded=e.included||!1,e.errorDiv!=null&&t.widget.setErrorDiv(e.errorDiv),e.mustDisplayError!=null&&t.allowErrorDisplay(e.mustDisplayError),e.inDesign?t.isInDesign=!0:t.isInDesign=!1;if(e.columns==null)e.columns=this.checkColumnsDefinition(e.colNames?e.colNames:e.columns,e.colAttributes?e.colAttributes:e.columns),e.columns==null&&!t.isInDesign&&(e.columns=this.checkColumnsDefinition(dataSource.getAttributeNames()));else{var n=e.columns,r=n.length;for(var i=0;i<r;i++){var s=n[i];s.format!=null&&typeof s.format=="string"&&(s.format={format:s.format}),s.colID==null&&s.sourceAttID!=null&&(s.colID=s.sourceAttID.split(".").join("_")),s.sortable==null&&s.type!=="image"&&(s.sortable=!0)}}var o={cacheSize:e.cacheSize,columns:e.columns,rowHeight:e.rowHeight,cls:e.cls,selMode:e.selMode,hideFooter:e.hideFooter,hideHeader:e.hideHeader,textFooter:e.textFooter};t._private.globals.columnsDefinition=e.columns;if(!e.parentNodeId){if(!e.parentNode)return!1;o.createInNode=$("#"+e.parentNode)}else o.createInNode=$("#"+e.parentNodeId);t.gridController.gridView.initWithOptions(o),t.sortColumn=null,t.isInDesign?t.sortOrder=null:(t.sortOrder=null,t.sortColumn!=null&&t.gridController.gridView.setSortIndicator(t.sortColumn,t.sortOrder)),t.gridController.gridView.computeRowWidth(),t.redraw()}},handlers:{}},this.initWithOptions=function(e){return e.dataGrid=this,this._private.functions.initWithOptions(e),this},this.allowErrorDisplay=function(e){return typeof e=="boolean"&&(this._private.globals.mustDisplayError=e),this._private.globals.mustDisplayError},this.redraw=function(){if(!this.isInDesign){var e=0;this.dataSource&&(e=this.dataSource.length);for(var t=0;t<this.gridController.gridView._private.globals.rows.length;t++){var n=this.gridController.gridView._private.globals.rows[t];n.needsDataUpdate=!0}this._private.globals.itemCount=e,this.gridController.gridView.setRowCount(e),this.gridController.gridView._private.functions.updateRowPositions({gridView:this.gridController.gridView,forceUpdate:!0}),this.gridController.gridView._private.functions.updateVisibleRowData({gridView:this.gridController.gridView})}},this.kill=function(){this.gridController.gridView.kill()},this.gridController=new WAF.classes.GridController,this.gridController.dataGrid=this,this.gridController.errorHandler=function(e){var t=e.userData.gridView,n=t.gridController,r=n.onError,i=!0;if(r!=null){var s=r(e);s!=null&&s===!1&&(i=!1)}if(i&&n.dataGrid.widget._private.globals.mustDisplayError){var o=n.dataGrid.widget.getErrorDiv();e.message=e.userData.errorMessage||null,WAF.ErrorManager.displayError(e,o)}},this.gridController.getColumnCount=function(e){var t,n;return n=this.dataGrid._private.globals.columnsDefinition,typeof n=="object"?t=n.length:t=0,t},this.gridController.getRowCount=function(e){return this.dataGrid._private.globals.itemCount},this.gridController.setContentForRow=function(e){return this.dataGrid.isInDesign||this.dataGrid.dataSource&&this.dataGrid.dataSource.getElement(e,{onSuccess:this.parseElement,onFailure:this.parseElement,delay:10,delayID:this.dataGrid.subscriberID},this.dataGrid),[]},this.gridController.setStyleForRow=function(e){return{rowStyle:e%2?"waf-widget-odd":"waf-widget-even"}},this.gridController.isContentAvailableForRow=function(e){return!0},this.gridController.sortGridByColumn=function(e,t){if(!this.dataGrid.isInDesign){if(!this.dataGrid._private.globals.columnsDefinition[t].sortable)return;this.dataGrid.sortColumn!=null?(this.dataGrid.gridController.gridView.resetSortIndicator(this.dataGrid.sortColumn),t===this.dataGrid.sortColumn?!this.dataGrid.sortOrder|this.dataGrid.sortOrder==="desc"?this.dataGrid.sortOrder="asc":this.dataGrid.sortOrder="desc":this.dataGrid.sortOrder="asc"):this.dataGrid.sortOrder="asc",this.dataGrid.sortColumn=t,this.dataGrid.gridController.gridView.setSortIndicator(this.dataGrid.sortColumn,this.dataGrid.sortOrder),this.dataGrid.dataSource.orderBy(this.dataGrid._private.globals.columnsDefinition[t].sourceAttID+" "+this.dataGrid.sortOrder)}},this.gridController.parseElement=function(e){var t=e.data,n=e.position,r=e.element,i=t.gridController.gridView;e.error!=null&&e.error.length>0?i.drawRow(n,null):i.drawRow(n,r)},this.column=function(e,t){return this.gridController.gridView.column(e,t)},this.columns=function(e){return this.gridController.gridView.columns(e)},this.centerRow=function(e,t){t=t;var n=this.gridController.gridView;n.centerRow(e,t)},this.setOptions=function(e){var t=this.gridController.gridView;t.setOptions(e)},this.setReadOnly=function(e){var t=!0;arguments.length>0&&typeof e=="boolean"&&(t=e),this.readOnly=t,t?$("#"+this.subscriberID+" .waf-dataGrid-footer .waf-toolbar").hide():$("#"+this.subscriberID+" .waf-dataGrid-footer .waf-toolbar").show();var n=this.columns();n!=null&&n.forEach(function(e,n,r){e.readOnly=t})},this.getSortIndicator=function(){return{colNb:this.sortColumn,order:this.sortOrder}},this.setSortIndicator=function(e,t){this.sortColumn=e,this.sortOrder=t,this.gridController.gridView.setSortIndicator(e,t)},this.resetSortIndicator=function(e){this.sortColumn=null,this.sortOrder=null,this.gridController.gridView.resetSortIndicator(e)},this.hideSortIndicators=function(){this.$domNode.find(".waf-sort").hide()},this.showSortIndicators=function(){this.$domNode.find(".waf-sort").show()},this.sortAgain=function(e,t){var n=this.sortColumn!==null?this.sortColumn:-1,r=this.sortOrder?this.sortOrder:"";e=e||{},t=t||null,n>=0&&(r==="asc"||r==="desc")&&this.dataSource.orderBy(this._private.globals.columnsDefinition[n].sourceAttID+" "+r,e,t)},this.getSelectionMode=function(){return this.gridController.gridView.getSelectionMode()},this.setSelectionMode=function(e){this.gridController.gridView.setSelectionMode(e)},this.countSelected=function(){return this.gridController.gridView.countSelected()},this.getSelectedRows=function(){return this.gridController.gridView.getSelectedRows()},this.setSelectedRows=function(e){this.gridController.gridView.setSelectedRows(e)},this.getSelection=function(){return this.gridController.gridView.getSelection()},this.reduceToSelected=function(e,t){var n;this.gridController.gridView.countSelected()===this.dataSource.length?this.gridController.gridView.resetSelection():this.dataSource.buildFromSelection(this.getSelection(),e,t)},this.setRowHeight=function(e){this.gridController.gridView.setRowHeight(e),this.redraw()},this.getRowHeight=function(){return this.gridController.gridView._private.globals.rowHeight},this.goToCell=function(e,t,n){this.gridController.gridView.goToCell(e,t)},this.stopEditing=function(e){this.gridController.gridView.goToCell(rowPos,colID)},!options||this.initWithOptions(options);var r=this;return!this.isInDesign&&this.dataSource!=null&&this.widget&&typeof Designer=="undefined"&&(this.dataSource.removeListener({widgetId:this.widget.id}),this.dataSource.addListener("all",WAF.classes.DataGrid.gridSourceEventHandler,{id:this.widget.id,listenerID:options.subscriberID,listenerType:"grid"},{dataGrid:this})),!this.isInDesign&&this.dataSource!=null&&(this.gridController.onRowClick=function(e){}),this},WAF.classes.DataGrid.widgetBoolHandler=function(e,t,n){var r=$(e).parent(),i=r[0].gridRow,s=r[0].gridCell,o=i.gridView.gridController.dataGrid.dataSource,u=o.getAttribute(s.col.sourceAttID);u!=null&&(i.gridView._private.globals.needAutoSave=!0,u.setValue(n),o.save())},WAF.classes.DataGrid.checkBoxBlurHandler=function(e){var t=$(this).parent(),n=t[0].gridRow,r=t[0].gridCell,i=this,s=n.gridView;s._private.globals.editInfo!=null},WAF.classes.DataGrid.checkBoxHandler=function(e){var t=$(this).parent(),n=this,r=t[0].gridRow,i=r.gridView,s=i._private.globals.currentRow===r.rowNumber;if(this.readOnly){this.checked=!this.checked;return}var o=this.checked;s&&WAF.classes.DataGrid.widgetBoolHandler(this,e,o)},WAF.classes.DataGrid.radioTrueHandler=function(e){WAF.classes.DataGrid.widgetBoolHandler(this,e,!0)},WAF.classes.DataGrid.radioFalseHandler=function(e){WAF.classes.DataGrid.widgetBoolHandler(this,e,!1)},WAF.classes.DataGrid.gridSourceEventHandler=function(e){var t=e.data.dataGrid,n=t.gridController.gridView,r=n._private.functions,i=n._private.globals;if(e.eventKind=="onCollectionChange"){var s=e.dataSource.getPosition();i.currentRow=s,r.hideCurrentRows({gridView:n}),e.transformedSelection==null&&n.resetSelection(),t.redraw(),r.showCurrentRows({gridView:n})}if(e.eventKind=="onSelectionChange")r.hideCurrentRows({gridView:n}),r.showCurrentRows({gridView:n});else if(e.eventKind=="onAttributeChange"){var s=e.dataSource.getPosition();if(t.dataSource.getAttribute(e.attributeName).kind=="relatedEntity"){var o=new RegExp("^"+e.attributeName+"(\\.\\w+|)$");t._private.globals.columnsDefinition.forEach(function(t){o.test(t.sourceAttID)&&n.updateCell(s,t.colID,e.dataSource.getAttributeValue(t.sourceAttID))})}else{var u=t.column(e.attributeName),a=e.dataSource[e.attributeName];n.updateCell(s,e.attributeName,a)}}else if(e.eventKind=="onBeforeCurrentElementChange"){var s=e.dataSource.getPosition();n.drawRow(s,e.dataSource,!0),i.needAutoSave&&(i.needAutoSave=!1,e.dataSource.save({onError:n.gridController.errorHandler||null}))}else if(e.eventKind=="onCurrentElementChange"||e.eventKind=="onCollectionChange"){var f=null;e.eventData!=null&&(f=e.eventData.mustSelectRows||null),f!=null&&r.hideCurrentRows({gridView:n});var s=e.dataSource.getPosition();n.setCurrentRow(s,e.transformedSelection!=null),n.drawRow(s,e.dataSource);if(f!=null){var l=n.getSelection();l.setSelectedRows(f),r.showCurrentRows({gridView:n})}var c=e.dispatcherOptions,h=this;if(WAF.PLATFORM.modulesString==="mobile"){var p=new jQuery.Event("touchend");p.touches=[],$("#"+t.subscriberID+"-viewportNode").trigger(p)}c!=null&&c.gridView!=null&&c.execOnEventDispatch!=null&&c.execOnEventDispatch(c.gridView)}else if(e.eventKind=="onElementSaved"){var s=e.position,d=e.element;n.drawRow(s,d)}},WAF.gridUtil==null&&(WAF.gridUtil={}),WAF.classes.GridView=function(){var e=this,t=WAF.PLATFORM.modulesString==="mobile"||WAF.PLATFORM.modulesString==="touch"?25:32,n=WAF.PLATFORM.modulesString==="mobile"||WAF.PLATFORM.modulesString==="touch"?25:30,r;return WAF.PLATFORM.modulesString==="mobile"?r=50:r=27,this._private={globals:{options:{autoScrollOnSelected:!0},headerNode:null,headerContainerNode:null,targetNode:null,viewportNode:null,viewportContainerNode:null,statusNode:null,rows:[],pageSize:0,visibleRowCount:0,visibleAndCacheRowCount:0,totalRowCount:0,rowHeight:r,enableAlternateRowStyling:!0,rowContentUpdateDelayInMs:0,rowContentUpdateDelayEvent:null,useHoverEffectForRows:!0,columns:[],cellNeedsUpdateHTMLContent:"&nbsp",cacheSizeInPages:0,cacheSizeInRows:0,currentlyUpdatingRowPositions:!1,vScrollBarWidth:WAF.CSS.getScrollBarWidth(),resizeHasBeenStarted:!1,editHasBeenStarted:!1,currentRow:-1,lastActiveCell:null},selection:{cssClass:"waf-state-active",curEvt:null},functions:{initWithOptions:function(e){var r=e.gridView;e.cacheSize!=undefined&&e.cacheSize!=null&&(r._private.globals.cacheSizeInPages=e.cacheSize),!e.rowHeight||(r._private.globals.rowHeight=e.rowHeight);if(e.selMode&&e.selMode==="multiple"||e.selMode==="none"){var i=r.getSelection();i!=null&&i.reset(e.selMode)}e.hideFooter?r._private.globals.footerHeight=0:r._private.globals.footerHeight=n,e.hideHeader?r._private.globals.headerHeight=0:r._private.globals.headerHeight=t,r._private.globals.footerText=e.textFooter,r._private.functions.initGridDOMatNode({node:e.createInNode,gridView:r,columns:e.columns,cls:e.cls})},initGridDOMatNode:function(e){function l(e){t._private.functions.endEditCell({gridView:t,saveAnyway:!0,saveHandler:function(n){WAF.gridUtil.addRow(t)}})}function c(e){t._private.functions.endEditCell({gridView:t,saveAnyway:!0,saveHandler:function(n){WAF.gridUtil.delRow(t)}})}var t=e.gridView,n=this,r=e.node;t._private.globals.targetNode=e.node,r.data("type","dataGrid").addClass("waf-widget waf-dataGrid "+e.cls||"").empty();var i=$("<div></div>").addClass("waf-widget-header waf-dataGrid-header waf-user-select-none");t._private.globals.headerNode=i,i.appendTo(r);var s=$("<div></div>").addClass("container");t._private.globals.headerContainerNode=s,s.appendTo(i);var o=$("<div></div>").addClass("waf-widget-body waf-dataGrid-body");WAF.PLATFORM.modulesString==="mobile"&&o.prop("id",e.node[0].id+"-viewportNode"),t._private.globals.viewportNode=o,o.appendTo(r),o.bind("scroll",{gridView:t},t._private.functions.onViewportScroll);var u=$("<div></div>").addClass("container");t._private.globals.viewportContainerNode=u,u.appendTo(o),WAF.PLATFORM.modulesString==="mobile"&&($(window).bind("orientationchange",function(t){window.setTimeout(function(){$$(e.node[0].id).redraw()},0)}),u[0].id=e.node[0].id+"-viewportContainerNode",u.bind("touchmove",{gridView:t},function(){t._private.globals.headerContainerNode.css("margin-left",t._private.globals.viewportContainerNode.position().left+"px"),t._private.globals.containerMoved=!0,t._private.globals.istouch=!1}),o.bind("touchend",{gridView:t},t._private.functions.onViewportScroll));var a=$("<div></div>").addClass("waf-widget-footer waf-dataGrid-footer waf-status waf-user-select-none");t._private.globals.statusNode=a,a.appendTo(r);var f=$("<div></div>").addClass("waf-status-element waf-status-left");t._private.globals.statusLeftContainer=f,f.appendTo(a);var h=new WAF.widget.Toolbar([{icon:{size:16,type:"plus"},text:"",title:"Add",click:!t.gridController.dataGrid.isInDesign&&l},{icon:{size:16,type:"minus"},text:"",title:"Delete",click:!t.gridController.dataGrid.isInDesign&&c}]);h.appendTo(f);var p=$("<div></div>").addClass("waf-status-element waf-status-center");t._private.globals.statusCenterContainer=p,p.appendTo(a);var d=$("<div></div>").addClass("waf-status-element waf-status-right");t._private.globals.statusRightContainer=d,d.appendTo(a);if(!!t.gridController&&!!t.gridController.getColumnCount){var v=t.gridController.getColumnCount(t);!v||t._private.functions.setColumnCount({gridView:t,columnCount:v,columns:e.columns})}t._private.functions.updateHeaderSize({gridView:t}),t._private.functions.updateViewportSize({gridView:t}),t._private.functions.updateStatusSize({gridView:t}),t._private.functions.updateViewportContainerSize({gridView:t}),t._private.functions.updateDOMToMatchRowAndColumnCounts({gridView:t,columns:e.columns,init:!0}),t.gridController.dataGrid.isInDesign||t.gridController.dataGrid.dataSource==null&&$('<div class="waf-datagrid-missingBinding">Datasource is either missing <br>or <br>invalid</div>').appendTo(u)},refresh:function(e){var t=e.gridView;t._private.functions.updateViewportContainerSize({gridView:t}),t._private.functions.updateDOMToMatchRowAndColumnCounts({gridView:t});for(var n=0;n<t._private.globals.rows.length;n++)t._private.globals.rows[n].needsDataUpdate=!0;t.computeRowWidth(),t._private.functions.updateRowPositions({gridView:t,forceUpdate:!0}),t._private.functions.updateVisibleRowData({gridView:t})},setTotalRowCount:function(e){var t=e.gridView,n=e.rowCount,r=t._private.globals,i=t._private.functions;r.totalRowCount=n,i.updateViewportSize({gridView:t}),i.updateViewportContainerSize({gridView:t}),r.statusCenterContainer.html(n+" "+r.footerText),i.updateDOMToMatchRowAndColumnCounts({gridView:t}),WAF.PLATFORM.modulesString==="mobile"&&(t._private.scrollObject&&t._private.scrollObject.destroy(),t._private.scrollObject=new iScroll(t._private.globals.targetNode[0].id+"-viewportNode",{desktopCompatibility:!1}))},setColumnCount:function(e){var t=e.gridView,n=e.columnCount;t._private.globals.colsByID={};for(var r=0;r<n;r++){var i=e.columns[r],s=null,o=null,u=t.gridController.dataGrid.dataSource;u!=null&&(u.getClassAttributeByName!=null&&(s=u.getClassAttributeByName(i.sourceAttID),s!=null&&u.declareDependencies(i.sourceAttID)),u.getAttribute!=null&&(o=u.getAttribute(i.sourceAttID)));var a={};s!=null&&s.defaultFormat!=null&&(a=s.defaultFormat),i.format!=null&&(a=i.format);var f=!1;i.readOnly=="false"&&(i.readOnly=!1);if(i.readOnly||s==null||s.readOnly)f=!0;if(o==null||!o.isFirstLevel||!o.simple)f=!0;var l=!1;s!=null&&(s.type==="image"||s.type==="bool"||s.type==="boolean")&&(l=!0);var c=e.gridView.gridController.dataGrid.widget,h={columnNumber:r,title:i.title,style:i.style,width:i.width,type:i.type,format:a,readOnly:f,specialEdit:l,originalWidth:i.width,sourceAttID:i.sourceAttID,colID:i.colID,gridview:t,setTextSize:WAF.classes.GridColumn.setTextSize,setFontSize:WAF.classes.GridColumn.setTextSize,setWidth:WAF.classes.GridColumn.setWidth,setTextColor:WAF.classes.GridColumn.setTextColor,setColor:WAF.classes.GridColumn.setColor,setBackgroundColor:WAF.classes.GridColumn.setBackgroundColor,setRenderer:WAF.classes.GridColumn.setRenderer,setFormat:WAF.classes.GridColumn.setFormat,setAlignment:WAF.classes.GridColumn.setAlignment,hideSortIndicators:WAF.classes.GridColumn.hideSortIndicators,showSortIndicators:WAF.classes.GridColumn.showSortIndicators,source:u,att:s,getFormattedValue:c?c.getFormattedValue:null,getValueForInput:c?c.getValueForInput:null};if(!!t.gridController.setPropertiesForColumn){var p=t.gridController.setPropertiesForColumn(h);!p.width||(h.width=p.width)}t._private.globals.columns.push(h),t._private.globals.colsByID[i.colID]=h}},updateViewportSize:function(e){var t=e.gridView,n,r;n=t._private.globals.headerHeight,r=t._private.globals.footerHeight,t._private.globals.viewportNode.css({left:0,right:0,top:n+"px",bottom:r+"px"})},updateHeaderSize:function(e){var t=e.gridView;t._private.globals.headerNode.css({left:0,right:0}),t._private.globals.headerNode.height(t._private.globals.headerHeight),t._private.globals.headerHeight===0&&t._private.globals.headerNode.css("border-width","0px 0px 0px 0px")},updateStatusSize:function(e){var t=e.gridView,n;t._private.globals.statusNode.css({left:0,right:0,bottom:0}),n=t._private.globals.footerHeight,t._private.globals.statusNode.height(n)},updateViewportContainerSize:function(e){var t=e.gridView,n=0;for(var r=0;r<t._private.globals.columns.length;r++)n+=parseInt(t._private.globals.columns[r].width);n<t._private.globals.viewportNode.width()&&(WAF.PLATFORM.modulesString==="mobile"?n=parseInt(t._private.globals.viewportNode.width()):n=parseInt(t._private.globals.viewportNode.width()-t._private.globals.vScrollBarWidth-1)),t._private.globals.viewportContainerNode.width(n),t._private.globals.headerContainerNode.width(n),t._private.globals.headerContainerNode.height(32);var i=0;if(!!t.gridController)if(t.gridController.dataGrid.isInDesign)i=200,t._private.globals.totalRowCount=i;else if(!!t.gridController.getRowCount){var i=t.gridController.getRowCount(t);t._private.globals.totalRowCount=i}var s=t._private.globals.rowHeight*i;s>17895697&WAF.utils.environment.browser.firefox3?t._private.globals.viewportContainerNode.height(17895697):t._private.globals.viewportContainerNode.height(s)},updateDOMToMatchRowAndColumnCounts:function(e){var t=e.gridView,n=e.init||!1,r=Math.ceil(t._private.globals.viewportNode.height()/t._private.globals.rowHeight)+1;t._private.globals.pageSize=r;var i=Math.ceil(r*t._private.globals.cacheSizeInPages),s=r+i*2;t._private.globals.visibleRowCount=r,t._private.globals.visibleAndCacheRowCount=s,t._private.globals.cacheSizeInRows=i;var o=t.gridController.getColumnCount();t._private.globals.headerContainerNode.cells==undefined&&(t._private.globals.headerContainerNode.cells=[]);while(t._private.globals.headerContainerNode.cells.length>o){var u=t._private.globals.headerContainerNode.cells.pop();u.dom.remove()}var a=0;while(t._private.globals.headerContainerNode.cells.length<o){var f=t._private.globals.headerContainerNode.cells.length,l=t._private.globals.columns[f],c=l.colID,h=l.width;f===o-1&&(h=t._private.globals.viewportContainerNode.width()-a),a+=h;var u={dom:$('<div class="waf-dataGrid-cell waf-dataGrid-col-'+c+" waf-dataGrid-col-"+f+'"></div>').appendTo(t._private.globals.headerContainerNode)};e.columns[f].sortable&&u.dom.addClass("clickable");try{u.dom.width(h-parseInt(u.dom.css("border-left-width"))-parseInt(u.dom.css("border-right-width"))-parseInt(u.dom.css("padding-left"))-parseInt(u.dom.css("padding-right"))-parseInt(u.dom.css("margin-left"))-parseInt(u.dom.css("margin-right")))}catch(p){u.dom.width(h)}var d=new WAF.widget.Icon({size:16,type:"arrowUp",className:"waf-icon-sortAsc"}),v=new WAF.widget.Icon({size:16,type:"arrowDown",className:"waf-icon-sortDesc"});u.sortIndicator=$('<div class="waf-sort"></div>').append(d.containerNode).append(v.containerNode),u.title=$('<div class="content"></div>'),u.resizeIndicator=$('<div class="resize"></div>'),u.dom.append(u.title,u.sortIndicator,u.resizeIndicator),u.dom.width(h);var m=u.dom.outerWidth(),g=u.dom.width();m>g&&u.dom.width(m+(m-g)),u.dom.bind("click",{gridView:t,cell:u,columnNumber:f},t._private.functions.onHeaderClick),t._private.globals.headerContainerNode.cells.push(u),u.resizeIndicator.gridView=t,u.resizeIndicator.bind("mousedown",{gridView:t,columnNumber:f},t._private.functions.startColResize),u.resizeIndicator.bind("click",{gridView:t,columnNumber:f},t._private.functions.onResizeClick)}for(var y=0;y<o;y++)e.columns&&t._private.globals.headerContainerNode.cells[y].title.html(e.columns[y].title);var b=0;for(var y=0;y<t._private.globals.columns.length;y++)if(y===t._private.globals.columns.length-1){var w=t._private.globals.viewportContainerNode.width()-b;b+=w-1}else b+=parseInt(t._private.globals.columns[y].originalWidth,10);b+=t._private.globals.columns.length-1;if(t._private.globals.totalRowCount<r)while(t._private.globals.rows.length>r){var E=t._private.globals.rows.pop();E.insideDom.remove(),E.dom.remove()}else t._private.globals.viewportContainerNode.width(b);if(t.gridController.dataGrid.isInDesign)for(var S=0;S<3;S++){var E={dom:$("<div></div>").addClass("waf-widget-content waf-dataGrid-row").appendTo(t._private.globals.viewportContainerNode),offsetTop:N*t._private.globals.rowHeight,rowNumber:0,needsDataUpdate:!1,cells:[],style:"",oldStyle:""};E.dom.width(b),E.insideDom=$("<div></div>").addClass("waf-datagrid-row-inside").appendTo(E.dom),E.insideDom.width(b),E.dom.height(t._private.globals.rowHeight);for(var f=0;f<o;f++){var l=t._private.globals.columns[f],h=l.width,x=l.style,c=l.colID,T="Text",u={dom:$('<div class="waf-dataGrid-cell waf-dataGrid-col-'+c+" waf-dataGrid-col-"+f+'"></div>').addClass(x).appendTo(E.insideDom)};l.type&&l.type==="image"&&(T="Image"),u.insideCell=$('<div class="content">'+T+"</div>").appendTo(u.dom);try{u.dom.width(h-parseInt(u.dom.css("border-left-width"))-parseInt(u.dom.css("border-right-width"))-parseInt(u.dom.css("padding-left"))-parseInt(u.dom.css("padding-right"))-parseInt(u.dom.css("margin-left"))-parseInt(u.dom.css("margin-right")))}catch(p){u.dom.width(h)}u.insideCell.width(h),E.cells.push(u)}t._private.globals.rows.push(E)}else{var N=t._private.globals.rows.length;while(t._private.globals.rows.length<s){var E={dom:$("<div></div>").addClass("waf-widget-content waf-dataGrid-row").appendTo(t._private.globals.viewportContainerNode),offsetTop:n?0:N*t._private.globals.rowHeight,rowNumber:N,needsDataUpdate:!0,cells:[],style:"",oldStyle:""};E.insideDom=$("<div></div>").addClass("waf-datagrid-row-inside").appendTo(E.dom),E.dom[0].gridRow=E,E.dom.width(b),E.insideDom.width(b),E.insideDom[0].gridRow=E,E.dom.height(t._private.globals.rowHeight),E.insideDom.height(t._private.globals.rowHeight);if(!t.gridController.dataGrid.isInDesign){WAF.PLATFORM.modulesString==="mobile"?(E.dom.bind("touchend",{gridView:t,row:E},t._private.functions.onRowClick),E.dom.bind("touchend",function(e){var n=(new Date).getTime(),r=$(this).data("lastTouch")||n+1,i=n-r;i<300&&i>0&&t.gridController.onRowDblClick&&t.gridController.onRowDblClick(e),$(this).data("lastTouch",n)})):E.dom.mouseover(function(){var e=this.gridRow;(e==null||e.rowNumber<t._private.globals.totalRowCount)&&$(this).addClass("waf-state-hover")}).mouseout(function(){$(this).removeClass("waf-state-hover")}).bind("click",{gridView:t,row:E},t._private.functions.onRowClick).bind("contextmenu",{gridView:t,row:E},t._private.functions.onRowRightClick).bind("dblclick",{gridView:t,row:E},t.gridController.baseDblClick),N++;for(var f=0;f<o;f++){var l=t._private.globals.columns[f],h=l.width,x=l.style,c=l.colID,u={dom:$('<div class="waf-dataGrid-cell waf-dataGrid-col-'+c+" waf-dataGrid-col-"+f+'"></div>').addClass(x).appendTo(E.insideDom)};u.insideCell=$('<div class="content"></div>').appendTo(u.dom),l.att!=null&&l.att.type==="image"&&u.insideCell.addClass("content-img");try{u.dom.width(h-parseInt(u.dom.css("border-left-width"))-parseInt(u.dom.css("border-right-width"))-parseInt(u.dom.css("padding-left"))-parseInt(u.dom.css("padding-right"))-parseInt(u.dom.css("margin-left"))-parseInt(u.dom.css("margin-right")))}catch(p){u.dom.width(h)}u.insideCell.width(h),E.cells.push(u),WAF.PLATFORM.modulesString==="mobile"?(u.dom.bind("touchstart",{gridView:t,columnNumber:f,row:E,cell:u},function(e){t._private.globals.istouch=!0,t._private.functions.onCellClick(e)}),u.dom.bind("touchend",{gridView:t,columnNumber:f,row:E,cell:u},function(e){var t=e.data.gridView,n=(new Date).getTime(),r=$(this).data("lastTouch")||n+1,i=n-r;t._private.globals.istouch=!1,i<300&&i>0&&(t.gridController.onRowDblClick&&t.gridController.onRowDblClick(e),t._private.functions.onCellDblClick(e)),$(this).data("lastTouch",n)})):(u.dom.bind("dblclick",{gridView:t,columnNumber:f,row:E,cell:u},t._private.functions.onCellDblClick),u.dom.bind("click",{gridView:t,columnNumber:f,row:E,cell:u},t._private.functions.onCellClick),u.dom.bind("mouseover",function(){$(this).addClass("waf-state-hover")}),u.dom.bind("mouseout",function(){$(this).removeClass("waf-state-hover")}))}}if(n){n=!1;var C=E.dom.outerHeight(),k=E.insideDom.height();C<k&&(C=k),t._private.globals.rowHeight=C,E.dom.height(C),E.insideDom.height(C)}t._private.globals.rows.push(E)}}t._private.globals.viewportContainerNode.height()<=t._private.globals.viewportNode.height()?(t._private.globals.viewportNode.css("overflow-y")==="auto"&&t._private.globals.viewportNode.scrollTop(0),t._private.globals.viewportNode.css("overflow-y","hidden"),t.computeRowWidth(!0)):t._private.globals.viewportNode.css("overflow-y","auto")},onViewportScroll:function(e){var t=e.data.gridView,n=t._private.functions,r=t._private.globals;if(WAF.PLATFORM.modulesString==="mobile")if(!r.rowClicked){var i=r.viewportContainerNode.position().top,s=r.viewportContainerNode.position().left,o=0,u,a,f;f=setInterval(function(){u=r.viewportContainerNode.position().top,a=r.viewportContainerNode.position().left;if(u!=i||a!=s||o===0)o++,a!=s&&r.headerContainerNode.css("margin-left",a+"px"),n.hideCurrentRows({gridView:t}),n.updateRowPositions({gridView:t}),n.updateVisibleRowData({gridView:t}),n.showCurrentRows({gridView:t}),i=u;else{clearInterval(f);var l=e;r.containerMoved&&(window.setTimeout(function(){t._private.functions.onViewportScroll(l)},50),r.containerMoved=!1)}s=r.viewportContainerNode.position().left},50)}else r.rowClicked=!1;else{r.headerNode.scrollLeft(e.target.scrollLeft);var l=r.headerNode[0],c=l.scrollLeft;c<e.target.scrollLeft&&(r.headerContainerNode.width(r.headerContainerNode.width()+e.target.scrollLeft-c),r.headerNode.scrollLeft(e.target.scrollLeft)),$(".waf-state-hover",t._private.globals.targetNode).removeClass("waf-state-hover"),n.hideCurrentRows({gridView:t}),n.updateRowPositions({gridView:t}),n.updateVisibleRowData({gridView:t}),n.showCurrentRows({gridView:t})}},showCurrentRows:function(e){var t=e.gridView,n=t._private.globals,r=t._private.selection,i=t.getSelection(),s=t._private.functions,o=r.cssClass,u,a,f;if(i!=null)if(i.isModeSingle())u=n.currentRow,u!=null&&u!=-1&&(a=s.getRowByRowNumber({gridView:t,rowNumber:u}),a!=null&&a.dom.addClass(o));else if(i.isModeMultiple()){f=n.rows;for(var l=0,c=f.length;l<=c;++l)a=f[l],a!=null&&i.isSelected(a.rowNumber)&&a.dom.addClass(o)}},hideCurrentRows:function(e){var t=e.gridView,n=t._private.selection,r=t.getSelection();classActive=n.cssClass,r!=null&&(r.isModeSingle()?$(".waf-dataGrid-row."+classActive,t._private.globals.targetNode).removeClass(classActive):r.isModeMultiple()&&$("#"+t.gridController.dataGrid.subscriberID+" .waf-widget-body .container").children().removeClass(classActive))},updateRowPositions:function(e){var t=e.gridView,n=e.forceUpdate||!1,r=t._private.globals,i=r.rows,s=t.gridController.dataGrid;if(s.dataSource==null)return;t.fixWebKitBug();if(r.currentlyUpdatingRowPositions)return window.setTimeout(function(){t._private.functions.updateRowPositions(e)},100),!1;r.currentlyUpdatingRowPositions=!0;var o;WAF.PLATFORM.modulesString==="mobile"?o=-t._private.globals.viewportContainerNode.position().top:o=r.viewportNode.scrollTop();var u=Math.floor(o/r.rowHeight)-r.cacheSizeInRows;u=u>=0?u:0;var a=u%i.length,f=u+i.length-1;f=f<=r.totalRowCount?f:r.totalRowCount;var l=f%i.length;s.dataSource.setDisplayLimits(s.subscriberID,u,f);if(i[a].rowNumber!==u||i[l].rowNumber!==f||n)for(var c=0;c<i.length;c++){var h=a+c<i.length?a+c:c-(i.length-a),p=i[h],d=u+c,v=p.rowNumber;if(v!==d||n){var m=d*r.rowHeight;for(var g=0;g<p.cells.length;g++)p.cells[g].insideCell.html(r.cellNeedsUpdateHTMLContent),p.cells[g].dom.height(r.rowHeight),p.cells[g].insideCell.height(r.rowHeight);p.rowNumber=d,p.needsDataUpdate=!0,p.dom.css("top",m+"px")}}r.currentlyUpdatingRowPositions=!1},updateVisibleRowData:function(e){var t=e.gridView;if(t._private.globals.rowContentUpdateDelayInMs!==0){window.clearTimeout(t._private.globals.rowContentUpdateDelayEvent),t._private.globals.rowContentUpdateDelayEvent=null;if(!e.isDelayed){var n=e;n.isDelayed=!0,t._private.globals.rowContentUpdateDelayEvent=window.setTimeout(function(){t._private.functions.updateVisibleRowData(n)},t._private.globals.rowContentUpdateDelayInMs);return}}var r;WAF.PLATFORM.modulesString==="mobile"?r=-t._private.globals.viewportContainerNode.position().top:r=t._private.globals.viewportNode.scrollTop();var i=Math.floor(r/t._private.globals.rowHeight);i=i>=0?i:0;var s=i%t._private.globals.rows.length;for(var o=s;o<t._private.globals.rows.length;o++){var u=t._private.globals.rows[o];u.needsDataUpdate&&(u.dom.removeClass("waf-state-hover"),!t.gridController||!t.gridController.setContentForRow||(t._private.functions.setRowContents({contents:t.gridController.setContentForRow(u.rowNumber),rowNumber:u.rowNumber,gridView:t}),u.style=t.gridController.setStyleForRow(u.rowNumber).rowStyle,u.style!=u.oldStyle&&(u.dom.addClass(u.style),u.dom.removeClass(u.oldStyle),u.oldStyle=u.style),u.needsDataUpdate=!1))}for(var o=0;o<s;o++){var u=t._private.globals.rows[o];u.needsDataUpdate&&(u.dom.removeClass("waf-state-hover"),!t.gridController||!t.gridController.setContentForRow||(t.gridController.setContentForRow(u.rowNumber),t._private.functions.setRowContents({contents:t.gridController.setContentForRow(u.rowNumber),rowNumber:u.rowNumber,gridView:t}),u.style=t.gridController.setStyleForRow(u.rowNumber).rowStyle,u.style!=u.oldStyle&&(u.dom.addClass(u.style),u.dom.removeClass(u.oldStyle),u.oldStyle=u.style),u.needsDataUpdate=!1))}},setRowContents:function(e){var t=e.gridView,n=e.contents,r=e.rowNumber;if(!n)return;var i=t._private.functions.getRowByRowNumber({gridView:t,rowNumber:r});if(!i)var u="";else for(var s=0;s<i.cells.length;s++){var o=i.cells[s];o.insideCell.html(n[s])}},getRowByRowNumber:function(e){var t=e.gridView,n=e.rowNumber;for(var r=0;r<t._private.globals.rows.length;r++){var i=t._private.globals.rows[r];if(i.rowNumber===n)return i}return null},onRowClick:function(e){var t=e.data.gridView,n=t._private.globals,r=e.data.row,i=!0;if(WAF.PLATFORM.modulesString==="mobile"&&t._private.globals.containerMoved)return;if(r.rowNumber<n.totalRowCount&&i&&t.currentEditingRow()!=r.rowNumber){t._private.functions.endEditCell({gridView:t}),t._private.selection.curEvt=e;var s=e;t.gridController.dataGrid.dataSource.select(r.rowNumber,{onSuccess:function(e){!t.gridController.onRowClick||t.gridController.onRowClick(s)}})}return!0},onRowRightClick:function(e){var t,n,r,i;return n=e.data.gridView,t=e.data.row,i=!0,r=e,n.gridController.dataGrid.dataSource.select(t.rowNumber,{onSuccess:function(e){!n.gridController.onRowRightClick||(i=n.gridController.onRowRightClick(r))}}),i},onMouseUp:function(e){var t=e.data.gridView,n=e.data.row},onCellDblClick:function(e){var t=e.data.gridView;WAF.PLATFORM.modulesString==="mobile"&&(t._private.globals.istouch=!1);var n=e.data.row;n.rowNumber<t._private.globals.totalRowCount&&t._private.functions.startEditCell(e.data)},startEditCell:function(e){var t=!0,n=e.gridView,r=n._private.globals.editInfo,i,s,o=!1;r!=null&&e.row!=null&&e.row.rowNumber==r.rowNumber&&e.columnNumber==r.column.columnNumber&&(t=!1),e.gridView&&(s=e.gridView.column(e.columnNumber+1),s&&(o=s.readOnly));if(t&&!o){i=e.cell.insideCell.find("input[type=checkbox]"),WAF.PLATFORM.isTouch?i.length!=0&&i.trigger("click"):i.focus(),n._private.functions.endEditCell(e);var u=n.gridController.dataGrid.dataSource;u!=null&&u.select(e.row.rowNumber,{onSuccess:function(t){var n=t.data,r=n.gridView,s=n.row,o=n.cell,a=r.column(n.columnNumber+1);if(!a.readOnly&&!a.specialEdit){s.dom.removeClass("waf-state-active").addClass("waf-state-selected");var f=o.insideCell.outerWidth(),l=o.dom.outerWidth();o.insideCell.hide(),o.dom.addClass("editing");var c=$('<input type="text" value="" class="content-edit"/>'),h=null,p=u.getAttribute(a.sourceAttID);p!=null&&(c[0].value=p.getValueForInput()),c.appendTo(o.dom),c.width(f),c.bind("keydown",{gridView:r,row:s,rowNumber:s.rowNumber,column:a,cell:e.cell,editArea:c},r._private.functions.inputKeypressHandler),c.bind("blur",{gridView:r},r._private.functions.editBlurHandler);var d=r._private.globals.targetNode.data("theme");if(a.att&&a.att.type=="date"){o.dom.css("min-width",l+"px");if(WAF.PLATFORM.isTouch)WAF.PLATFORM.OS==="iOs"&&WAF.PLATFORM.OSVersion>=5?c[0].type="date":c.scroller();else{var v=c.outerWidth();c.css("margin-right","3px"),h=$('<img src="../walib/WAF/widget/png/date-picker-trigger.png" style="float:right;margin-right:5px;margin-top:4px;" />'),h.appendTo(o.dom),c.width(v-7-h.outerWidth(!0)),h._isDataPickerLoaded=!1,h.bind("click",{gridView:r},function(e){if(!this._isDataPickerLoaded){c[0].dontKillOnBlur=!0,c[0].focus();var t=c.offset();c.datepicker("dialog",p.getValue(),function(e,t){c[0].value=e,c[0].dontKillOnBlur=!1,c[0].focus()},{changeMonth:!0,changeYear:!0});var n=c.datepicker("widget");n.addClass(d),n.css("opacity","100"),n.css("z-index","9999"),t.top+=c.outerHeight()+2,n.offset(t),this._isDataPickerLoaded=!0;var r=new RegExp("#dp[0-9]+"),i=r.exec(n.find("a")[0].onclick);i&&$(i[0]).css("display","none")}else this._isDataPickerLoaded=!1})}}c[0].focus(),r._private.globals.editInfo={row:s,rowNumber:s.rowNumber,column:a,cell:e.cell,editArea:c,imgArea:h},r._private.globals.editHasBeenStarted=!0}else i.bind("keydown",{gridView:r,row:s,rowNumber:s.rowNumber,column:a,cell:e.cell,editArea:c},r._private.functions.inputKeypressHandler),c=i,r._private.globals.editInfo={row:s,rowNumber:s.rowNumber,column:a,cell:e.cell,editArea:c,imgArea:h},r._private.globals.editHasBeenStarted=!0}},e)}},endEditCell:function(e){function t(e){r.gridController.dataGrid.redraw(),s!=null&&s(e)}var n=0,r=e.gridView,i=e.saveHandler||null,s=e.errorHandler||r.gridController.errorHandler,o=e.errorMessage||"The Grid was unable to save the entity";if(r._private.globals.editHasBeenStarted){var u=r._private.globals.editInfo;if(u!=null){u.blurTimout!=null&&window.clearTimeout(u.blurTimout);var a=r.gridController.dataGrid.dataSource;if(a!=null){if(e.row!=null&&e.row.rowNumber==u.rowNumber&&e.column!=null&&e.column.colID==u.column.colID)return null;u.editArea.attr("type")==="checkbox"&&(n=1);if(a.getPosition()==u.rowNumber){var f=a.getAttribute(u.column.sourceAttID),l;if(f!=null){if(WAF.PLATFORM.isTouch&&WAF.PLATFORM.OS==="iOs"&&WAF.PLATFORM.OSVersion>=5&&f.type==="date"){var c=u.editArea[0].value.replace(/-/gi,"/"),h=new Date(c);l=f.normalize(h)}else n?l=f.normalize(u.editArea[0].checked):u&&u.editArea[0]&&(l=f.normalize(u.editArea[0].value));f.setValue(l),n||u.cell.insideCell.html(u.column.getFormattedValue(f.getValue()))}if(e.row==null||e.row.rowNumber!=a.getPosition()||e.saveAnyway)r.gridController.dataGrid.readOnly?i!=null&&i():a.save({onSuccess:i,onError:t},{gridView:r,errorMessage:o})}}u.row.dom.removeClass("waf-state-selected").addClass("waf-state-active"),u.cell.dom.css("min-width",""),u.cell.dom.removeClass("editing"),n||u.editArea.remove(),u.imgArea!=null&&u.imgArea.remove(),u.cell.insideCell.show(),r._private.globals.editInfo=null}r._private.globals.editHasBeenStarted=!1}else if(e.saveAnyway){var a=r.gridController.dataGrid.dataSource;a!=null&&!r.gridController.dataGrid.readOnly?a.save({onSuccess:i,onError:t},{gridView:r,errorMessage:o}):i&&i()}},onHeaderClick:function(e){var t=e.data.gridView,n=e.data.cell,r=e.data.columnNumber;t._private.functions.endEditCell({gridView:t,saveAnyway:!0,saveHandler:function(i){!!t.gridController.onHeaderClick&&!t._private.globals.resizeHasBeenStarted&&t.gridController.onHeaderClick(n,r),!!t.gridController.sortGridByColumn&&!t._private.globals.resizeHasBeenStarted&&t.gridController.sortGridByColumn(n,r)}})},onCellClick:function(e){var t=e.data.gridView._private.globals.lastActiveCell,n=$(e.currentTarget);n&&n!=t&&(t&&t.removeClass("waf-state-active"),n.addClass("waf-state-active"),e.data.gridView._private.globals.lastActiveCell=n),e.data.gridView.gridController.onCellClick(e)},startColResize:function(e){var t=e.data.gridView;t._private.functions.endEditCell({gridView:t,saveAnyway:!0,saveHandler:function(r){$(document).bind("mouseup",e.data,t._private.functions.endColResize),$(document).bind("mousemove",e.data,t._private.functions.duringColResize),t._private.globals.startX=e.screenX;var i=t.column(e.data.columnNumber+1);t._private.globals.startWidth=i.width,t._private.globals.resizeHasBeenStarted=!0}}),e.stopPropagation()},endColResize:function(e){var t=e.data.gridView,n=t.gridController.dataGrid.tag,r,i,s,o,u=t.column(e.data.columnNumber+1),a=e.screenX,f=parseInt(t._private.globals.startWidth)+(parseInt(a)-parseInt(t._private.globals.startX));f<10&&(f=10),u.setWidth(f),$(document).unbind("mouseup",t._private.functions.endColResize),$(document).unbind("mousemove",t._private.functions.duringColResize),t._private.globals.resizeHasBeenStarted=!1,t.gridController.dataGrid.isInDesign&&(Designer.beginUserAction("052"),o=n.getColumns().toString(),typeof o=="undefined"&&(o="[]"),n.getColumns().get(e.data.columnNumber).getAttribute("width").setValue(f),n.update(),n.domUpdate(),s=new Designer.action.ModifyProperty({oldVal:o,val:n.getColumns().toString(),tagId:n.id,prop:"data-column"}),Designer.getHistory().add(s))},duringColResize:function(e){var t=e.data.gridView,n=t.column(e.data.columnNumber+1),r=n.width,i=e.screenX,s=parseInt(t._private.globals.startWidth)+(parseInt(i)-parseInt(t._private.globals.startX));s<10&&(s=10),n.setWidth(s)},onResizeClick:function(e){var t=e.data.gridView;t._private.functions.endEditCell({gridView:t,saveAnyway:!0}),e.stopPropagation()},editBlurHandler:function(e){if(!this.dontKillOnBlur){var t=this,n=e.data.gridView;n._private.globals.editInfo!=null&&(n._private.globals.editInfo.blurTimout=window.setTimeout(function(){t.dontKillOnBlur||n._private.globals.editInfo!=null&&n._private.functions.endEditCell({gridView:n})},200))}},inputKeypressHandler:function(e){var t=!0,n=e.data.gridView,r=e.data.row,i=e.data.rowNumber,s=e.data.column,o=e.keyCode;if(o!=null){if(o==37||o==38)e.shiftKey=!0;else if(o==39||o==40)e.shiftKey=!1;o>=37&&o<=40&&(e.ctrlKey||(o=0));switch(o){case 9:case 13:case 37:case 38:case 39:case 40:var u=s.columnNumber,a=n._private.globals.columns,f=n._private.globals.viewportNode,l=n._private.globals.rowHeight;if(e.shiftKey){var c,h=!1;if(o==38)h=!0,c=u;else{var p=!1;c=u-1;while(!p&&c!=u)c<0&&(h=!0,c=a.length-1),a[c].readOnly?c--:p=!0}if(h){i--;if(i<0)r=null;else{n._private.functions.endEditCell({gridView:n});var d=r.dom.position().top;if(d<l*2){var v;WAF.PLATFORM.modulesString==="mobile"?v=-n._private.globals.viewportContainerNode.position().top:v=f.scrollTop(),v-=l,v<0&&(v=0),f.scrollTop(v)}r=n._private.functions.getRowByRowNumber({gridView:n,rowNumber:i})}}else n._private.functions.endEditCell({gridView:n,row:r});r!=null&&!WAF.PLATFORM.isTouch&&n._private.functions.startEditCell({gridView:n,row:r,cell:r.cells[c],columnNumber:c})}else{var c,h=!1;if(o==40)h=!0,c=u;else{var p=!1;c=u+1;while(!p&&c!=u)c>=a.length&&(h=!0,c=0),a[c].readOnly?c++:p=!0}if(h){i++;if(i>=n._private.globals.totalRowCount)n._private.functions.endEditCell({gridView:n}),WAF.gridUtil.addRow(n),r=n._private.functions.getRowByRowNumber({gridView:n,rowNumber:i});else{n._private.functions.endEditCell({gridView:n});var d=r.dom.position().top,m=f.height();if(d+l>m){var v;WAF.PLATFORM.modulesString==="mobile"?v=-n._private.globals.viewportContainerNode.position().top:v=f.scrollTop(),v+=l,f.scrollTop(v)}r=n._private.functions.getRowByRowNumber({gridView:n,rowNumber:i})}}else n._private.functions.endEditCell({gridView:n,row:r});r!=null&&!WAF.PLATFORM.isTouch&&n._private.functions.startEditCell({gridView:n,row:r,cell:r.cells[c],columnNumber:c})}t=!1,e.preventDefault(),e.stopPropagation()}}return t}},handlers:{}},this.initWithOptions=function(e){return e.gridView=this,this._private.functions.initWithOptions(e),this},this.getPageSize=function(){return this._private.globals.pageSize},this.getVisibleRowCount=function(){return this._private.globals.visibleRowCount},this.getRowCount=function(){return this._private.globals.totalRowCount},this.setRowCount=function(e){this._private.functions.setTotalRowCount({rowCount:e,gridView:this})},this.setRowContents=function(e,t){this._private.functions.setRowContents({gridView:this,rowNumber:e,contents:t})},this.setRowContentUpdateRequestDelayInMs=function(e){},this.refresh=function(){this._private.functions.refresh({gridView:this})},this.getSelectionMode=function(){return this.getSelection().getMode()},this.setSelectionMode=function(e){if(arguments.length>0){var t=this.gridController.dataGrid.dataSource,n=t.getSelection();if(n.getMode()!==e)switch(e){case"none":n.reset("none");break;case"single":var r=this._private.functions,i=t.getPosition();r.hideCurrentRows({gridView:this}),n.reset("single"),i!=-1&&t.select(i),r.showCurrentRows({gridView:this});break;case"multiple":var i=t.getPosition();n.reset("multiple"),i!=-1&&n.select(i)}}},this.resetSelection=function(){var e=this.getSelection();e!=null&&e.reset(e.getMode())},this.countSelected=function(){var e=this.getSelection();return e!=null?this.getSelection().countSelected():0},this.getSelectedRows=function(){var e=this.getSelection();return e!=null?e.getSelectedRows():null},this.setSelectedRows=function(e){var t=this.getSelection();if(t!=null){var n=this._private.functions,r=this.gridController.dataGrid.dataSource,i=-1;e!=null&&e.length>0&&(i=e[0]);if(r!=null&&i!=-1&&r.getPosition()!=i){var i=e[0];r.select(i,{userData:{mustSelectRows:e}})}else n.hideCurrentRows({gridView:this}),t.setSelectedRows(e),n.showCurrentRows({gridView:this})}},this.getSelection=function(){var e=null;return e=this.gridController.dataGrid.dataSource.getSelection(),e},this.forgetSelection=function(){var e=this.getSelection();e!=null&&(e.reset(gvSel.sel.getMode()),e.isModeMultiple()&&this._private.functions.hideCurrentRows({gridView:this}))},this.setStatusRight=function(e){this._private.globals.statusRightContainer.html(e)},this.resetSortIndicator=function(e){var t=this._private.globals.headerContainerNode;t.cells[e].dom.removeClass("waf-state-focus");for(var n=0,r=this._private.globals.columns.length;n<r;++n)t.cells[n].sortIndicator.removeClass("waf-sort-asc waf-sort-desc")},this.setSortIndicator=function(e,t){this.resetSortIndicator(e);if(e!==null&&e>=0&&e<this._private.globals.columns.length){var n=this._private.globals.headerContainerNode.cells[e].sortIndicator.removeClass("waf-sort-asc waf-sort-desc");this._private.globals.headerContainerNode.cells[e].dom.addClass("waf-state-focus"),t=t||"asc",t!=="asc"&&t!=="desc"&&(t="asc"),n.addClass("waf-sort-"+t)}},this.gridController=null,this.kill=function(){$(this._private.globals.targetNode).html("")},this.column=function(e,t){var n=null;typeof e=="string"?n=this._private.globals.colsByID[e]:e>0&&e<=this._private.globals.columns.length&&(n=this._private.globals.columns[e-1]);if(n!=null&&t!=null&&typeof t=="object")for(prop in t)switch(prop){case"textSize":n.setTextSize(t[prop]);break;case"color":n.setTextColor(t[prop]);break;case"backgroundColor":n.setBackgroundColor(t[prop]);break;case"width":n.setWidth(t[prop]);break;case"format":n.setFormat(t[prop]);break;case"renderer":n.setRenderer(t[prop]);break;case"align":n.setAlignment(t[prop])}return n},this.columns=function(e){return this._private.globals.columns},this.currentEditingRow=function(){var e=-1;if(this._private.globals.editHasBeenStarted){var t=this._private.globals.editInfo;t!=null&&(e=t.rowNumber)}return e},this.drawRow=function(e,t,n){var r=!0,i=this._private.functions.getRowByRowNumber({gridView:this,rowNumber:e}),s=this._private.globals.columns;if(i!=null){for(var o=0;o<s.length;++o){var u=i.cells[o],a=s[o],f=null;t!=null&&(r=!1,n?f=t.getOldAttributeValue(a.sourceAttID):f=t.getAttributeValue(a.sourceAttID)),this.drawCell(i,u,a,f,r)}var l=this.gridController.onRowDraw;if(l!=null){var c={row:i,dataSource:this.gridController.dataGrid.dataSource,element:t};t&&l(c)}}},this.drawCell=function(e,t,n,r,i){var s=!1,o,u=null;t.value=r,e.gridView=this,n.renderer!=null&&(u=n.renderer({value:r,rowNumber:e.rowNumber,dataSource:this.gridController.dataGrid.dataSource,cellDiv:t.insideCell}));if(u==null)if(n.att==null)typeof Designer=="undefined"?u="##wrong reference##":u="";else if(n.att.type==="image")if(r!=null&&r.__deferred!=null&&r.__deferred.uri!=null){u=" ";var a=t.dom.height()-5,f=t.dom.width();a>f?a=f:f=a,o=r.__deferred.uri,u='<img class="inside-img" src="'+o+'" style="max-height:'+a+"px;max-width:"+f+'px;" />',s=!0}else u=" ";else if(n.att.type==="bool"||n.att.type==="boolean"){var l=[""],c=n.format;c!=null&&(c=c.format),c!=null&&(l=c.split(";"));if(l.length>1){var h="r"+Math.random(),p='<input type="radio" class="waf-dataGrid-radio-true" value="true" name="'+h+'"';r&&(p+=' checked="checked"'),n.readOnly&&(p+=' disabled="true"'),p+="/>",p+='<span class="waf-dataGrid-radio-label">',p+=l[0],p+="</span>",p+='<input type="radio" class="waf-dataGrid-radio-false" value="false" name="'+h+'"',r===!1&&(p+=' checked="checked"'),n.readOnly&&(p+=' disabled="true"'),p+="/>",p+='<span class="waf-dataGrid-radio-label">',p+=l[1],p+="</span>",u=p}else{var d="waf-dataGrid-checkbox",p='<input type="checkbox" class="waf-dataGrid-checkbox"';r&&(p+=' checked="checked"'),n.readOnly&&(p+=' readOnly="true"'),p+="/>",l[0].length>0&&(p+='<span class="waf-dataGrid-checkbox-label">',p+=l[0],p+="</span>"),u=p}}else typeof Designer=="undefined"?u=n.getFormattedValue(r):u="";u===""&&(u="&nbsp"),t.insideCell.html(u),i===!0&&t.insideCell.find("input").hide(),t.insideCell[0].gridCell=t,t.col=n,t.insideCell[0].gridRow=e,s?t.dom.bt('<img src="'+o+'" width="200" height="200" />',{width:200,fill:"white",strokeStyle:"gray",height:200,trigger:["hover","click"],offsetParent:$("body")}):t.dom.bt()},this.updateCell=function(e,t,n){var r=this.column(t);if(r!=null){var i=r.columnNumber,s=this._private.functions.getRowByRowNumber({gridView:this,rowNumber:e});if(s!=null){var o=s.cells[i];o!=null&&this.drawCell(s,o,r,n)}}},this.setCurrentRow=function(e,t){var n=this._private.selection,r=this.getSelection(),i=this._private.globals,s=this._private.functions,o,u,a,f,l,c,h,p,d,v,m=n.cssClass;if(r.isModeSingle())t||(s.hideCurrentRows({gridView:this}),i.currentRow=e,r.select(e),s.showCurrentRows({gridView:this}));else if(r.isModeMultiple()){if(!t){d=n.curEvt,a=d&&"shiftKey"in d&&d.shiftKey,f=d&&("metaKey"in d&&d.metaKey||"ctrlKey"in d&&d.ctrlKey);if(a){o=s.getRowByRowNumber({gridView:this,rowNumber:i.currentRow}),o==null?(i.currentRow<0?h=e:h=i.currentRow,p=e,h>p&&(v=p,p=h,h=v)):o.rowNumber>e?(h=e,p=o.rowNumber):(h=o.rowNumber,p=e);for(var g=h;g<=p;++g){var u=s.getRowByRowNumber({gridView:this,rowNumber:g});u!=null&&u.dom.addClass(m)}i.currentRow=e,r.selectRange(h,p,!0)}else f?(i.currentRow=e,r.toggle(e),u=s.getRowByRowNumber({gridView:this,rowNumber:e}),u!=null&&u.dom.toggleClass(m)):($("#"+this.gridController.dataGrid.subscriberID+" .waf-widget-body .container").children().removeClass(m),u=s.getRowByRowNumber({gridView:this,rowNumber:e}),u!=null&&u.dom.addClass(m),i.currentRow=e,r.select(e))}n.curEvt=null}else i.currentRow=e;i.options.autoScrollOnSelected&&this.centerRow(e,{doNotScrollIfVisible:!0})},this.centerRow=function(e,t){t=t||{},typeof e!="number"&&(e=0);var n=this,r=this._private.globals,i=this._private.functions,s,o=r.totalRowCount,u=Math.round(r.viewportNode.height()/r.rowHeight);e<0&&(e=0),e>=o&&(e=o-1);var a=!0;if(t.doNotScrollIfVisible){var f=Math.floor(r.viewportNode.height()/r.rowHeight);if(WAF.PLATFORM.modulesString==="mobile"){var l=-n._private.globals.viewportContainerNode.position().top;s=l/r.rowHeight}else s=r.viewportNode.scrollTop()/r.rowHeight;e>=s&&e<Math.floor(s)+f&&(a=!1)}if(a){var c=e-Math.floor(u/2);c<0&&(c=0),WAF.PLATFORM.modulesString==="mobile"?n._private.scrollObject.scrollTo(0,-(c*r.rowHeight)):r.viewportNode.scrollTop(c*r.rowHeight)}},this.setOptions=function(e){if(e!=null&&e.autoScrollOnSelected!=null){var t=this._private.globals;t.options.autoScrollOnSelected=e.autoScrollOnSelected}},this.fixWebKitBug=function(){var e=this._private.globals;e.alreadFlaggedTimoutRowHeight||(e.alreadFlaggedTimoutRowHeight=!0,setTimeout(function(t){$(".waf-dataGrid-cell",e.viewportContainerNode).height(e.rowHeight-1),setTimeout(function(t){e.alreadFlaggedTimoutRowHeight=!1,$(".waf-dataGrid-cell",e.viewportContainerNode).height(e.rowHeight)},1)},1))},this.setRowHeight=function(e){e=e||0,e<1&&(e=1);var t=this,n=this._private.globals,r=this._private.functions;$(".inside-img",n.viewportContainerNode).css({"max-height":"1px","max-width":"1px"});var i=n.rows;i.forEach(function(t){t.dom.height(e),t.insideDom.height(e)}),n.rowHeight=e,$(".waf-dataGrid-cell",n.viewportContainerNode).height(e);var s=t.gridController.getRowCount(t),o=e*s;o>17895697&WAF.utils.environment.browser.firefox3?t._private.globals.viewportContainerNode.height(17895697):t._private.globals.viewportContainerNode.height(o)},this.goToCell=function(e,t,n){this.gridController.gridView.goToCell(e,t)},this.stopEditing=function(e){this.gridController.gridView.goToCell(rowPos,colID)},this.computeRowWidth=function(e){var t=this,n=this._private.globals,r=0,i=0,s=0;for(var o=0,u=n.columns.length;o<u;o++)r+=parseInt(n.columns[o].width);r<n.viewportNode.width()&&(e?r=n.viewportNode.width():r=n.viewportNode.width()-n.vScrollBarWidth-1),$(".waf-dataGrid-row",n.targetNode).width(r),$(".waf-dataGrid-header > .container",n.targetNode).width(r).height(32);var a=$(".waf-dataGrid-cell",n.headerContainerNode).filter(":last"),f=a.prev(),l=n.headerContainerNode.width();f.position()&&(s=f.position().left+f.outerWidth());var c=l-s;n.columns.length>0&&(i=n.columns[n.columns.length-1].width),c>i&&(c=i),c>1&&a.width(c)},this},WAF.classes.GridColumn={setTextSize:function(e){this.textSize=e,$(".waf-dataGrid-col-"+this.colID,this.gridview._private.globals.targetNode).css("font-size",""+e+"px")},setTextColor:function(e){this.color=e,$(".waf-dataGrid-col-"+this.colID,this.gridview._private.globals.targetNode).css("color",e)},setColor:function(e){this.setTextColor(e)},setBackgroundColor:function(e){this.backColor=e,$(".waf-dataGrid-col-"+this.colID,this.gridview._private.globals.targetNode).css("background-color",e)},setWidth:function(e){this.width=e;var t=this.gridview._private.globals;this.gridview.computeRowWidth(),$(".waf-dataGrid-col-"+this.colID,t.targetNode).width(e),$(".waf-dataGrid-col-"+this.colID+" > .content",t.targetNode).width(e);var n=$(".waf-dataGrid-col-"+this.colID,t.targetNode).first(),r=n.outerWidth(),i=n.width();r>i&&n.width(r+(r-i)),this.columnNumber===t.columns.length-1&&this.gridview.computeRowWidth(),this.gridview.gridController.dataGrid.redraw()},setFormat:function(e){typeof e=="string"&&(e={format:e}),this.format=e,this.gridview.gridController.dataGrid.redraw()},setRenderer:function(e){this.renderer=e,this.gridview.gridController.dataGrid.redraw()},setAlignment:function(e){this.align=e,$(".waf-dataGrid-col-"+this.colID,this.gridview._private.globals.targetNode).css("text-align",e)},hideSortIndicators:function(){var e=this.gridview._private.globals;$(".waf-dataGrid-col-"+this.colID+" .waf-sort",e.targetNode).hide()},showSortIndicators:function(){var e=this.gridview._private.globals;$(".waf-dataGrid-col-"+this.colID+" .waf-sort",e.targetNode).show()}},WAF.gridUtil.addRow=function(e){var t=e.gridController.dataGrid.dataSource;if(t!=null){function n(e){e._private.globals.currentlyUpdatingRowPositions?window.setTimeout(function(){n(e)},100):window.setTimeout(function(){var t=e._private.functions.getRowByRowNumber({gridView:e,rowNumber:e._private.globals.totalRowCount-1});WAF.PLATFORM.isTouch||e._private.functions.startEditCell({gridView:e,columnNumber:0,row:t,cell:t.cells[0]})},200)}t.addNewElement(null,{gridView:e,execOnEventDispatch:n})}},WAF.gridUtil.delRow=function(e){var t=e.gridController.dataGrid.dataSource;if(t!=null){var n=e.gridController.errorHandler,r="The data grid could not delete the entity";t.removeCurrent({onError:n},{gridView:e,errorMessage:r})}},WAF.classes.GridController=function(){this._private={globals:{},functions:{},handlers:{}},this.getColumnCount=function(e){var t=0;return t},this.getRowCount=function(e){var t=0;return t},this.setContentForRow=function(e){var t=[];return t},this.isContentAvailableForRow=function(e){return!0},this.setStyleForRow=function(e){return{rowStyle:""}},this.setPropertiesForColumn=function(e){return{}},this.onRowClick=function(e){},this.onRowDblClick=null,this.baseDblClick=function(e){var t=e.data.gridView,n=t.gridController.onRowDblClick;if(n!=null){var r=e.data.row;r.rowNumber<t._private.globals.totalRowCount&&t.gridController.onRowDblClick(e)}},this.onRowRightClick=function(e){},this.onCellClick=function(e){},this.onHeaderClick=function(e,t){},this.onRowDraw=null,this.onError=null,this.gridView=new WAF.classes.GridView,this.gridView.gridController=this},WAF.Widget.provide("Grid",{onResize:function(){}},function(t,n,r){var i=t["data-column-width"]?t["data-column-width"].split(","):[],s=t["data-column-name"]?t["data-column-name"].split(","):[],o=t["class"],u=0,a="",f=0,l=0,c=!0,h=null,p={},d=0,v=0,m="",g=[],y=t["data-selection-mode"]?t["data-selection-mode"]:"single",b=t["data-errorDiv"],w=!1,E=!1,S=t["data-footer-text"]?t["data-footer-text"]:"item(s)",x=t["data-display-error"],T=t.id;x==null?x=!0:x=x=="1"||x=="true",f=parseInt(document.getElementById(T).style.width)-1,t["data-footer-hide"]==="true"&&(w=!0),t["data-header-hide"]==="true"&&(E=!0);if(t["data-column"]&&t["data-column"]!="[]"){p=JSON.parse(t["data-column"].replace(/'/g,'"')),d=p.length;for(v=0;v<d;v++){g=p[v];for(m in g)g[m]=unescape(g[m])}h=new WAF.classes.DataGrid({inDesign:!1,id:T,render:T,dataSource:t["data-binding"],binding:t["data-binding"],columns:p,colWidth:i,cls:o,selMode:y,mustDisplayError:x,errorDiv:b,hideFooter:w,hideHeader:E,textFooter:S})}else{if(s.length===1)i=[f],c=!1;else{u=0;for(a in s)u+=parseInt(i[a]);u<f&&(l=f-u,i[s.length-1]=String(parseInt(i[s.length-1])+l),c=!1)}var N=[],C=[],k=[];t["data-column-name"]&&(N=t["data-column-name"].split(",")),t["data-column-attribute"]&&(C=t["data-column-attribute"].split(",")),t["data-column-width"]&&(k=t["data-column-width"].split(",")),d=C.length,g=null;var L="",A="",O="";p=[];for(v=0;v<d;v++){g={},L=C[v];try{A=N[v]}catch(M){A=L}try{O=k[v]}catch(M){O="150"}g.sourceAttID=L,g.title=A,g.width=O,p.push(g)}h=new WAF.classes.DataGrid({inDesign:!1,id:T,render:T,dataSource:t["data-binding"],binding:t["data-binding"],columns:p,colWidth:i,cls:o,selMode:y,mustDisplayError:x,errorDiv:b,hideFooter:w,textFooter:S})}c||$("#"+T+" .waf-dataGrid-body").css("overflow-x","hidden"),$.ui.draggable.prototype.plugins.start[4][1]=function(e,t){var n=$(this).data("draggable");n.scrollParent&&n.scrollParent[0]!=document&&n.scrollParent[0].tagName!="HTML"&&(n.overflowOffset=n.scrollParent.offset())},t["data-draggable"]==="true"&&($("#"+T+" .waf-widget-header").css("cursor","pointer"),$("#"+T+" .waf-widget-footer").css("cursor","pointer"),$("#"+T).draggable("option","cancel",".waf-widget-body"),$("#"+T).draggable("option","stack",".waf-widget")),t["data-footer-hide"]==="true"&&$("#"+T+" .waf-widget-footer").hide(),t["data-readOnly"]==="true"&&($("#"+T+" .waf-dataGrid-footer .waf-toolbar").hide(),this.readOnly=!0,h.columns().forEach(function(e,t,n){e.readOnly=!0}));var _="";for(_ in h)this[_]=h[_]},{getValueForInput:function(){var t;return this.sourceAtt==null?t=this.source.getAttribute(this.att.name).getValueForInput():t=this.sourceAtt.getValueForInput(),t},onResize:function(){$("#"+this.id+" .waf-widget-body").css("width",parseInt($("#"+this.id).css("width")));var t=parseInt($("#"+this.id).css("height"))-parseInt($("#"+this.id+" .waf-widget-footer").css("height"));t-=parseInt($("#"+this.id+" .waf-widget-header").css("height")),$("#"+this.id+" .waf-widget-body").css("height",t+"px"),this.gridController.gridView.refresh()},stopResize:function(){this.gridController.gridView.refresh()},disable:function(){this.setReadOnly(!0),WAF.Widget.prototype.disable.call(this)},isReadOnly:function(){return!!this.readOnly},enable:function(){this.setReadOnly(!1),WAF.Widget.prototype.enable.call(this)}}),$("body").delegate(".waf-dataGrid-checkbox","change",WAF.classes.DataGrid.checkBoxHandler),$("body").delegate(".waf-dataGrid-radio-true","change",WAF.classes.DataGrid.radioTrueHandler),$("body").delegate(".waf-dataGrid-radio-false","change",WAF.classes.DataGrid.radioFalseHandler);

/** minified js  - from ../walib/WAF/widget/dataGrid/widget-dataGrid-conf.js at Thu, 09 Apr 2015 09:51:38 GMT */

WAF.addWidget({packageName:"Widget/dataGrid",type:"dataGrid",lib:"WAF",category:"Automatic Controls",description:"Grid",img:"../walib/WAF/widget/dataGrid/icons/widget-dataGrid.png",attributes:[{name:"data-binding",description:"Source"},{name:"data-columns",description:"Columns",type:"textarea"},{name:"class",description:"Css class"},{name:"data-label",description:"Label",defaultValue:""},{name:"data-label-position",description:"Label position",defaultValue:"top"},{name:"data-draggable",description:"Draggable",type:"checkbox",platform:"desktop"},{name:"data-resizable",description:"Resizable",type:"checkbox",platform:"desktop"},{name:"data-readOnly",description:"Read only",type:"checkbox"},{name:"data-header-hide",description:"Hide header",type:"checkbox"},{name:"data-footer-hide",description:"Hide footer",type:"checkbox"},{name:"data-selection-mode",description:"Selection mode",defaultValue:"single",type:"dropdown",options:[{key:"single",value:"Single"},{key:"multiple",value:"Multiple"}]},{name:"data-display-error",description:"Display errors",type:"checkbox",category:"Error Handling",defaultValue:"true"},{name:"data-errorDiv",description:"Error ID",category:"Error Handling"},{name:"data-error-div",visibility:"hidden"},{name:"data-footer-text",description:"Footer count text",defaultValue:"item(s)"},{name:"data-column",description:"Columns",type:"grid",defaultValue:"[]",reloadOnChange:!0,newRowEmpty:!1,columns:[{title:"label",name:"title",type:"textfield"},{title:"attribute",name:"sourceAttID",type:"textfield",typeValue:"dataSource",onblur:function(){var e,t,n,r;e=this.data.tag,n=this.getHtmlObject(),r=this.getValue(),t=Designer.ds.isPathValid(e.getSource()+"."+r),t?n.removeClass("studio-form-invalid"):n.addClass("studio-form-invalid")},onfocus:function(){this.data.attID=this.getValue()}}],toolbox:[{name:"format",type:"textField"},{name:"width",type:"textField"},{title:"read only",name:"readOnly",type:"checkbox"}],ready:function(){var e;e=this.data.tag,e.getSource()||this.getForm().hide()},afterRowAdd:function(e){var t,n,r,i;t=this.data.tag,n=Designer.env.ds.catalog.getByName(t.getSource()),n&&n.getType().match(new RegExp("(array)|(object)"))?(r=n.getTag().getAttribute("data-attributes").getValue().split(","),i=r[0].split(":")[0]):n&&(r=n.getAttributes(),r[0]&&(i=r[0].name)),e.items[0].getValue()==""&&e.items[1].getValue()==""&&(e.items[0].setValue(i),e.items[1].setValue(i))},onsave:function(e){var t,n,r,i;try{t=e.tag,n=t.getColumns(),n.clear(),$.each(e.value.rows,function(){var e,r,i,s,o,u,a,f,l;o=new WAF.tags.descriptor.Column,$.each(this,function(n){i=this.component.name,s=this.value,i=="sourceAttID"&&(e=s,r=this.component.data.attID,o.getAttribute("colID").setValue(s.replace(/\./g,"_")),r&&e!=r&&(f="#"+t.getId()+" .waf-widget-header .waf-dataGrid-col-"+r.replace(/\./g,"_"),l="#"+t.getId()+" .waf-widget-header .waf-dataGrid-col-"+e.replace(/\./g,"_"),$(D.tag.style.getRules(new RegExp("^"+f+"\\b"))).each(function(e,t){D.tag.style.interfaceSheet.addRule(l,t.style.cssText)}),D.tag.style.deleteRules(new RegExp("^"+f+"\\b")),u="#"+t.getId()+" .waf-widget-body .waf-dataGrid-col-"+r.replace(/\./g,"_"),a="#"+t.getId()+" .waf-widget-body .waf-dataGrid-col-"+e.replace(/\./g,"_"),$(D.tag.style.getRules(new RegExp("^"+u+"\\b"))).each(function(e,t){D.tag.style.interfaceSheet.addRule(a,t.style.cssText)}),D.tag.style.deleteRules(new RegExp("^"+u+"\\b")))),o.getAttribute(i).setValue(s)}),n.add(o)}),t.displayInfo()}catch(s){console.log(s)}}}],events:[{name:"onCellClick",description:"On Cell Click",category:"Grid Events"},{name:"onRowClick",description:"On Row Click",category:"Grid Events"},{name:"onRowDblClick",description:"On Row Double Click",category:"Grid Events"},{name:"onRowRightClick",description:"On Row Right Click",category:"Grid Events"},{name:"onRowDraw",description:"On Row Draw",category:"Grid Events"},{name:"onError",description:"On Error Handler",category:"Grid Events"},{name:"onHeaderClick",description:"On Header Click",category:"Grid Events"}],columns:{attributes:[{name:"sourceAttID"},{name:"colID"},{name:"format"},{name:"width"},{name:"title"}],events:[]},properties:{style:{theme:{roundy:!1},fClass:!0,text:!0,background:!0,border:!0,sizePosition:!0,label:!0,shadow:!0,disabled:["border-radius"]}},structure:[{description:"cells",selector:".waf-dataGrid-cell",style:{text:!0,textShadow:!0,background:!0,border:!0,disabled:["border-radius"]},state:[{label:"hover",cssClass:"waf-state-hover",find:".waf-dataGrid-cell"},{label:"active",cssClass:"waf-state-active",find:".waf-dataGrid-cell"}]},{description:"header / cells",group:"header",selector:".waf-dataGrid-header .waf-dataGrid-cell",style:{text:!0,textShadow:!0,background:!0,border:!0,disabled:["border-radius"]}},{description:"header",group:"header",selector:".waf-dataGrid-header",style:{text:!0,textShadow:!0,background:!0,border:!0,disabled:["border-radius"]}},{description:"rows / even",group:"rows",selector:".waf-dataGrid-row.waf-widget-even",style:{text:!0,textShadow:!0,background:!0,border:!0,disabled:["border-radius"]}},{description:"rows / odd",group:"rows",selector:".waf-dataGrid-row.waf-widget-odd",style:{text:!0,textShadow:!0,background:!0,border:!0,disabled:["border-radius"]}},{description:"rows",group:"rows",selector:".waf-dataGrid-row",style:{text:!0,textShadow:!0,background:!0,border:!0,disabled:["border-radius"]},state:[{label:"hover",cssClass:"waf-state-hover",find:".waf-dataGrid-row"},{label:"active",cssClass:"waf-state-active",find:".waf-dataGrid-row"},{label:"selected",cssClass:"waf-state-selected",find:".waf-dataGrid-row"}]},{description:"body",selector:".waf-dataGrid-body",style:{text:!0,textShadow:!0,background:!0,border:!0,disabled:["border-radius"]}},{description:"footer",selector:".waf-dataGrid-footer",style:{text:!0,textShadow:!0,background:!0,border:!0,disabled:["border-radius"]}}],onInit:function(e){var t=new WAF.widget.Grid(e);return t},onDesign:function(e,t,n,r,i){function S(e,t){t=t;var r=n.getAttribute(e);return r?r.getValue():t}var s,o,u,a,f=0,l={},c=n.getAttribute("data-column-width")?n.getAttribute("data-column-width").getValue().split(","):[],h=n.getAttribute("class").getValue(),p=n.getAttribute("id").getValue(),d=S("data-column-name",""),v=S("data-column-attribute",""),m=S("data-column-binding",""),g=S("data-column",""),y=S("data-readOnly","false")==="true",b=S("data-footer-hide","false")==="true",w=S("data-header-hide","false")==="true",E=S("data-footer-text","item(s)");u=n.getStructures(),o=n.getColumns(),a=o.count();for(f in u._list)u._list[f]&&u._list[f]._selector.match(new RegExp("(.waf-widget-body .waf-dataGrid-col)|(.waf-widget-header .waf-dataGrid-col)"))&&(u._list=u._list.slice(0,f).concat(u._list.slice(f+1)));for(s=0;s<a;s+=1)n.addStructure({description:o.get(s).getAttribute("title").getValue(),group:"header column",selector:".waf-widget-header .waf-dataGrid-col-"+o.get(s).getAttribute("colID").getValue(),style:{text:!0,background:!0}});for(s=0;s<a;s+=1)n.addStructure({description:o.get(s).getAttribute("title").getValue(),group:"body column",selector:".waf-widget-body .waf-dataGrid-col-"+o.get(s).getAttribute("colID").getValue(),style:{text:!0,background:!0}});i?n.refresh():(l=new WAF.classes.DataGrid({inDesign:!0,id:p,render:p,dataSource:m,binding:m,columns:n.getColumns().toArray(Designer.config.dataGrid.maxColumnDisplay-1),colWidth:c,cls:h,hideFooter:b,hideHeader:w,textFooter:E}),l.tag=n,n.grid=l,n.getColumns().count()===0&&!e["data-binding"]?$("#"+n.overlay.id+" .message-binding-grid ").length===0&&($("#"+n.overlay.id+" .waf-dataGrid-body").length?$('<div class="message-binding-grid ">Drop a datasource<br> here</div>').appendTo($("#"+n.overlay.id+" .waf-dataGrid-body")):$('<div class="message-binding-grid ">Drop a datasource<br> here</div>').appendTo($("#"+n.overlay.id))):$(n.overlay.element).find(".message-binding-grid ").each(function(e){$(this).remove()}),$(n.overlay.element).find(".waf-dataGrid-row").each(function(e){$(this).addClass(e%2?"waf-widget-odd":"waf-widget-even")}),b?$("#"+p+" .waf-widget-footer").hide():$("#"+p+" .waf-widget-footer").show(),w?$("#"+p+" .waf-widget-header").hide():$("#"+p+" .waf-widget-header").show(),y?$("#"+p+" .waf-dataGrid-footer .waf-toolbar").hide():$("#"+p+" .waf-dataGrid-footer .waf-toolbar").show())}});

/** minified js  - from ../walib/WAF/widget/button/widget-button.js at Thu, 09 Apr 2015 09:51:38 GMT */

WAF.Widget.provide("Button",{},function(t,n,r){var i,s,o,u,a,f;s=this,u=this.$domNode,i=n.text===""?n.action:n.text,a=0,this._textValue&&(i=this._textValue),n["state-1"]&&n.text===""&&(i=""),o='<span class="text">'+i+"</span>";for(var l=1;l<=4;l+=1)n["state-"+l]&&(o+='<img style="width:'+u.width()+"px;height:"+u.height()+'px;" src="'+n["state-"+l]+'" class="data-state-'+l+'" />',a+=1);a===1&&(o='<img style="width:'+u.width()+"px;height:"+u.height()+'px;" src="'+n["state-"+l]+'" class="data-state-1 data-state-2 data-state-3 data-state-4" />'),u.html(o),u.children(".text").css("margin-top","-"+parseInt(u.css("font-size"))/2+"px"),WAF.PLATFORM.isTouch?(u.bind("touchstart",{},function(e){s.setState("active"),u._state="active"}),u.bind("touchend",{},function(e){s.setState("default"),u._state=null})):(u.hover(function(){s.setState("hover")},function(){s.setState("default")}),u.bind("mousedown",{},function(e){s.setState("active"),u._state="active"}),u.bind("mouseup",{},function(e){s.setState("hover"),u._state=null}),u.focusin(function(){u._state!="active"&&s.setState("focus")}),u.focusout(function(){s.setState("default")})),u.bind("click",{},function(e){var t,n;n=s.$domNode.attr("data-link"),t=s.$domNode.attr("data-target");if(n)switch(t){case"_blank":window.open(n);break;default:window.location=n}else e.preventDefault()});if(this.source){var c="click";WAF.PLATFORM.isTouch&&(c="touchstart"),u.bind(c,{},function(e){switch(n.action){case"create":s.source.addNewElement();break;case"save":s.source.save();break;case"next":s.source.selectNext();break;case"previous":s.source.selectPrevious();break;case"last":var t=s.source._private.entityCollection.length;s.source.select(parseInt(t-1));break;case"first":s.source.select(0);break;case"remove":s.source.removeCurrent();break;default:}})}},{ready:function(){this.$domNode.data("action")&&(this.$domNode.data("text")===""||this.$domNode.data("text")==null)&&(this._textValue=WAF.utils.ucFirst(this.$domNode.data("action")),this.$domNode.find(".text").html(this._textValue))},getValue:function(t){return this.$domNode.text()},setValue:function(t){this.$domNode.text(t)},setURL:function(e,t){t&&this.$domNode.attr("data-target",t),this.$domNode.attr("data-link",e)},getURL:function(){return this.$domNode.attr("data-link")},disable:function(){this.$domNode.removeClass("waf-state-hover"),WAF.Widget.prototype.disable.call(this)}});

/** minified js  - from ../walib/WAF/widget/button/widget-button-conf.js at Thu, 09 Apr 2015 09:51:38 GMT */

WAF.addWidget({packageName:"Widget/button",type:"button",lib:"WAF",description:"Button",category:"Deprecated Widgets",img:"../walib/WAF/widget/button/icons/widget-button.png",tag:"button",attributes:[{name:"data-binding",description:"Source",onchange:function(){this.getValue()?$("#dropdown-data-action").parent().parent().show():$("#dropdown-data-action").parent().parent().hide()}},{name:"class",description:"Css class"},{name:"data-state-1",visibility:"hidden"},{name:"data-state-2",visibility:"hidden"},{name:"data-state-3",visibility:"hidden"},{name:"data-state-4",visibility:"hidden"},{name:"data-action",description:"Action",defaultValue:"simple",type:"dropdown",options:[{key:"create",value:"Create"},{key:"simple",value:"Simple"},{key:"save",value:"Save"},{key:"next",value:"Next"},{key:"previous",value:"Previous"},{key:"last",value:"Last"},{key:"first",value:"First"},{key:"remove",value:"Remove"}],ready:function(){var e,t,n,r;n=Designer.env.tag.selection,r=n.count(),r<=0?this.data.tag.getSource()||this.getHtmlObject().parent().parent().hide():D.ui.selection.getAttribute("data-binding").getValue()||this.getHtmlObject().parent().parent().hide()}},{name:"data-text",description:"Button title"},{name:"data-link",description:"URL",context:"protected",onchange:function(){this.getValue()?$("#dropdown-data-target").parent().parent().show():$("#dropdown-data-target").parent().parent().hide()}},{name:"data-target",description:"Target",type:"dropdown",options:["_blank","_self"],defaultValue:"_blank",ready:function(){var e,t,n,r;n=Designer.env.tag.selection,r=n.count(),r<=0?this.data.tag.getAttribute("data-link").getValue()||this.getHtmlObject().parent().parent().hide():D.ui.selection.getAttribute("data-link").getValue()||this.getHtmlObject().parent().parent().hide()}},{name:"tabindex",description:"Tabindex"}],events:[{name:"click",description:"On Click",category:"Mouse Events"},{name:"dblclick",description:"On Double Click",category:"Mouse Events"},{name:"mousedown",description:"On Mouse Down",category:"Mouse Events"},{name:"mouseout",description:"On Mouse Out",category:"Mouse Events"},{name:"mouseover",description:"On Mouse Over",category:"Mouse Events"},{name:"mouseup",description:"On Mouse Up",category:"Mouse Events"},{name:"touchstart",description:"On Touch Start",category:"Touch Events"},{name:"touchend",description:"On Touch End",category:"Touch Events"},{name:"touchcancel",description:"On Touch Cancel",category:"Touch Events"}],style:[,{name:"width",defaultValue:"92px"},{name:"height",defaultValue:function(){var e;return typeof Designer!="undefined"&&(Designer.isMobile?e="29px":e="22px"),e}.call()}],properties:{style:{theme:{roundy:!1},fClass:!0,text:!0,background:!0,border:!0,sizePosition:!0,shadow:!0,textShadow:!0,innerShadow:!0,label:!1},state:[{label:"hover",cssClass:"waf-state-hover",find:"",mobile:!1},{label:"active",cssClass:"waf-state-active",find:"",mobile:!0},{label:"focus",cssClass:"waf-state-focus",find:"",mobile:!0},{label:"disabled",cssClass:"waf-state-disabled",find:"",mobile:!0}]},onInit:function(e){var t=new WAF.widget.Button(e);return t},onDesign:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v;s=n.getId(),h=$("#"+s),o=0,u=0,f=0,a="",l="",c="",v="";if(!i){var m=n.getAttribute("data-text").getValue();m.length==0&&n.getAttribute("data-action").getValue()=="simple"?m="["+s+"]":m.length==0&&n.getAttribute("data-action").getValue()!="simple"&&(m=WAF.utils.ucFirst(n.getAttribute("data-action").getValue())),n.getAttribute("data-state-1").getValue()&&!n.getAttribute("data-text").getValue()&&(m=""),a='<span class="text"></span>',n.getAttribute("data-src")&&(c=Designer.util.formatPath(n.getAttribute("data-state-"+u).getValue()),l=c.fullPath);if(o===1)l=Designer.util.formatPath(n.getAttribute("data-state-"+u).getValue()).fullPath,v+='<img src="'+l+'" class="data-state-1 data-state-2 data-state-3 data-state-4" />';else for(var g=1;g<=4;g+=1)n.getAttribute("data-state-"+g)&&n.getAttribute("data-state-"+g).getValue()&&(l=Designer.util.formatPath(n.getAttribute("data-state-"+g).getValue()).fullPath,v+='<img src="'+l+'" class="data-state-'+g+'" />',o+=1,u=g);h.html(a+v),$("#"+s+" span").text(m),n.style["font-size"]?f=n.style["font-size"]:f=$("#"+s+" span.text").css("font-size"),$("#"+s+" .text").css("margin-top","-"+parseInt(f)/2+"px"),h.bind("dblclick",{},p=function y(e){var t;Designer.env.editMode=n,n.setFocus(!0);if((n.getTheme()==="image"||n.getTheme()==="none")&&!n.getAttribute("data-text").getValue())return;t=n.getAttribute("data-text").getValue(),t.length==0&&n.getAttribute("data-action").getValue()=="simple"?t="["+s+"]":t.length==0&&n.getAttribute("data-action").getValue()!="simple"&&(t=WAF.utils.ucFirst(n.getAttribute("data-action").getValue())),Designer.ui.core.disableKeyEvent(),Designer.event.setListenerMode(!1),n.resize.lock(!0),YAHOO.util.Event.stopEvent(e),$(this).prop("disabled","disabled"),n.lock(),h.html("<input />"+v),d=h.children("input"),d.focus(),d.val(t),d.css({width:n.getWidth()+"px",height:n.getHeight()+"px",resize:"none",overflow:"hidden",background:"none",border:"none","font-size":"inherit","font-style":"inherit","font-family":"inherit","font-weight":"inherit","text-decoration":"inherit","text-align":"inherit","letter-spacing":"inherit",color:n.getComputedStyle("color"),"margin-top":"-1px","margin-left":"-1px"}),d.select(),d.bind("keydown",{},function(e){e.keyCode===13&&$(this).blur()}),d.bind("blur",{},function(e){var t;t=$(this).val(),D.getCurrent()&&D.getCurrent()===n&&n.setResizable(!0),h.bind("dblclick",{},y),n.unlock(),n.getAttribute("data-text").setValue(t),n.update(),n.domUpdate(),n.editBox=null,Designer.ui.core.enableKeyEvent(),Designer.event.setListenerMode(!0),n.resize.unlock(!0),h.html('<span class="text"></span>'+v),$("#"+s+" span").text(t),h.removeProp("disabled"),D.tag.refreshPanels(),Designer.env.editMode=!1})})}}});

/** minified js  - from ../walib/WAF/widget/label/widget-label.js at Thu, 09 Apr 2015 09:51:38 GMT */

WAF.Widget.provide("Label",{},function(t,n,r){var i,s,o;i=$(this.containerNode),o=parseInt(i.css("min-width")),s=i.prop("for"),s?$("#"+i.prop("for")).length===0&&i.remove():i.remove(),o===0},{ready:function(){this.linkedWidget=$$(this.$domNode.prop("for")),this.linkedWidget&&this.linkedWidget.$domNode&&this.linkedWidget.$domNode.attr("data-hideonload")==="true"&&this.hide()}});

/** minified js  - from ../walib/WAF/widget/label/widget-label-conf.js at Thu, 09 Apr 2015 09:51:38 GMT */

WAF.addWidget({packageName:"Widget/label",type:"label",lib:"WAF",description:"Label",category:"Hidden",tag:"label",attributes:[{name:"data-text"},{name:"data-linked"},{name:"for"},{name:"data-valign",defaultValue:"middle"},{name:"data-margin",defaultValue:"5"}],events:[],style:[{name:"width",defaultValue:"75px"},{name:"height",defaultValue:"22px"}],onInit:function(e){return new WAF.widget.Label(e)},onDesign:function(e,t,n,r,i){var s=n.getAttribute("data-margin"),o=s?parseInt(s.getValue()):5,u=n.getHtmlObject(),a=n.getWidth(),f=n.getHeight(),l=parseInt(n.getComputedStyle("min-width")),c=parseInt(n.getComputedStyle("max-width")),h=n.getLinkedTag(),p=n.getAttribute("data-text").getValue(),d=n.getComputedStyle("text-align"),v=null,m=0,g=0;u.prop("for",n.getAttribute("for").getValue()),n._getTmpHtmlObject=function(t){var n;return $("#waf-tmp-div").length>0?n=$("#waf-tmp-div"):n=$('<div id="waf-tmp-div">'),n.appendTo("body"),n.html(t),n.css({"font-size":this.getComputedStyle("font-size"),"font-style":this.getComputedStyle("font-style"),"font-family":this.getComputedStyle("font-family"),"font-weight":this.getComputedStyle("font-weight"),"text-decoration":this.getComputedStyle("text-decoration"),"text-align":this.getComputedStyle("text-align"),"letter-spacing":this.getComputedStyle("letter-spacing"),"min-width":this.getComputedStyle("min-width"),"max-width":this.getComputedStyle("max-width"),position:"absolute","z-index":"10000",left:"-10000px",top:"-10000px",background:"#FFCC66"}),n},n._refreshPosition=function(){var t=0,n=0,r=5,s=this.getLinkedTag(),u=this.getWidth(),a=this.getHeight(),f=-1;!isNaN(s.getX())&&!isNaN(s.getY())&&(n=s.getY(),t=s.getX()),f=s.getAttribute("data-label-position").getValue();switch(f){case"left":t-=u+o;break;case"top":n-=a+o;break;case"right":t+=s.getWidth()+r;break;case"bottom":n+=s.getHeight()+r}if((f==="left"||f==="right")&&this.getAttribute("data-valign"))switch(this.getAttribute("data-valign").getValue()){case"top":n=s.getY();break;case"middle":n+=s.getHeight()/2-a/2;break;case"bottom":n=s.getY()+s.getHeight()-a}if((f==="top"||f==="bottom")&&d)switch(d){case"center":t+=s.getWidth()/2-u/2;break;case"right":t=s.getX()+s.getWidth()-u}this.setXY(t,n),this.setStyle("width",u+"px"),this.setStyle("height",a+"px"),s.isFitToLeft()&&this.setStyle("left",t+"px"),s.isFitToTop()&&this.setStyle("top",n+"px"),this.refreshPositionWithConstraints(),i&&this.domUpdate()},n.refreshPositionWithConstraints=function(){var t=null,n={},r,i=this.getLinkedTag(),s=this.getParent(),o=0,u,a,f,l,c,h,p,d,v,m,g,y;s&&(o=parseInt(s.getComputedStyle("border-width"))*2),r=document.getElementById(this.getOverlayId());var b=this.getParent();r&&(n.x=parseInt(r.style.left,10),n.y=parseInt(r.style.top,10)),u=0,a=0,f=0,l=0,c=b.getComputedStyle("border-right-width"),h=b.getComputedStyle("border-left-width"),p=b.getComputedStyle("border-top-width"),d=b.getComputedStyle("border-bottom-width"),c&&(u=parseInt(c.replace("px",""))),h&&(a=parseInt(h.replace("px",""))),p&&(f=parseInt(p.replace("px",""))),d&&(l=parseInt(d.replace("px",""))),v=u+a,m=f+l,i&&(!i.isFitToRight()&&!this.isFitToRight()?(s.isDocument()?t=this.getStyle("left"):(g=b.getWidth()-(n.x+this.getWidth()+v),t=s.getWidth()-(g+this.getWidth())),t-=o,t+="px",$("#"+this.getOverlayId()).css("left",t),this.style.left=t,$("#"+this.getOverlayId()).css("right",""),this.style.right=""):!i.isFitToLeft()&&!this.isFitToLeft()&&(t=this.getStyle("right")+"px",$("#"+this.getOverlayId()).css("right",t),this.style.right=t,$("#"+this.getOverlayId()).css("left",""),this.style.left=""),!i.isFitToBottom()&&!this.isFitToBottom()?(s.isDocument()?t=this.getStyle("top"):(y=b.getHeight()-(n.y+this.getHeight()+m),t=s.getHeight()-(y+this.getHeight())),t-=o,t+="px",$("#"+this.getOverlayId()).css("top",t),this.style.top=t,$("#"+this.getOverlayId()).css("bottom",""),this.style.bottom=""):!i.isFitToTop()&&!this.isFitToTop()&&(t=this.getStyle("bottom")+"px",$("#"+this.getOverlayId()).css("bottom",t),this.style.bottom=t,$("#"+this.getOverlayId()).css("top",""),this.style.top=""))},n.dblClickFn=function(t){var n,r,i,s,o,u,a,f,l;l=t.data&&t.data.tag?t.data.tag:D.getCurrent(),i=l.getLinkedTag(),Designer.ui.core.disableKeyEvent(),Designer.event.setListenerMode(!1),l.resize.lock(!0),YAHOO.util.Event.stopEvent(t),$(this).prop("disabled","disabled"),l.lock(),l.setFocus(!0,!1),i.setFocus(!1,!1),f=l.getHtmlObject(),n=l.getAttribute("data-text").getValue(),f[0].tagName==="LABEL"&&(l._tmpHtmlObj=f[0].outerHTML),s=l._getTmpHtmlObject(n),o=f.parent(),o.css("overflow","hidden"),r=$("<textarea>"),r.prop("id",l.getId()),r.css({"font-size":l.getComputedStyle("font-size"),"font-family":l.getComputedStyle("font-family"),"font-style":l.getComputedStyle("font-style"),"font-weight":l.getComputedStyle("font-weight"),"text-decoration":l.getComputedStyle("text-decoration"),"text-align":l.getComputedStyle("text-align"),"background-color":l.getComputedStyle("background-color"),"background-image":l.getComputedStyle("background-image"),"text-shadow":l.getComputedStyle("text-shadow"),"letter-spacing":l.getComputedStyle("letter-spacing"),border:"none",width:"100%",height:"100%",resize:"none",overflow:"hidden"}),r.text(n),o.html(r),r.select(),r.bind("keydown",{},function(e){var t=$(this).val();t+=e.shiftKey&&e.keyCode===13?"<br />":String.fromCharCode(e.keyCode),this.refresh=function(){s.html(t.replace(/\n/g,"<br />")+"."),u=s.width(),a=s.height(),u>0&&l.setWidth(u,!1),a>0&&l.setHeight(a,!1),l._refreshPosition()};switch(e.keyCode){case 13:this.blur();break;default:e.keyCode>=37&&e.keyCode<=40||this.refresh()}}),r.bind("blur",{tag:l},function(e){var t=e.data.tag,n=$(this).val(),r=t.getLinkedTag(),i=t.getHtmlObject(),s=i.parent();t.getAttribute("data-text").setValue(n),r.getAttribute("data-label").setValue(n),t.update(),t.domUpdate(),s.html(t._tmpHtmlObj),t.getHtmlObject().html(n.replace(/\n/g,"<br />")),t.unlock(),Designer.ui.core.enableKeyEvent(),Designer.event.setListenerMode(!0),t.resize.unlock(!0),n===""?Designer.tag.deleteWidgets(t):(t.onDesign(),t.setFocus(!0))})},n.changePosition=function(t){var n=this.getLinkedTag();n.getAttribute("data-label-position").setValue(t),n.domUpdate(),n.onDesign(!0),$(this).trigger("onPositionChange")},h&&setTimeout(function(){u.text(p),u.css("height","auto"),isNaN(c)&&(c=0),v=n._getTmpHtmlObject(p),m=v.width(),g=v.height(),m<l&&(m=l),m>c&&c>0&&(m=c),m>0&&m+2!==n.getWidth()&&(Designer.disableNotification(),n.setWidth(m,!1),n.setStyle("white-space","normal !important"),Designer.enableNotification()),g>0&&g!==n.getHeight()&&(Designer.disableNotification(),n.setHeight(g,!1),Designer.enableNotification()),n._refreshPosition(),$(n).trigger("textValueUpdated")},80),u.unbind("dblclick").bind("dblclick",{tag:n},n.dblClickFn),h&&n.addClass("waf-label-"+h.getType().toLowerCase()),!n.binded&&u.get(0)&&u.get(0).addEventListener&&(n.binded=!0,u.get(0).addEventListener("onWidgetCSSLoaded",function(){Designer.env.enableModificationNotification=!1,n.onDesign(!1),Designer.env.enableModificationNotification=!0},!1))}});

/** original minified js  - from ../walib/WAF/lib/mobile/mobiscroll/js/mobiscroll-1.5.3.min.js at Thu, 09 Apr 2015 09:51:38 GMT */

(function(d){function z(K,h,G){var I=this,M=G,J,L,l,H={},m=false;this.settings=M;this.values=null;this.val=null;this.temp=null;this.setDefaults=function(N){d.extend(i,N)};this.enable=function(){M.disabled=false;if(d(K).is(":input")){d(K).prop("disabled",false)}};this.scroll=function(P,S,R,T,N){P.attr("style",(R?(w+"-transition:all "+R.toFixed(1)+"s ease-out;"):"")+(k?(w+"-transform:translate3d(0,"+(S*y)+"px,0);"):("top:"+(S*y)+"px;")));function Q(V,U,X,W){return X*Math.sin(V/W*(Math.PI/2))+U}if(R){var O=0;clearInterval(H[N]);H[N]=setInterval(function(){O+=0.1;P.data("pos",Math.round(Q(O,T,S-T,R)));if(O>=R){clearInterval(H[N]);P.data("pos",S)}},100)}else{P.data("pos",S)}};this.disable=function(){M.disabled=true;if(d(K).is(":input")){d(K).prop("disabled",true)}};this.formatDate=function(W,O,P){if(!O){return null}var X=d.extend({},this.settings,P),U=function(Y){var Z=0;while(S+1<W.length&&W.charAt(S+1)==Y){Z++;S++}return Z},R=function(Z,aa,Y){var ab=""+aa;if(U(Z)){while(ab.length<Y){ab="0"+ab}}return ab},Q=function(Y,ab,aa,Z){return(U(Y)?Z[ab]:aa[ab])},N="",V=false;for(var S=0;S<W.length;S++){if(V){if(W.charAt(S)=="'"&&!U("'")){V=false}else{N+=W.charAt(S)}}else{switch(W.charAt(S)){case"d":N+=R("d",O.getDate(),2);break;case"D":N+=Q("D",O.getDay(),X.dayNamesShort,X.dayNames);break;case"o":N+=R("o",(O.getTime()-new Date(O.getFullYear(),0,0).getTime())/86400000,3);break;case"m":N+=R("m",O.getMonth()+1,2);break;case"M":N+=Q("M",O.getMonth(),X.monthNamesShort,X.monthNames);break;case"y":N+=(U("y")?O.getFullYear():(O.getYear()%100<10?"0":"")+O.getYear()%100);break;case"h":var T=O.getHours();N+=R("h",(T>12?(T-12):(T==0?12:T)),2);break;case"H":N+=R("H",O.getHours(),2);break;case"i":N+=R("i",O.getMinutes(),2);break;case"s":N+=R("s",O.getSeconds(),2);break;case"a":N+=O.getHours()>11?"pm":"am";break;case"A":N+=O.getHours()>11?"PM":"AM";break;case"'":if(U("'")){N+="'"}else{V=true}break;default:N+=W.charAt(S)}}}return N};this.parseDate=function(ad,W,af){var R=new Date();if(!ad||!W){return R}W=(typeof W=="object"?W.toString():W+"");var T=d.extend({},this.settings,af),O=R.getFullYear(),ah=R.getMonth()+1,ab=R.getDate(),Q=-1,ae=R.getHours(),X=R.getMinutes(),P=R.getSeconds(),U=-1,aa=false,V=function(aj){var ak=(N+1<ad.length&&ad.charAt(N+1)==aj);if(ak){N++}return ak},ai=function(ak){V(ak);var al=(ak=="@"?14:(ak=="!"?20:(ak=="y"?4:(ak=="o"?3:2))));var am=new RegExp("^\\d{1,"+al+"}");var aj=W.substr(ac).match(am);if(!aj){throw"Missing number at position "+ac}ac+=aj[0].length;return parseInt(aj[0],10)},S=function(ak,am,aj){var an=(V(ak)?aj:am);for(var al=0;al<an.length;al++){if(W.substr(ac,an[al].length).toLowerCase()==an[al].toLowerCase()){ac+=an[al].length;return al+1}}throw"Unknown name at position "+ac},Z=function(){if(W.charAt(ac)!=ad.charAt(N)){throw"Unexpected literal at position "+ac}ac++},ac=0;for(var N=0;N<ad.length;N++){if(aa){if(ad.charAt(N)=="'"&&!V("'")){aa=false}else{Z()}}else{switch(ad.charAt(N)){case"d":ab=ai("d");break;case"D":S("D",T.dayNamesShort,T.dayNames);break;case"o":Q=ai("o");break;case"m":ah=ai("m");break;case"M":ah=S("M",T.monthNamesShort,T.monthNames);break;case"y":O=ai("y");break;case"H":ae=ai("H");break;case"h":ae=ai("h");break;case"i":X=ai("i");break;case"s":P=ai("s");break;case"a":U=S("a",["am","pm"],["am","pm"])-1;break;case"A":U=S("A",["am","pm"],["am","pm"])-1;break;case"'":if(V("'")){Z()}else{aa=true}break;default:Z()}}}if(O<100){O+=new Date().getFullYear()-new Date().getFullYear()%100+(O<=T.shortYearCutoff?0:-100)}if(Q>-1){ah=1;ab=Q;do{var Y=32-new Date(O,ah-1,32).getDate();if(ab<=Y){break}ah++;ab-=Y}while(true)}ae=(U==-1)?ae:((U&&ae<12)?(ae+12):(!U&&ae==12?0:ae));var ag=new Date(O,ah-1,ab,ae,X,P);if(ag.getFullYear()!=O||ag.getMonth()+1!=ah||ag.getDate()!=ab){throw"Invalid date"}return ag};this.setValue=function(O){if(O==undefined){O=true}var N=this.formatResult();this.val=N;this.values=this.temp.slice(0);if(O&&d(K).is(":input")){d(K).val(N).change()}};this.getDate=function(){var O=this.values;if(M.preset=="date"){return new Date(O[J],O[L],O[l])}if(M.preset=="time"){var N=(M.ampm)?((O[M.seconds?3:2]=="PM"&&(O[0]-0)<12)?(O[0]-0+12):(O[M.seconds?3:2]=="AM"&&(O[0]==12)?0:O[0])):O[0];return new Date(1970,0,1,N,O[1],M.seconds?O[2]:null)}if(M.preset=="datetime"){var N=(M.ampm)?((O[M.seconds?6:5]=="PM"&&(O[3]-0)<12)?(O[3]-0+12):(O[M.seconds?6:5]=="AM"&&(O[3]==12)?0:O[3])):O[3];return new Date(O[J],O[L],O[l],N,O[4],M.seconds?O[5]:null)}};this.setDate=function(P,O){if(M.preset.match(/date/i)){this.temp[J]=P.getFullYear();this.temp[L]=P.getMonth();this.temp[l]=P.getDate()}if(M.preset=="time"){var N=P.getHours();this.temp[0]=(M.ampm)?(N>12?(N-12):(N==0?12:N)):N;this.temp[1]=P.getMinutes();if(M.seconds){this.temp[2]=P.getSeconds()}if(M.ampm){this.temp[M.seconds?3:2]=N>11?"PM":"AM"}}if(M.preset=="datetime"){var N=P.getHours();this.temp[3]=(M.ampm)?(N>12?(N-12):(N==0?12:N)):N;this.temp[4]=P.getMinutes();if(M.seconds){this.temp[5]=P.getSeconds()}if(M.ampm){this.temp[M.seconds?6:5]=N>11?"PM":"AM"}}this.setValue(O)};this.parseValue=function(R){if(this.preset){var N=[];if(M.preset=="date"){try{var Q=this.parseDate(M.dateFormat,R,M)}catch(P){var Q=new Date()}N[J]=Q.getFullYear();N[L]=Q.getMonth();N[l]=Q.getDate()}else{if(M.preset=="time"){try{var Q=this.parseDate(M.timeFormat,R,M)}catch(P){var Q=new Date()}var O=Q.getHours();N[0]=(M.ampm)?(O>12?(O-12):(O==0?12:O)):O;N[1]=Q.getMinutes();if(M.seconds){N[2]=Q.getSeconds()}if(M.ampm){N[M.seconds?3:2]=O>11?"PM":"AM"}}else{if(M.preset=="datetime"){try{var Q=this.parseDate(M.dateFormat+" "+M.timeFormat,R,M)}catch(P){var Q=new Date()}var O=Q.getHours();N[J]=Q.getFullYear();N[L]=Q.getMonth();N[l]=Q.getDate();N[3]=(M.ampm)?(O>12?(O-12):(O==0?12:O)):O;N[4]=Q.getMinutes();if(M.seconds){N[5]=Q.getSeconds()}if(M.ampm){N[M.seconds?6:5]=O>11?"PM":"AM"}}}}return N}return M.parseValue(R,this)};this.formatResult=function(){var O=this.temp;if(this.preset){if(M.preset=="date"){return this.formatDate(M.dateFormat,new Date(O[J],O[L],O[l]),M)}else{if(M.preset=="datetime"){var N=(M.ampm)?((O[M.seconds?6:5]=="PM"&&(O[3]-0)<12)?(O[3]-0+12):(O[M.seconds?6:5]=="AM"&&(O[3]==12)?0:O[3])):O[3];return this.formatDate(M.dateFormat+" "+M.timeFormat,new Date(O[J],O[L],O[l],N,O[4],M.seconds?O[5]:null),M)}else{if(M.preset=="time"){var N=(M.ampm)?((O[M.seconds?3:2]=="PM"&&(O[0]-0)<12)?(O[0]-0+12):(O[M.seconds?3:2]=="AM"&&(O[0]==12)?0:O[0])):O[0];return this.formatDate(M.timeFormat,new Date(1970,0,1,N,O[1],M.seconds?O[2]:null),M)}}}}return M.formatResult(O)};this.validate=function(O){if(this.preset&&M.preset.match(/date/i)&&((O==J)||(O==L)||(O==-1))){var P=32-new Date(this.temp[J],this.temp[L],32).getDate()-1;var N=d("ul:eq("+l+")",h);d("li",N).show();d("li:gt("+P+")",N).hide();if(this.temp[l]>P){this.scroll(N,s-P-1);this.temp[l]=d("li:eq("+P+")",N).data("val")}}else{M.validate(O)}};this.hide=function(){if(M.onClose(this.val,this)===false){return false}d(".dwtd").prop("disabled",false).removeClass("dwtd");d(K).blur();h.hide();n.hide();m=false;if(this.preset){M.wheels=null}d(window).unbind("resize.dw")};this.show=function(){if(M.disabled||m){return false}M.beforeShow(K,this);y=M.height;s=Math.round(M.rows/2);a=this;this.init();if(this.preset){M.wheels=new Array();if(M.preset.match(/date/i)){var N={};for(var P=0;P<3;P++){if(P==J){N[M.yearText]={};for(var S=M.startYear;S<=M.endYear;S++){N[M.yearText][S]=M.dateOrder.search(/yy/i)<0?S.toString().substr(2,2):S.toString()}}else{if(P==L){N[M.monthText]={};for(var S=0;S<12;S++){N[M.monthText][S]=(M.dateOrder.search(/MM/)<0?(M.dateOrder.search(/M/)<0?(M.dateOrder.search(/mm/)<0?(S+1):(S<9)?("0"+(S+1)):(S+1)):M.monthNamesShort[S]):M.monthNames[S])}}else{if(P==l){N[M.dayText]={};for(var S=1;S<32;S++){N[M.dayText][S]=M.dateOrder.search(/dd/i)<0?S:(S<10)?("0"+S):S}}}}}M.wheels.push(N)}if(M.preset.match(/time/i)){M.stepHour=(M.stepHour<1)?1:parseInt(M.stepHour);M.stepMinute=(M.stepMinute<1)?1:parseInt(M.stepMinute);M.stepSecond=(M.stepSecond<1)?1:parseInt(M.stepSecond);var N={};N[M.hourText]={};for(var S=(M.ampm?1:0);S<(M.ampm?13:24);S+=M.stepHour){N[M.hourText][S]=(S<10)?("0"+S):S}N[M.minuteText]={};for(var S=0;S<60;S+=M.stepMinute){N[M.minuteText][S]=(S<10)?("0"+S):S}if(M.seconds){N[M.secText]={};for(var S=0;S<60;S+=M.stepSecond){N[M.secText][S]=(S<10)?("0"+S):S}}if(M.ampm){N[M.ampmText]={};N[M.ampmText]["AM"]="AM";N[M.ampmText]["PM"]="PM"}M.wheels.push(N)}}d(".dwc",h).remove();for(var S=0;S<M.wheels.length;S++){var O=d('<div class="dwc'+(M.mode=="clickpick"?" dwpm":"")+'"><div class="dwwc dwrc"><div class="clear" style="clear:both;"></div></div>').insertBefore(d(".dwbc",h));for(var R in M.wheels[S]){var T=d(".dwwc .clear",O);var N=d('<div class="dwwl dwrc">'+(M.mode=="clickpick"?'<div class="dwwb dwwbp">+</div><div class="dwwb dwwbm">&ndash;</div>':"")+'<div class="dwl">'+R+'</div><div class="dww dwrc"><ul></ul><div class="dwwo"></div></div><div class="dwwol"></div></div>').insertBefore(T);for(var Q in M.wheels[S][R]){d('<li class="val_'+Q+'">'+M.wheels[S][R][Q]+"</li>").data("val",Q).appendTo(d("ul",N))}}}d(".dww ul",h).each(function(V){var U=d("li",this).index(d("li.val_"+I.temp[V],this));while((U<0)&&(--I.temp[V]>=0)){U=d("li",this).index(d("li.val_"+I.temp[V],this))}I.scroll(d(this),s-(U<0?0:U)-1)});d(".dwv",h).html(this.formatResult());I.validate(-1);d("#dw_set",h).text(M.setText).unbind().bind("click",function(U){I.setValue();M.onSelect(I.val,a);I.hide();return false});d("#dw_cancel",h).text(M.cancelText).unbind().bind("click",function(U){M.onCancel(I.val,a);I.hide();return false});d(":input:not(:disabled)").addClass("dwtd");d(":input").prop("disabled",true);n.show();h.attr("class","dw "+M.theme).show();m=true;d(".dww, .dwwl",h).height(M.rows*y);d(".dww",h).each(function(){d(this).width(d(this).parent().width()<M.width?M.width:d(this).parent().width())});d(".dwbc a",h).attr("class",M.btnClass);d(".dww li, .dwwb",h).css({height:y,lineHeight:y+"px"});d(".dwwc",h).each(function(){var U=0;d(".dwwl",this).each(function(){U+=d(this).outerWidth(true)});d(this).width(U)});d(".dwc",h).each(function(){d(this).width(d(".dwwc",this).outerWidth(true))});this.pos();d(window).bind("resize.dw",function(){I.pos()})};this.pos=function(){var N=0,Q=0,T=d(window).width(),P=d(window).height(),R=d(window).scrollTop(),O,S;d(".dwc",h).each(function(){O=d(this).outerWidth(true);N+=O;Q=(O>Q)?O:Q});O=N>T?Q:N;h.width(O);O=h.outerWidth();S=h.outerHeight();h.css({left:(T-O)/2,top:R+(P-S)/2});n.height(0);n.height(d(document).height())};this.init=function(){var N=M.dateOrder.search(/y/i),O=M.dateOrder.search(/m/i),P=M.dateOrder.search(/d/i);J=N<O?(N<P?0:1):(N<P?1:2);L=O<N?(O<P?0:1):(O<P?1:2);l=P<N?(P<O?0:1):(P<O?1:2);this.preset=(M.wheels===null);this.temp=((d(K).is("input")&&this.val!==null&&this.val!=d(K).val())||this.values===null)?this.parseValue(d(K).val()?d(K).val():""):this.values.slice(0);this.setValue(false)};this.init();if(d(K).is(":input")&&M.showOnFocus){d(K).data("dwro",d(K).prop("readonly")).prop("readonly",true)}d(K).addClass("scroller").unbind("focus.dw").bind("focus.dw",function(N){if(M.showOnFocus){I.show()}})}function F(l){for(var h in l){if(D[l[h]]!==undefined){return true}}return false}function b(){var h=["Webkit","Moz","O","ms"];for(var l in h){if(F([h[l]+"Transform"])){return"-"+h[l].toLowerCase()}}return""}var o,n,y,s,u,a,j={},C=new Date(),x=C.getTime(),r=false,E=null,e,t,p,c,f,D=document.createElement(D).style,k=F(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"])&&"webkitPerspective" in document.documentElement.style,w=b(),g=("ontouchstart" in window),v=g?"touchstart":"mousedown",B=g?"touchmove":"mousemove",q=g?"touchend":"mouseup",i={width:80,height:40,rows:3,disabled:false,showOnFocus:true,wheels:null,theme:"",mode:"scroller",preset:"date",dateFormat:"mm/dd/yy",dateOrder:"mmddy",ampm:true,seconds:false,timeFormat:"hh:ii A",startYear:C.getFullYear()-100,endYear:C.getFullYear()+1,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortYearCutoff:"+10",monthText:"Month",dayText:"Day",yearText:"Year",hourText:"Hours",minuteText:"Minutes",secText:"Seconds",ampmText:"&nbsp;",setText:"Set",cancelText:"Cancel",btnClass:"dwb",stepHour:1,stepMinute:1,stepSecond:1,beforeShow:function(){},onClose:function(){},onSelect:function(){},onCancel:function(){},formatResult:function(m){var h="";for(var l=0;l<m.length;l++){h+=(l>0?" ":"")+m[l]}return h},parseValue:function(m,I){var L=I.settings.wheels,J=m.split(" "),h=[],K=0;for(var H=0;H<L.length;H++){for(var G in L[H]){K++;for(var M in L[H][G]){h.push(M);break}}}return J.length==K?J:h},validate:function(){return true}},A={init:function(L){if(L===undefined){L={}}var H={};if(L.theme=="ios"){H.dateOrder="MMdyy";H.rows=5;H.height=30;H.width=55}if(L.mode=="clickpick"){H.height=50;H.rows=3}var l=d.extend({},i,H,L),h=false,J=false;if(d(".dw").length){n=d(".dwo");o=d(".dw")}else{n=d('<div class="dwo"></div>').hide().appendTo("body");o=d('<div class="dw"><div class="dwv">&nbsp;</div><div class="dwbc" style="clear:both;"><span class="dwbw dwb-s"><a id="dw_set" href="#"></a></span><span class="dwbw dwb-c"><a id="dw_cancel" href="#"></a></span></div></div>');o.hide().appendTo("body");function K(M){return g?M.originalEvent.changedTouches[0].pageY:M.pageY}function G(N,P,O,Q){var M=d("ul",o).index(N);P=P>(s-1)?(s-1):P;P=P<(s-u)?(s-u):P;a.scroll(N,P,O?(P==Q?0.1:Math.abs((P-Q)*0.1)):0,Q,M);a.temp[M]=d("li:eq("+(s-1-P)+")",N).data("val");a.validate(M);d(".dwv",o).html(a.formatResult())}function I(M){if(h){var N=M.data("pos"),O=N-1;O=O<(s-u)?(s-1):O;G(M,O)}else{clearInterval(h)}}function m(M){if(J){var N=M.data("pos"),O=N+1;O=O>(s-1)?(s-u):O;G(M,O)}else{clearInterval(J)}}d(document).bind(B,function(M){if(r){M.preventDefault();t=K(M);var N=f+(t-e)/y;N=N>(s-1+1)?(s-1+1):N;N=N<(s-u-1)?(s-u-1):N;a.scroll(E,N)}});d(document).bind(q,function(O){if(r){O.preventDefault();var N=new Date()-p;var Q=f+(t-e)/y;Q=Q>(s-1+1)?(s-1+1):Q;Q=Q<(s-u-1)?(s-u-1):Q;if(N<300){var M=(t-e)/N;var P=(M*M)/(2*0.0006);if(t-e<0){P=-P}}else{var P=t-e}G(E,Math.round(f+P/y),true,Math.round(Q));r=false;E=null}clearInterval(h);clearInterval(J);h=false;J=false;d(".dwb-a").removeClass("dwb-a")});o.delegate(".dwwl","DOMMouseScroll mousewheel",function(O){O.preventDefault();O=O.originalEvent;var Q=O.wheelDelta?(O.wheelDelta/120):(O.detail?(-O.detail/3):0),M=d("ul",this),N=M.data("pos"),P=Math.round(N+Q);u=d("li:visible",M).length;G(M,P)}).delegate(".dwb, .dwwb",v,function(M){d(this).addClass("dwb-a")}).delegate(".dwwbp",v,function(N){N.preventDefault();var M=d(this).closest(".dwwl").find("ul");u=d("li:visible",M).length;clearInterval(h);h=setInterval(function(){I(M)},200);I(M)}).delegate(".dwwbm",v,function(N){N.preventDefault();var M=d(this).closest(".dwwl").find("ul");u=d("li:visible",M).length;clearInterval(J);J=setInterval(function(){m(M)},200);m(M)}).delegate(".dwwl",v,function(M){if(!r&&a.settings.mode=="scroller"){M.preventDefault();r=true;E=d("ul",this);f=E.data("pos");u=d("li:visible",E).length;e=K(M);p=new Date();t=e;a.scroll(E,f)}})}return this.each(function(){if(!this.id){x+=1;this.id="scoller"+x}j[this.id]=new z(this,o,l)})},enable:function(){return this.each(function(){if(j[this.id]){j[this.id].enable()}})},disable:function(){return this.each(function(){if(j[this.id]){j[this.id].disable()}})},isDisabled:function(){if(j[this[0].id]){return j[this[0].id].settings.disabled}},option:function(h,l){return this.each(function(){if(j[this.id]){if(typeof h==="object"){d.extend(j[this.id].settings,h)}else{j[this.id].settings[h]=l}j[this.id].init()}})},setValue:function(l,h){if(h==undefined){h=false}return this.each(function(){if(j[this.id]){j[this.id].temp=l;j[this.id].setValue(l,h)}})},getValue:function(){if(j[this[0].id]){return j[this[0].id].values}},setDate:function(l,h){if(h==undefined){h=false}return this.each(function(){if(j[this.id]){j[this.id].setDate(l,h)}})},getDate:function(){if(j[this[0].id]){return j[this[0].id].getDate()}},show:function(){if(j[this[0].id]){return j[this[0].id].show()}},hide:function(){return this.each(function(){if(j[this.id]){j[this.id].hide()}})},destroy:function(){return this.each(function(){if(j[this.id]){d(this).unbind("focus.dw").removeClass("scroller");if(d(this).is(":input")){d(this).prop("readonly",d(this).data("dwro"))}delete j[this.id]}})}};d.fn.scroller=function(h){if(A[h]){return A[h].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof h==="object"||!h){return A.init.apply(this,arguments)}else{d.error("Unknown method")}}};d.scroller=new z(null,null,i)})(jQuery);

;

/** minified js  - from ../walib/WAF/widget/textField/widget-textField.js at Thu, 09 Apr 2015 09:51:38 GMT */

WAF.Widget.provide("TextField",{},function(n,r,i){var s,o;s=this,o=$(this.containerNode),o.prop("name",s.id+parseInt(Math.random()*1e5)),n.placeholder!==undefined&&(o.attr("placeholder",n.placeholder),WAF.PLATFORM.html5Support[this.domNode.tagName.toLowerCase()].placeholder===!1&&(o.focus(function(){var e=$(this);e.val()==e.attr("placeholder")&&e.val("")}).blur(function(){var e=$(this);(e.val()==""||e.val()==e.attr("placeholder"))&&e.val(e.attr("placeholder"))}).blur(),$("[placeholder]").parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var e=$(this);e.val()==e.attr("placeholder")&&e.val("")})}))),r["datapicker-on"]=WAF.utils.getBoolValue(r["datapicker-on"]),r["datapicker-icon-only"]=WAF.utils.getBoolValue(r["datapicker-icon-only"]),r.password=WAF.utils.getBoolValue(r.password),r.readOnly=WAF.utils.getBoolValue(r.readOnly);var u=o.data("theme");if(u==null||u==""){u="";var a=o.prop("class");a.split(" ").forEach(function(e){e!="inherit"&&e.substr(0,4)!="waf-"&&(u+=e+" ")})}o.attr("readOnly",r.readOnly||!1),o.hover(function(){s.getState()!="focus"&&s.setState("hover")},function(){s.getState()=="focus"?s.setState("focus"):s.setState("default")}),o.unbind("focusin"),o.unbind("focusout"),o.bind("focusin",{},function(e){s.setState("focus")}),o.bind("focusout",{},function(e){s.removeState("focus")}),r.password&&document.getElementById(n.id).setAttribute("type","password");var f,l,c,h,p,d,v,m,g,o,y,b;l=s,c=l.id,p=[],o=$("#"+c);if(this.sourceAtt){this.sourceAtt.addListener(function(e){var t=e.data.widget,r=t.id,i=$("#"+r);t.clearErrorMessage();if(WAF.PLATFORM.isTouch)switch(t.att.type){case"date":WAF.PLATFORM.OS==="iOs"&&WAF.PLATFORM.OSVersion>=5&&n["data-datapicker-on"]==="true"?i.get()[0].type="date":n["data-datapicker-on"]==="true"&&i.scroller&&($.scroller.settings.dateOrder="ddmmyy",$.scroller.settings.dateFormat="dd/mm/yy",i.scroller());break;default:}t.att.simple?t.isInFocus?f=t.sourceAtt.getValueForInput():f=t.getFormattedValue():(f="",t&&t.source&&t.source._private&&t.source._private.sourceType&&(t.source._private.sourceType=="scalar"||t.source._private.sourceType=="array"||t.source._private.sourceType=="object")&&(t.isInFocus?f=t.sourceAtt.getValueForInput():f=t.getFormattedValue()));if(t.att.type==="date"&&WAF.PLATFORM.isTouch&&WAF.PLATFORM.OS==="iOs"&&WAF.PLATFORM.OSVersion>=5&&n["data-datapicker-on"]==="true"){var s=new Date(f),o=s.getFullYear(),u=s.getDate(),a=s.getMonth()+1;u<10&&(u="0"+u),a<10&&(a="0"+a),f=o+"-"+a+"-"+u}i.val(f)},{id:n.id,listenerID:n.id,listenerType:"textInput",subID:n.subID?n.subID:null},{widget:this}),y=o.parents(".waf-matrix");if(l.att.enumeration!=null&&!l.att.readOnly&&!l.sourceAtt.readOnly){h=l.att.enumeration.item;for(var w=0,E=h.length;w<E;w++)p.push(h[w].name)}d=WAF.utils.getBoolValue(r.autocomplete);if(p.length>0){if(y.length==0||typeof e!="undefined"&&e.subID&&y.length!=0)o.data("enumValueList",p).autocomplete({source:function(e,t){t($.grep($(this.element.context).data("enumValueList"),function(t,n){return t.toLowerCase().indexOf(e.term.toLowerCase())===0}))}}),m=o.autocomplete("widget"),y.length==0&&o.blur(s.autocompleteBlur)}else if(d){if(y.length==0||typeof e!="undefined"&&e.subID&&y.length!=0)o.autocomplete({source:function(e,t){var n="/rest/"+l.source.getDataClass().getName()+"/"+l.att.name;$.ajax({url:n,data:{$distinct:!0,$top:20,$filter:'"'+l.att.name+"=:1"+'"',$params:"'"+JSON.stringify([e.term+"*"])+"'"},success:function(e){t($.map(e,function(e){return{value:e}}))}})}}),m=o.autocomplete("widget"),m.addClass(u),y.length==0&&o.blur(s.autocompleteBlur)}else if(l.att.type=="date"){var S=WAF.utils.getBrowserLang();v=$.datepicker.regional[S]||{},$.datepicker.setDefaults(v);var x=l.format&&l.format.format?l.format.format:v.dateFormat||"m/d/yy";v.changeMonth=!0,v.changeYear=!0;if(r["datapicker-on"])if(!WAF.PLATFORM.isTouch||WAF.PLATFORM.OS!="iOs"){r["datapicker-icon-only"]?(v.showOn="button",v.buttonImage="../walib/WAF/widget/png/date-picker-trigger.png?id="+c,v.buttonImageOnly=!0):(v.buttonImageOnly=!1,v.showOn="focus"),v.beforeShow=function(){return setTimeout(function(){var e=o;while(e.parent().get(0)!==document.body)e=e.parent();$("#ui-datepicker-div").css("z-index",parseInt(e.css("z-index"))+1e3);var t;f&&(t=$.datepicker.parseDate(x,f),o.datepicker("setDate",t))},0),typeof o.attr("readonly")!="undefined"||l.isDisabled()?!1:!0},v.onClose=function(e,t){var n,r;l.format!=null&&l.format.format!=null&&(r=l.sourceAtt,r!=null&&(n=r.getValue()),this.value=l.getFormattedValue(n)),l.$domNode.trigger("change")};if(y.length==0||typeof e!="undefined"&&e.subID&&y.length!=0)o.datepicker(v),o.datepicker("widget").addClass(u);r["datapicker-icon-only"]&&o[0]&&(g=$('img[src="../walib/WAF/widget/png/date-picker-trigger.png?id='+c+'"]'),b=o.position().left+o[0].offsetWidth,g.css({position:"absolute",left:b+"px",top:o.css("top"),cursor:"pointer"}))}}m!=null&&["font-family","font-size","font-style","font-variant","font-weight","text-align","letter-spacing","background-color","color"].forEach(function(e){m.css(e,o.css(e))}),o.unbind("change",s.change),o.bind("change",{},s.change),WAF.PLATFORM.isTouch&&l.att.type==="date"&&(o.unbind("blur",s.blur),o.bind("blur",{},s.blur)),o.bind("focus",function(e){var t,n;t=WAF.widgets[this.id],t.isInFocus=!0;if(t.format!=null&&t.format.format!=null){n=t.sourceAtt;if(n!=null){if(WAF.PLATFORM.isTouch)switch(t.att.type){case"number":o.get()[0].type="number";break;default:}this.value=n.getValueForInput()}}}),o.bind("blur",function(e){var t,n,r;t=WAF.widgets[this.id],n="",t.isInFocus=!1;if(t.format!=null&&t.format.format!=null){r=t.sourceAtt,r!=null&&(n=r.getValue());if(WAF.PLATFORM.isTouch)switch(t.att.type){case"number":o.get()[0].type="text";break;default:}this.value=t.getFormattedValue(n)}}),l.att.readOnly||l.sourceAtt.readOnly?o.disabled=!0:o.disabled=!1}else this._tmpVal=o.prop("value"),this._tmpVal&&this._tmpVal.replace()&&(this._tmpVal=this._tmpVal.replace(/&quot;/g,'"')),f=this.getFormattedValue(o.val()),f&&f.replace()&&(f=f.replace(/&quot;/g,'"')),o.val(f),o.focusin(function(){s._tmpVal&&$(this).val(s._tmpVal)}),o.focusout(function(){s._tmpVal=$(this).val(),s._tmpVal&&$(this).val(s.getFormattedValue(s._tmpVal))})},{blur:function(){WAF.widgets[this.id].change()},change:function(){var e,t,n,r,i,s,o,u,a;e=WAF.widgets[this.id];if(e!=null)if(e.doNotUpdate)e.doNotUpdate=!1;else{n=e.sourceAtt;if(WAF.PLATFORM.isTouch&&e.att.type==="date"){i=document.getElementById(this.id).value.replace(/[\/\-]/gi,"!"),s=i.split("!");if(s.length===3){s[0].length===4?(o=s[0],u=s[1],a=s[2]):(o=s[2],u=s[1],a=s[0]);var f=new Date(o,u-1,a)}t=n.normalize(f)}else try{e.format&&e.format.format?t=$.datepicker.parseDate(e.format.format,this.value):t=n.normalize(this.value)}catch(l){t=n.normalize(this.value)}r=n.validate(t),r.valid?WAF.PLATFORM.isTouch?(n.setValue(t,{dispatcherID:e.divID}),e.clearErrorMessage()):(n.setValue(t,{dispatcherID:e.divID}),e.clearErrorMessage()):(n.setValue(t,{dispatcherID:e.divID}),e.setErrorMessage({message:r.messages.join(", "),tooltip:!1}))}},autocompleteBlur:function(e){var t,n;t=WAF.widgets[this.id],n=t.sourceAtt,this.value!==n.getValue()&&n.setValue(this.value,{dispatcherID:this.id})},setValue:function(e){this.$domNode.val(e),this._tmpVal=e,this.$domNode.trigger("change")}});

/** minified js  - from ../walib/WAF/widget/textField/widget-textField-conf.js at Thu, 09 Apr 2015 09:51:38 GMT */

WAF.addWidget({packageName:"Widget/textField",type:"textField",lib:"WAF",description:"Text Input",category:"Deprecated Widgets",img:"../walib/WAF/widget/textField/icons/widget-textField.png",tag:"input",attributes:[{name:"type",defaultValue:"text"},{name:"data-binding",description:"Source",context:["allowBind"]},{name:"data-errorDiv",description:"Error ID",context:["protected"]},{name:"value",description:"Default value",context:["protected"]},{name:"class",description:"Css class"},{name:"data-format",description:"Format",context:["protected"]},{name:"data-label",description:"Label",defaultValue:"Label"},{name:"data-label-position",description:"Label position",defaultValue:"left"},{name:"data-autocomplete",description:"Autocomplete",type:"checkbox"},{name:"data-multiline",description:"Multiline",type:"checkbox",defaultValue:"false"},{name:"data-readOnly",description:"Read only",type:"checkbox",typeValue:"bool",defaultValue:"false",context:["protected"]},{name:"data-password",description:"Password field",type:"checkbox",defaultValue:"false",context:["protected"]},{name:"data-datapicker-on",description:"Enable datepicker",type:"checkbox",typeValue:"bool",defaultValue:"true",context:["protected"]},{name:"data-datapicker-icon-only",description:"Show datepicker button",type:"checkbox",typeValue:"bool",defaultValue:"false",platform:"desktop"},{name:"tabindex",description:"Tabindex"},{name:"placeholder",description:"Input placeholder",type:"string",context:["protected"]}],events:[{name:"blur",description:"On Blur",category:"Focus Events"},{name:"change",description:"On Change",category:"Focus Events"},{name:"click",description:"On Click",category:"Mouse Events"},{name:"dblclick",description:"On Double Click",category:"Mouse Events"},{name:"focus",description:"On Focus",category:"Focus Events"},{name:"mousedown",description:"On Mouse Down",category:"Mouse Events"},{name:"mouseout",description:"On Mouse Out",category:"Mouse Events"},{name:"mouseover",description:"On Mouse Over",category:"Mouse Events"},{name:"mouseup",description:"On Mouse Up",category:"Mouse Events"},{name:"keydown",description:"On Key Down",category:"Keyboard Events"},{name:"keyup",description:"On Key Up",category:"Keyboard Events"},{name:"select",description:"On Select",category:"Keyboard Events"},{name:"touchstart",description:"On Touch Start",category:"Touch Events"},{name:"touchend",description:"On Touch End",category:"Touch Events"},{name:"touchcancel",description:"On Touch Cancel",category:"Touch Events"}],style:[{name:"width",defaultValue:"130px"},{name:"height",defaultValue:function(){var e;if(typeof Designer!="undefined")return Designer.isMobile?e="40px":e="22px",e}.call()}],properties:{style:{theme:{roundy:!1},fClass:!0,text:!0,background:!0,border:!0,sizePosition:!0,label:!0,dropShadow:!0,innerShadow:!0,textShadow:!0,disabled:[]},state:[{label:"hover",cssClass:"waf-state-hover"},{label:"focus",cssClass:"waf-state-focus"},{label:"disabled",cssClass:"waf-state-disabled"}]},onInit:function(e){var t=new WAF.widget.TextField(e);return t.kind=e["data-type"],t.id=e.id,t.renderId=e.id,t.ref=document.getElementById(e.id),WAF.widgets[e.id]=t,t},onDesign:function(e,t,n,r,i){var s,o,u,a;u=n.getHtmlObject(),a=u[0],o=n.getAttribute("data-multiline").getValue(),placeHolder=n.getAttribute("placeholder").getValue(),s=n.getAttribute("value").getValue(),n._config.changeType&&a&&a.tagName=="INPUT"&&o=="true"&&n._config.changeType(n,"textarea"),n._config.changeType&&a&&a.tagName=="TEXTAREA"&&o=="false"&&n._config.changeType(n,"input"),s?u.val(s):n.getSource()?u.val("["+n.getSource()+"]"):u.val(""),u.attr("placeholder",placeHolder);var f=n.getParents()[0];i===undefined&&f&&f.isMatrix()&&D.env.transCodeId==="004"&&window.setTimeout(function(){f.rebuild()},0)},onCreate:function(e,t){var n;n=e.getHtmlObject(),n.bind("dblclick",{tag:e},function(e){var t,n,r;t=e.data.tag,r=$(this),n=t.getSource(),r.val()==="["+n+"]"&&r.val(""),r.css("cursor","text"),t.setFocus(!0),t.lock(),r.css("cursor ","text"),Designer.ui.core.disableKeyEvent(),Designer.event.setListenerMode(!1),t.resize.lock(!0),YAHOO.util.Event.stopEvent(e),r.focus(),r.select(),r.unbind("click"),r.bind("click",{},function(e){t.setFocus(!0)}),r.unbind("keydown"),r.bind("keydown",function(e){e.keyCode===13&&(!e.shiftKey||t.getAttribute("data-multiline").getValue()==="false")&&$(this).blur()}),r.unbind("blur"),r.bind("blur",{},function(e){var n;n=$(this),n.css("cursor","move"),D.getCurrent()&&D.getCurrent()===t&&t.setResizable(!0),t.getAttribute("value").setValue(n.val()),t.save(!1,!0,!1),Designer.ui.core.enableKeyEvent(),Designer.event.setListenerMode(!0),t.resize.unlock(!0),t.unlock(),n.css("cursor ","move")})})},changeType:function(e,t){var n,r,i,s,o,u,a,f,l,c;r=e.getId(),l=$("#"+r),i=e.getAttribute("value").getValue(),u=e.getSource(),f=l.attr("class"),a=l.attr("style"),o=$._data(l,"events"),c=$("<"+t+"/>").attr("id","tmp-"+r),c.appendTo("#"+e.overlay.id+" .bd"),c.addClass(f),c.attr("style",a),!i&&u&&(i="["+u+"]"),l.remove(),t==="textarea"?c.html(i):(c.val(i),document.getElementById("tmp-"+r).setAttribute("type","text")),c.prop("id",r);for(n in o)s=o[n][0],c.bind(s.type,s.data,s.handler)}});

/** minified js  - from ../walib/WAF/widget/richText/widget-richText.js at Thu, 09 Apr 2015 09:51:38 GMT */

WAF.Widget.provide("RichText",{},function(t,n,r){var i,s,o;t=t||{},o=$(this.containerNode),s=this.plainText=n.plainText=="false"||n.plainText===!1?!1:!0,this.sourceAtt?this.sourceAtt.addListener(function(e){var t=e.data.widget,r=t.getFormattedValue(undefined,!1);n.link&&o.html('<a href="'+n.link+'" target="'+n.target+'">'+r+"</a>"),t.setValue(r)},{id:t.id,listenerID:t.id,listenerType:"staticText",subID:t.subID?t.subID:null},{widget:this}):this.plainText||(i=o.html(),i=WAF.utils.string.htmlDecode(i),o.html(i)),i=o.html().replace(/\n/g,"<br/>"),i=this.getFormattedValue(i,!1),n.link?(o.addClass("link"),o.html('<a href="'+n.link+'" target="'+n.target+'">'+i+"</a>")):o.html(i);switch(n.overflow){case"Horizontal":o.css({"overflow-x":"auto","overflow-y":"hidden"});break;case"Vertical":o.css({"overflow-x":"hidden","overflow-y":"auto"});break;case"Both":o.css({"overflow-x":"auto","overflow-y":"auto"});break;case"Hidden":default:}o.removeAttr("data-link"),n.autoWidth=="true"&&o.css({width:"auto",height:"auto","min-width":o.width()}),n.labelFor&&o.bind("click",function(){var e=n.labelFor,t=$$(e);t&&t.focus(!0)}),this.plainText?this._value=WAF.utils.string.htmlDecode(o.html()):this._value=o.html()},{_value:null,setValue:function(e){this.plainText?this.$domNode.text(e):this.$domNode.html(e),this._value=e},setURL:function(e,t){var n=this.$domNode,r=this.$domNode.text();t&&this.$domNode.attr("data-target",t),t=this.$domNode.attr("data-target"),this.$domNode.attr("data-link",e),e?(n.addClass("link"),n.html('<a href="'+e+'" target="'+t+'">'+r+"</a>")):(n.removeClass("link"),n.html(r))},getURL:function(){return this.$domNode.attr("data-link")}});

/** minified js  - from ../walib/WAF/widget/richText/widget-richText-conf.js at Thu, 09 Apr 2015 09:51:38 GMT */

WAF.addWidget({packageName:"Widget/richText",type:"richText",lib:"WAF",description:"Text",category:"Deprecated Widgets",img:"../walib/WAF/widget/richText/icons/widget-richText.png",include:[],tag:"div",attributes:[{name:"data-binding",description:"Source",context:["protected"]},{name:"class",description:"Css class"},{name:"data-format",description:"Format",context:["protected"]},{name:"data-autoWidth",description:"Auto resize",type:"checkbox",defaultValue:"true"},{name:"data-label",description:"Label",ready:function(){var e,t,n,r;n=Designer.env.tag.selection,r=n.count(),r<=0?this.data.tag.getAttribute("data-binding").getValue()||this.getHtmlObject().parent().parent().hide():D.ui.selection.getAttribute("data-binding").getValue()||this.getHtmlObject().parent().parent().hide()}},{name:"data-text",description:"Text",type:"textarea",context:["protected"]},{name:"data-inline",visibility:"hidden"},{name:"data-labelFor",visibility:"hidden"},{name:"data-label-position",description:"Label position",defaultValue:"left"},{name:"data-link",description:"URL",context:["protected"],onchange:function(){this.getValue()?$("#dropdown-data-target").parent().parent().show():$("#dropdown-data-target").parent().parent().hide()}},{name:"data-target",description:"Target",type:"dropdown",options:["_blank","_self"],defaultValue:"_blank",context:["protected"],ready:function(){var e,t,n,r;n=Designer.env.tag.selection,r=n.count(),r<=0?this.data.tag.getAttribute("data-link").getValue()||this.getHtmlObject().parent().parent().hide():D.ui.selection.getAttribute("data-link").getValue()||this.getHtmlObject().parent().parent().hide()}},{name:"data-overflow",description:"Scrollbar",type:"dropdown",options:["Hidden","Horizontal","Vertical","Both"],defaultValue:"Hidden"},{name:"data-plainText",description:"Plain text",type:"checkbox",defaultValue:"true",context:["protected"]}],style:[{name:"width",defaultValue:"50px"},{name:"height",defaultValue:"16px"}],events:[{name:"click",description:"On Click",category:"Mouse Events"},{name:"dblclick",description:"On Double Click",category:"Mouse Events"},{name:"mousedown",description:"On Mouse Down",category:"Mouse Events"},{name:"mouseout",description:"On Mouse Out",category:"Mouse Events"},{name:"mouseover",description:"On Mouse Over",category:"Mouse Events"},{name:"mouseup",description:"On Mouse Up",category:"Mouse Events"},{name:"touchstart",description:"On Touch Start",category:"Touch Events"},{name:"touchend",description:"On Touch End",category:"Touch Events"},{name:"touchcancel",description:"On Touch Cancel",category:"Touch Events"}],properties:{style:{theme:!1,fClass:!0,text:!0,background:!0,border:!0,sizePosition:!0,label:!0,textShadow:!0,dropShadow:!0,innerShadow:!0,disabled:["border-radius"]}},onInit:function(e){return new WAF.widget.RichText(e)},onDesign:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d;o=n.getHtmlObject(),f=n.getWidth(),l=n.getHeight(),h=n.getAttribute("data-text").getValue(),p=n.getAttribute("data-plainText").getValue()=="true",n.getSource()?(s="["+n.getSource()+"]",h&&(s=h),n._oldTextValue=null,n._oldLabelValue=n.getAttribute("data-label").getValue(),n._oldSource=n.getSource()):(n._oldLabelValue&&n.getAttribute("data-label").setValue(""),n.getLabel()&&(D.tag.deleteWidgets(n.getLabel()),n._linkedTag=null),s=n.getAttribute("data-text").getValue(),n.getAttribute("data-inline")&&n.getAttribute("data-inline").getValue()=="true"&&(s=s.replace(/\n/g," "),n.setAttribute("data-text",s),n.domUpdate()),n._oldLabelValue=null,n._oldTextValue=s),n.getAttribute("data-link").getValue()&&o.addClass("link"),s=s.replace(/\n/g,"<br />"),n._getTmpHtmlObject=function(t){var n;return $("#waf-tmp-div").length>0?n=$("#waf-tmp-div"):n=$('<div id="waf-tmp-div">'),n.appendTo("body"),n.html(t),n.css({"font-size":this.getComputedStyle("font-size"),"font-style":this.getComputedStyle("font-style"),"font-family":this.getComputedStyle("font-family"),"font-weight":this.getComputedStyle("font-weight"),"text-decoration":this.getComputedStyle("text-decoration"),"text-align":this.getComputedStyle("text-align"),"letter-spacing":this.getComputedStyle("letter-spacing"),position:"absolute","z-index":"10000",left:"-1000px",top:"-1000px",background:"#FFCC66"}),n},d=n._getTmpHtmlObject(s),u=d.width(),a=d.height(),p?o.text(s):o.html(s),n.getAttribute("data-autoWidth").getValue()==="true"&&(u>0&&u!=f&&n.setWidth(u),a>0&&a!=l&&!n.isFitToBottom()&&n.setHeight(a)),n.dblClickFn=function(t){var n,r,i,s,o,u,a;a=t.data&&t.data.tag?t.data.tag:D.getCurrent(),Designer.ui.core.disableKeyEvent(),Designer.event.setListenerMode(!1),a.resize.lock(!0),YAHOO.util.Event.stopEvent(t),$(this).prop("disabled","disabled"),a.lock(),a.setFocus(!0,!1),t.data||D.tag.refreshPanels(),u=a.getHtmlObject(),n=a.getAttribute("data-text").getValue(),i=a._getTmpHtmlObject(n),a.getParent().getType()=="menuItem"||a.getAttribute("data-inline").getValue()=="true"?r=$("<input>").attr("value",n):r=$("<textarea>").html(n),r.css({"font-size":"inherit","font-family":"inherit","font-style":"inherit","font-weight":"inherit","text-decoration":"inherit","text-align":"inherit","background-color":"transparent",border:"none",width:"100%",height:"100%",resize:"none"}),u.html(r),r.select(),r.bind("keydown",{},function(e){var t;t=$(this).val(),t+=e.shiftKey&&e.keyCode==13?"<br />":String.fromCharCode(e.keyCode),this.refresh=function(){a.getAttribute("data-inline")&&a.getAttribute("data-inline").getValue()=="true"?i.html(t.replace(/\n/g," ")+"-"):i.html(t.replace(/\n/g,"<br />")+"-"),a.getAttribute("data-autoWidth").getValue()==="true"&&(s=i.width(),o=i.height(),s>0&&a.setWidth(s,!1),o>0&&!a.isFitToBottom()&&a.setHeight(o,!1))};switch(e.keyCode){case 13:if(a.getAttribute("data-inline").getValue()=="true"){e.preventDefault(),this.blur();break}e.shiftKey?this.refresh():this.blur();break;default:e.keyCode>=37&&e.keyCode<=40||this.refresh()}}),r.bind("blur",{tag:a},function(e){var t,n;t=e.data.tag,n=$(this).val(),t.getAttribute("data-inline")&&t.getAttribute("data-inline").getValue()=="true"&&(n=n.replace(/\n/g," ")),t.getAttribute("data-text").setValue(n),t.update(),t.domUpdate(),D.tag.refreshPanels(),t.getHtmlObject().html(n.replace(/\n/g,"<br />")),t.unlock(),Designer.ui.core.enableKeyEvent(),Designer.event.setListenerMode(!0),t.resize.unlock(!0)})},o.bind("dblclick",{tag:n},n.dblClickFn),!n.binded&&o.get(0)&&o.get(0).addEventListener&&(n.binded=!0,o.get(0).addEventListener("onWidgetCSSLoaded",function(){Designer.env.enableModificationNotification=!1,n.onDesign(!0),Designer.env.enableModificationNotification=!0},!1)),d.remove()}});

/** minified js  - from ../walib/WAF/widget/container/widget-container.js at Thu, 09 Apr 2015 09:51:38 GMT */

WAF.Widget.provide("Container",{},function(t,n,r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E;i=this,s=$(this.containerNode),t["data-scrollable"]=="true"?E=!0:E=!1,o=s.children(".waf-split-container"),l=o.length,v={},y={},m=this.containerNode.offsetWidth,g=this.containerNode.offsetHeight,b=s.parent(),s.children(".waf-splitter").remove(),WAF.PLATFORM.modulesString=="mobile"&&E&&l===0&&$("#"+t.id).css("-webkit-overflow-scrolling","touch").css("overflow","scroll");if(l>0){f=this._getSplitType();switch(f){case"horizontally":h=0,p=i._splitterHeight,d=s.width(),c=parseInt($(o[0]).css("height"))-p/2,this._tmpPosition=c,y["border-top"]=y["border-bottom"]="1px solid #AEAEAE",v={axis:"y"},w=function(e,t){var n,r,s;r=e.data.splitted,s=e.data.htmlObject,n=t.position.top+p/2,i._tmpPosition=n,$.each(r,function(){var e,r;r=s.height(),e=$(this),e.is(":first-child")?e.css("height",n+"px"):(e.css("top",n+"px"),e.css("height",r-t.position.top-p/2+"px")),$$(e.prop("id"))&&$$(e.prop("id"))._resizeSplitters()})};break;case"vertically":c=0,d=i._splitterWidth,p=s.height(),h=parseInt($(o[0]).css("width"))-d/2,this._tmpPosition=h,y["border-left"]=y["border-right"]="1px solid #AEAEAE",v={axis:"x"},w=function(e,t){var n,r;n=e.data.splitted,r=e.data.htmlObject,i._saveSplitPosition(t.position.left),$.each(n,function(){var e,n,s;s=r.width(),n=$(this),e=t.position.left+d/2,i._tmpPosition=e,n.is(":first-child")?n.css("width",e+"px"):(n.css("left",e+"px"),n.css("width",s-t.position.left-d/2+"px")),$$(n.prop("id"))&&$$(n.prop("id"))._resizeSplitters()})}}v.containment="parent",$.extend(y,{width:d+"px",height:p+"px",left:h+"px",top:c+"px",cursor:f=="horizontally"?"row-resize":"col-resize","z-index":8888888}),u=$("<div>"),u.prop("id","waf-splitter-"+s.prop("id")).addClass("waf-splitter").css(y).draggable(v).appendTo(s).bind("drag",{splitted:o,htmlObject:s},w).bind("dblclick",function(){i.toggleSplitter()}),i._splitter=u,!!n.hideSplitter&&n.hideSplitter==="true"&&u.css("visibility","hidden"),this._initTmpPosition=this._tmpPosition,this._lastSetSize=null,o=i.$domNode.children(".waf-split-container"),l=o.length;if(this.$domNode.parents("#cms-body").length>0){var S=this._checkResize();S&&this._callResizeEvents&&(this._callResizeEvents("on"),$(window).resize(function(){(S.x||S.y)&&i._callResizeEvents("on")}))}}},{ready:function(){var e,t,n,r;e=this,n=this.$domNode.children(".waf-split-container"),r=n.length,r>0&&($.each(n,function(){e._splitted.push($$($(this).prop("id")))}),this._button=$$(this.config["data-popup-display-button"]),this._button&&(this._button.hide(),WAF.PLATFORM.isTouch?this._button.$domNode.bind("touchstart",{that:this},function(e){e.data.that._displayFloatContainer()}):this._button.$domNode.bind("click",{that:this},function(e){e.data.that._displayFloatContainer()}))),this._button&&this._splitter.hide(),t=window.outerWidth<window.outerHeight?"profile":"landscape",this._button&&(t=="profile"?this.mobileSplitView(!0):this.mobileSplitView(!1),WAF.PLATFORM.isTouch&&($("body").bind("touchstart",{that:this},function(n){var r=$(n).closest(".waf-split-container")[0]&&n.target.closest(".waf-split-container")[0].id,i,s=$(window);t=s.width()<s.height()?"profile":"landscape",r&&n.target.id!=n.data.that._button.id&&n.target.offsetParent.id!=n.data.that._button.id&&r!=e._splitted[0].id&&t=="profile"&&(floatContainer=n.data.that._splitted[0],floatContainer.$domNode[0].style.visibility==="visible"&&floatContainer.toggle("visibility"))}),$(window).bind("orientationchange",{widget:e},function(e){var t,n,r=$(window);n=e.data.widget,t=r.width()<r.height()?"profile":"landscape",t=="profile"?n.mobileSplitView(!0):n.mobileSplitView(!1),n._callResizeEvents&&n._callResizeEvents("on")})))},_button:null,_splitType:null,_splitted:[],_tmpPosition:0,_display:!1,onResize:function(){this.hasSplitter()?this._resizeSplitters("on"):$.each(this.getChildren(),function(){this._callResizeEvents&&this._callResizeEvents("on")})},toggleSplitter:function(){this._tmpPosition<=2?(this._tmpPosition=this._lastSetSize?this._lastSetSize:this._initTmpPosition,this.expandSplitter()):this._splitStatus=="collapse"&&this._lastSetSize!=this.getSplitPosition()?this.expandSplitter():this.collapseSplitter()},collapseSplitter:function(){this._splitStatus="collapse",this.setSplitPosition(0,!1,!1)},expandSplitter:function(){this._tmpPosition=this._lastSetSize?this._lastSetSize:this._initTmpPosition,this._splitStatus="expand",this.setSplitPosition(this._tmpPosition,!1,!1)},hasSplitter:function(){var t;return t=!1,this._hasSplitter?t=this._hasSplitter:this.$domNode.find(".waf-splitter").length>0&&(t=!0,this._hasSplitter=t),t},stopResize:function(){this.hasSplitter()?this._resizeSplitters("stop"):$.each(this.getChildren(),function(){this._callResizeEvents&&this._callResizeEvents("stop")})},startResize:function(){this.hasSplitter()?this._resizeSplitters("start"):$.each(this.getChildren(),function(){this._callResizeEvents&&this._callResizeEvents("start")})},getSplitPosition:function(){var t,n,r,i;return n=this._getSplitType(),r=$(this.containerNode),t=r.children(".waf-splitter"),n==="horizontally"?i=parseInt(t.css("top")):i=parseInt(t.css("left")),i},setSplitPosition:function(t,n,r){var i,s,o,u,a,f,l;i=this,s=$(this.containerNode),u=s.children(".waf-split-container"),o=s.children(".waf-splitter"),f=this._getSplitType();switch(f){case"horizontally":a=i._splitterHeight,l=s.height(),t>l&&(t=l-a),o.css("top",t+"px"),$.each(u,function(){var e,r;n?e=0:e=a/2,r=$(this),r.is(":first-child")?r.css("height",t+e+"px"):(r.css("top",t+e),r.css("height",l-t-e+"px")),$$(r.prop("id"))._resizeSplitters()});break;case"vertically":a=i._splitterWidth,l=s.width(),t>l&&(t=l-a),o.css("left",t+"px"),$.each(u,function(){var e,r;n?e=0:e=a/2,r=$(this),r.is(":first-child")?r.css("width",t+e+"px"):(r.css("left",t+e),r.css("width",l-t-e+"px")),$$(r.prop("id"))._resizeSplitters()})}if(typeof r=="undefined"||r!==!1)this._lastSetSize=t},_splitterWidth:5,_splitterHeight:5,_getSplitType:function(){var t,n;return t=$(this.containerNode).children(),this._splitType!=null?n=this._splitType:(t.length>1?$(t[0]).css("left")=="0px"&&$(t[1]).css("left")=="0px"?n="horizontally":n="vertically":n="",this._splitType=n),n},_resizeSplitters:function(t){var n,r,i,s,o,u,a,f,l;n=$(this.containerNode),l=this,s=n.children(":not(.waf-split-container-float)"),t=t||"on",s.length>0&&n.css("overflow","hidden"),o=parseInt(n.css("height")),u=parseInt(n.css("width")),f=n.children(".waf-splitter"),a=this._getSplitType(),$.each(s,function(e){var i,s,c,h,p;r=$(this),h=$$(r.prop("id")),s=parseInt(r.css("left")),c=parseInt(r.css("top")),r.resizeChildren=n.resizeChildren;if(r.is(".waf-split-container")){switch(a){case"horizontally":if(c!=0||l._display)i=o-c,r.css("height",i+"px");r.css("width",u+"px"),f.css("width",u+"px");break;case"vertically":if(s!=0||l._display)i=u-s,r.css("width",i+"px");r.css("height",o+"px"),f.css("height",o+"px")}h&&h._resizeSplitters(t)}h&&h._checkResize&&(p=h._checkResize(),(p.x||p.y)&&h._callResizeEvents(t))});if(this._button){var i,c=$(window);i=c.width()<c.height()?"profile":"landscape",i=="profile"?l.mobileSplitView(!0):l.mobileSplitView(!1)}},_saveSplitPosition:function(t){var n,r,i;i=$("#"+this.id),i.data("dsPos")?n=i.prop("id")+"-"+i.data("dsPos"):(r=i.parents("[data-dsPos]"),r.length>0&&(n=i.prop("id")+"-"+r.data("dsPos"))),WAF._tmpSplitPosition||(WAF._tmpSplitPosition={}),n&&(WAF._tmpSplitPosition[this.id]=t)},_displayFloatContainer:function(){var e,t,n,r,i,s;n=this._button.$domNode,s=this._splitted[0],i=s.$domNode,buttonOffset=n.offset(),t=buttonOffset.left,e=buttonOffset.top+n.height()+15,s.toggle("visibility"),i.addClass("waf-container-split-mobile"),buttonOffset.top<window.innerHeight/2?i.css({left:t+"px",top:e+"px",width:this._initTmpPosition+"px"}):i.css({left:t+"px",top:"15px",bottom:window.innerHeight-buttonOffset.top+10+"px",width:this._initTmpPosition+"px"})},mobileSplitView:function(t){var n,r,i,s;if(t==this._display||!this._splitter)return!1;n=this,this._display=t,i=this._splitted[0],t?(r=i.$domNode,this.setSplitPosition(0,!0),r.css({width:this._initTmpPosition+"px",position:"fixed","z-index":10}).addClass("waf-split-container-float"),i.hide("visibility"),this._splitted[1].$domNode.css({left:"0px",width:window.innerWidth+"px","z-index":9}),this._splitter.css("visibility","hidden"),this._button.show(),i._callResizeEvents("on"),this._splitted[1]._callResizeEvents("on")):(i.show(),i.$domNode.css({left:0,top:0,"z-index":9,position:"absolute",height:this.getHeight()}).removeClass("waf-split-container-float").removeClass("waf-container-split-mobile"),this._button.hide(),s=i.$domNode.width(),this._splitted[1].$domNode.css({left:i.$domNode.width()+"px","z-index":10,width:window.innerWidth-s}),i._callResizeEvents("on"),this._splitted[1]._callResizeEvents("on"))}});

/** minified js  - from ../walib/WAF/widget/container/widget-container-conf.js at Thu, 09 Apr 2015 09:51:38 GMT */

WAF.addWidget({packageName:"Widget/container",type:"container",lib:"WAF",description:"Container",category:"Deprecated Widgets",img:"../walib/WAF/widget/container/icons/widget-container.png",tag:"div",attributes:[{name:"class",description:"Css class"},{name:"data-draggable",description:"Draggable",type:"checkbox",platform:"desktop"},{name:"data-resizable",description:"Resizable",type:"checkbox",platform:"desktop"},{name:"data-scrollable",description:"Scrollable",type:"checkbox",platform:"mobile"},{name:"data-hideSplitter",description:"Hide splitters",type:"checkbox",category:"Splitter Options",ready:function(){var e;e=this.data.tag,e._containers||this.formPanel.getHtmlObject().hide()}},{name:"data-popup-display-button",description:"Left splitter button",category:"Splitter Options"},{name:"data-label",description:"Label",defaultValue:""},{name:"is-container",type:"boolean",defaultValue:!0,visibility:"hidden"},{name:"data-label-position",description:"Label position",defaultValue:"top"},{name:"data-label-valign",description:"Label position",defaultValue:"top",visibility:"hidden"}],style:[{name:"width",defaultValue:"294px"},{name:"height",defaultValue:"211px"}],events:[{name:"click",description:"On Click",category:"Mouse Events"},{name:"dblclick",description:"On Double Click",category:"Mouse Events"},{name:"mousedown",description:"On Mouse Down",category:"Mouse Events"},{name:"mouseout",description:"On Mouse Out",category:"Mouse Events"},{name:"mouseover",description:"On Mouse Over",category:"Mouse Events"},{name:"mouseup",description:"On Mouse Up",category:"Mouse Events"},{name:"startResize",description:"On Start Resize",category:"Resize"},{name:"onResize",description:"On Resize",category:"Resize"},{name:"stopResize",description:"On Stop Resize",category:"Resize"},{name:"touchstart",description:"On Touch Start",category:"Touch Events"},{name:"touchend",description:"On Touch End",category:"Touch Events"},{name:"touchmove",description:"On Touch Move",category:"Touch Events"},{name:"touchcancel",description:"On Touch Cancel",category:"Touch Events"}],properties:{style:{theme:{roundy:!1},fClass:!0,text:!1,background:!0,border:!0,sizePosition:!0,dropShadow:!0,innerShadow:!0,label:!1,disabled:[]}},onInit:function(e){return new WAF.widget.Container(e)},onDesign:function(e,t,n,r,i){var s,o,u,a,f,l,c;c="waf-split-container",l=n.getHtmlObject(),a=n.getChildren(),f=a.length,i&&n._containers&&n.resizeSplitted();if(i&&a.length>0)for(s=0;s<f;s+=1)o=a[s],o&&!o.isDeleted()&&(o.getType()=="matrix"&&(o._isFitToRight&&o._isFitToLeft||o._isFitToTop&&o._isFitToBottom)&&o.rebuild(),o.getType()=="accordion"&&(o._isFitToRight&&o._isFitToLeft||o._isFitToTop&&o._isFitToBottom)&&o.resize(!0),D.ui.focus.setPosition(o),D.ui.focus.setSize(o));u=n.getParent(),i&&u&&u.getType()=="tabView",u&&u.getType()==="matrix"?n._states=[{label:"selected",cssClass:"waf-state-selected"}]:n._states=null},onCreate:function(e,t){var n,r,i,s;r="waf-split-container",i=e.getHtmlObject(),e.getFirstParent=function(){var e;return e=this.getParent(),e&&e.isContainer()?e._isSplit&&(e=e.getFirstParent()):e=this,e},e.split=function(t){var n,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S;t=t||{},u=t.nb||2,a=t.type||"vertically",y=this.getHtmlObject(),g=this,n=y.innerWidth(),i=y.innerHeight(),o=[];switch(a){case"horizontally":h=n,p=n,d=t.position||Math.round(i/u),v=i-d;break;case"vertically":h=t.position||Math.round(n/u),p=n-h,d=i,v=i}l=0,c=0,w=g.getChildren(),E=w.length;for(m=0;m<u;m+=1){s=new Designer.tag.Tag(Designer.env.tag.catalog.getConfByKey("container")),s._isSplit=!0,s.create(),s.addClass(r),s.setXY(l,c,!0),s.setWidth(h),s.setHeight(d),m==0?(s.setWidth(h),s.setHeight(d)):(s.setWidth(p),s.setHeight(v)),s.setParent(g),f=s.getHtmlObject(),f.addClass(r);switch(a){case"horizontally":c+=d;break;case"vertically":l+=h}o.push(s),s.fix()}b=g.getFirstParent(),g._containers=o,g.addSplitter(a);if(w&&E>0){Designer.tag.createPositionConstraintList(w),Designer.tag.cleanPositionConstraints();for(m=0;m<E;m+=1)w[m].status!="destroy"&&w[m].setParent(o[0]);Designer.tag.restorePositionConstraints()}b.setCurrent(),D.tag.refreshPanels()},e.addSplitter=function(t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m;n=this,i=n.getHtmlObject(),c=n._containers,r=$("<div>"),h=c?c.length:0,f={containment:"parent"},l={},v=i.parents(".waf-matrix"),m=!1,v.length>0&&(m=!0,d=D.tag.getTagById(v.prop("id"))),p=function(){var e,t,n,r;n=Designer.getSelection(),r=n.count(),t=D.getCurrent();if(r>0)for(e=0;e<n.count();e+=1)t=n.get(e),Designer.ui.focus.setPosition(t),Designer.ui.focus.setSize(t);else t&&(Designer.ui.focus.setPosition(t),Designer.ui.focus.setSize(t))};switch(t){case"horizontally":s=0,o=5,u=i.width(),a=c[0].getHeight()-o/2,$.extend(f,{axis:"y",drag:function(e,t){var r,i,s;s=h;for(r=0;r<s;r+=1)i=c[r],r===0?i.setHeight(t.position.top+o/2):(i.setY(t.position.top+o/2,!0),i.setHeight(parseInt(n.getHtmlObject().css("height"))+1-t.position.top-o/2)),i.domUpdate(),p()}}),l["border-top"]=l["border-bottom"]="1px solid #AEAEAE";break;case"vertically":a=0,u=5,o=i.height(),s=c[0].getWidth()-u/2,$.extend(f,{axis:"x",stop:function(){D.env.resizeSplit=!1},drag:function(e,t){var r,i,s;s=h;for(r=0;r<s;r+=1)i=c[r],r===0?i.setWidth(t.position.left+u/2):(i.setX(t.position.left+u/2,!0),i.setWidth(parseInt(n.getHtmlObject().css("width"))+1-t.position.left-u/2)),i.domUpdate(),p()}}),l["border-left"]=l["border-right"]="1px solid #AEAEAE"}return f.start=function(e,n){var r,i,s;s=h,i=[];for(r=0;r<s;r+=1)t=="vertically"?i.push(c[r].getWidth()):i.push(c[r].getHeight());this.oldValue=i},f.stop=function(e,r){var i,s,o;Designer.beginUserAction("061"),o=h,s=[];for(i=0;i<o;i+=1)c[i].domUpdate(),t=="vertically"?s.push(c[i].getWidth()):s.push(c[i].getHeight());m&&d.rebuild();var u=new Designer.action.SplitContainer({val:"0",oldVal:"1",tagId:n.id,tagHtmlId:n.getId,prop:"resizeSplit",data:{splitType:t,currentTag:D.getCurrent(),newValue:s,oldValue:this.oldValue}});Designer.getHistory().add(u)},$.extend(l,{width:u+"px",height:o+"px",left:s+"px",top:a+"px",cursor:t=="horizontally"?"row-resize":"col-resize","z-index":100}),r.addClass("waf-splitter").bind("mousedown",{},function(e){n.lock()}).bind("mouseup",{},function(e){n.unlock()}).css(l).draggable(f).appendTo(n.getHtmlObject()),m&&d.rebuild(),i},e.getSplitter=function(){var t,n,r,i;return t=this,n=t.getHtmlObject(),r=n.children(".waf-splitter"),r.length===0?i=null:i=r,i},e.getSplitOrientation=function(){var t,n,r,i,s,o;n=this,s=n._containers;if(s){r=s.length;if(s&&r>0)for(t=0;t<r;t+=1)i=s[t],i.getX()===0?o="horizontally":o="vertically"}return o},e.resizeSplitted=function(){var t,n,r,i,s,o,u,a,f,l,c,h;n=this,r=n.getHtmlObject(),i=parseInt(r.css("width")),s=parseInt(r.css("height")),o=n.getChildren(),u=o.length,c=n.getSplitOrientation(),h=n.getSplitter();if(h)switch(c){case"horizontally":h.css("width",i+"px");break;case"vertically":h.css("height",s+"px")}if(o&&u>0)for(t=0;t<u;t+=1){a=o[t];if(a._isSplit){f=a.getX(),l=a.getY();switch(c){case"horizontally":l!=0&&a.setHeight(s-l),a.setWidth(i);break;case"vertically":f!=0&&a.setWidth(i-f),a.setHeight(s)}}}n._containers=o},e.getAttribute("class").getValue().match(r)&&(i.addClass(r),s=e.getParent(),e._isSplit=!0,s._containers?s._containers.push(e):s._containers=[e],e.fix(),n=0,$.each(s._elementNode.getChildNodes(),function(){this.tagName&&(n+=1)}),!s.getSplitter()&&n==s._containers.length&&s.addSplitter(s.getSplitOrientation())),$(e).bind("onFileDrop",$._data(D.doc.tag,"events").onFileDrop[0].handler),$(e).bind("onWidgetCopy",function(e,t){var n,r,i,s,o;if(t._containers){this._containers=[],i=this.getChildren(),o=i.length;for(n=0;n<o;n+=1)r=i[n],r._isSplit=!0,s=r.getHtmlObject(),this._containers.push(r),r.fix();this.addSplitter(t.getSplitOrientation())}})}});

/** minified js  - from /index.waPage/scripts/index.js at Thu, 09 Apr 2015 09:51:38 GMT */

WAF.onAfterInit=function(){function d(e){if(!e.dataSource.ID||p<7)return;var t=e.dataSource.type,n=e.dataSource.ID;sources.wam.query("type = "+t),sources.addons.selectByKey(n)}function v(){var e=$("#textField1").val();sources.addons.query("(name == *"+e+"* || description  == *"+e+"* || owner == *"+e+"* )")}function m(e){sources.addons.query("type == "+e)}var t={},n={},r={},i={},s={},o={},u={},a={},f={},l={},c={},h={},p=0;n.onCurrentElementChange=function(t){if(!t.dataSource.ID)return;p|=1,d(t)},r.onCurrentElementChange=function(t){if(!t.dataSource.ID)return;p|=2,d(t)},i.onCurrentElementChange=function(t){if(!t.dataSource.ID)return;p|=4,d(t)},s.onRowDraw=function(t){var n=4,r=1,i=5;t.row.cells[n].value!=null&&$(".content",t.row.cells[n].dom).html('<a href="'+$(".content",t.row.cells[n].dom).text()+'" target="_blank">More Info...</a>'),t.row.cells[i].value!=null&&$(".content",t.row.cells[i].dom).html('<a href="/download?id='+$(".content",t.row.cells[0].dom).text()+'">DOWNLOAD&gt;&gt;</a>')},o.keyup=function(t){t.keyCode==13&&v()},u.click=function(t){v()},a.click=function(t){m("wakandadb-drivers")},f.click=function(t){m("wakanda-modules")},l.click=function(t){m("wakanda-extensions")},c.click=function(t){m("wakanda-themes")},h.click=function(t){m("wakanda-widgets")},WAF.addListener("addons","onCurrentElementChange",t.onCurrentElementChange,"WAF"),WAF.addListener("mostDownloaded","onCurrentElementChange",n.onCurrentElementChange,"WAF"),WAF.addListener("lastUpdated","onCurrentElementChange",r.onCurrentElementChange,"WAF"),WAF.addListener("lastCreated","onCurrentElementChange",i.onCurrentElementChange,"WAF"),WAF.addListener("dataGrid1","onRowDraw",s.onRowDraw,"WAF"),WAF.addListener("textField1","keyup",o.keyup,"WAF"),WAF.addListener("button6","click",u.click,"WAF"),WAF.addListener("button5","click",a.click,"WAF"),WAF.addListener("button4","click",f.click,"WAF"),WAF.addListener("button3","click",l.click,"WAF"),WAF.addListener("button2","click",c.click,"WAF"),WAF.addListener("button1","click",h.click,"WAF")};